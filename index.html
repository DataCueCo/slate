
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>DataCue API</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
    <link rel="icon" type="image/png" sizes="32x32" href="images/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="images/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="images/favicon-16x16.png">
      
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;html&quot;,&quot;javascript&quot;,&quot;python&quot;,&quot;php&quot;]">
    <a href="#" id="nav-button">
      <span>
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo.png" class="logo" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="html">Browser</a>
              <a href="#" data-language-name="javascript">Node.js</a>
              <a href="#" data-language-name="python">Python</a>
              <a href="#" data-language-name="php">PHP</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#introduction" class="toc-h1 toc-link" data-title="Introduction">Introduction</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#sample-code" class="toc-h2 toc-link" data-title="Sample code">Sample code</a>
                  </li>
                  <li>
                    <a href="#getting-started" class="toc-h2 toc-link" data-title="Getting started">Getting started</a>
                  </li>
                  <li>
                    <a href="#quick-facts" class="toc-h2 toc-link" data-title="Quick facts">Quick facts</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#store-frontend" class="toc-h1 toc-link" data-title="Store Frontend">Store Frontend</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#include-datacue-js-library" class="toc-h2 toc-link" data-title="Include DataCue JS library">Include DataCue JS library</a>
                  </li>
                  <li>
                    <a href="#the-config-object" class="toc-h2 toc-link" data-title="The config object">The config object</a>
                  </li>
                  <li>
                    <a href="#inserting-banners" class="toc-h2 toc-link" data-title="Inserting banners">Inserting banners</a>
                  </li>
                  <li>
                    <a href="#inserting-products" class="toc-h2 toc-link" data-title="Inserting products">Inserting products</a>
                  </li>
                  <li>
                    <a href="#sending-other-events" class="toc-h2 toc-link" data-title="Sending other events">Sending other events</a>
                  </li>
                  <li>
                    <a href="#parameter-breakdown" class="toc-h2 toc-link" data-title="Parameter breakdown">Parameter breakdown</a>
                  </li>
                  <li>
                    <a href="#cart-update" class="toc-h2 toc-link" data-title="Cart update">Cart update</a>
                  </li>
                  <li>
                    <a href="#add-product-to-wishlist" class="toc-h2 toc-link" data-title="Add product to wishlist">Add product to wishlist</a>
                  </li>
                  <li>
                    <a href="#remove-product-from-wishlist" class="toc-h2 toc-link" data-title="Remove product from wishlist">Remove product from wishlist</a>
                  </li>
                  <li>
                    <a href="#checkout-started" class="toc-h2 toc-link" data-title="Checkout started">Checkout started</a>
                  </li>
                  <li>
                    <a href="#user-login" class="toc-h2 toc-link" data-title="User Login">User Login</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#optional-events" class="toc-h1 toc-link" data-title="Optional Events">Optional Events</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#home-pageview" class="toc-h2 toc-link" data-title="Home pageview">Home pageview</a>
                  </li>
                  <li>
                    <a href="#product-pageview" class="toc-h2 toc-link" data-title="Product pageview">Product pageview</a>
                  </li>
                  <li>
                    <a href="#category-pageview" class="toc-h2 toc-link" data-title="Category pageview">Category pageview</a>
                  </li>
                  <li>
                    <a href="#search" class="toc-h2 toc-link" data-title="Search">Search</a>
                  </li>
                  <li>
                    <a href="#banner-click" class="toc-h2 toc-link" data-title="Banner click">Banner click</a>
                  </li>
                  <li>
                    <a href="#product-click" class="toc-h2 toc-link" data-title="Product click">Product click</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#overview" class="toc-h1 toc-link" data-title="Overview">Overview</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#summary" class="toc-h2 toc-link" data-title="Summary">Summary</a>
                  </li>
                  <li>
                    <a href="#get-products" class="toc-h2 toc-link" data-title="Get Products">Get Products</a>
                  </li>
                  <li>
                    <a href="#get-categories" class="toc-h2 toc-link" data-title="Get Categories">Get Categories</a>
                  </li>
                  <li>
                    <a href="#get-orders" class="toc-h2 toc-link" data-title="Get Orders">Get Orders</a>
                  </li>
                  <li>
                    <a href="#get-users" class="toc-h2 toc-link" data-title="Get Users">Get Users</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#products" class="toc-h1 toc-link" data-title="Products">Products</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#create-product" class="toc-h2 toc-link" data-title="Create Product">Create Product</a>
                  </li>
                  <li>
                    <a href="#update-product" class="toc-h2 toc-link" data-title="Update Product">Update Product</a>
                  </li>
                  <li>
                    <a href="#delete-product" class="toc-h2 toc-link" data-title="Delete Product">Delete Product</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#categories" class="toc-h1 toc-link" data-title="Categories">Categories</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#create-category" class="toc-h2 toc-link" data-title="Create Category">Create Category</a>
                  </li>
                  <li>
                    <a href="#update-category" class="toc-h2 toc-link" data-title="Update Category">Update Category</a>
                  </li>
                  <li>
                    <a href="#delete-category" class="toc-h2 toc-link" data-title="Delete Category">Delete Category</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#users" class="toc-h1 toc-link" data-title="Users">Users</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#create-user" class="toc-h2 toc-link" data-title="Create User">Create User</a>
                  </li>
                  <li>
                    <a href="#update-user" class="toc-h2 toc-link" data-title="Update User">Update User</a>
                  </li>
                  <li>
                    <a href="#delete-user" class="toc-h2 toc-link" data-title="Delete User">Delete User</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#orders" class="toc-h1 toc-link" data-title="Orders">Orders</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#create-order" class="toc-h2 toc-link" data-title="Create Order">Create Order</a>
                  </li>
                  <li>
                    <a href="#change-order-status" class="toc-h2 toc-link" data-title="Change Order Status">Change Order Status</a>
                  </li>
                  <li>
                    <a href="#delete-order" class="toc-h2 toc-link" data-title="Delete Order">Delete Order</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#batch" class="toc-h1 toc-link" data-title="Batch">Batch</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#create-update-products" class="toc-h2 toc-link" data-title="Create/Update Products">Create/Update Products</a>
                  </li>
                  <li>
                    <a href="#create-update-categories" class="toc-h2 toc-link" data-title="Create/Update Categories">Create/Update Categories</a>
                  </li>
                  <li>
                    <a href="#create-orders" class="toc-h2 toc-link" data-title="Create Orders">Create Orders</a>
                  </li>
                  <li>
                    <a href="#create-update-users" class="toc-h2 toc-link" data-title="Create/Update Users">Create/Update Users</a>
                  </li>
                  <li>
                    <a href="#delete-multiple-products" class="toc-h2 toc-link" data-title="Delete Multiple Products">Delete Multiple Products</a>
                  </li>
                  <li>
                    <a href="#delete-multiple-categories" class="toc-h2 toc-link" data-title="Delete Multiple Categories">Delete Multiple Categories</a>
                  </li>
                  <li>
                    <a href="#delete-multiple-users" class="toc-h2 toc-link" data-title="Delete Multiple Users">Delete Multiple Users</a>
                  </li>
                  <li>
                    <a href="#delete-multiple-orders" class="toc-h2 toc-link" data-title="Delete Multiple Orders">Delete Multiple Orders</a>
                  </li>
                  <li>
                    <a href="#delete-all-products" class="toc-h2 toc-link" data-title="Delete All Products">Delete All Products</a>
                  </li>
                  <li>
                    <a href="#delete-all-categories" class="toc-h2 toc-link" data-title="Delete All Categories">Delete All Categories</a>
                  </li>
                  <li>
                    <a href="#delete-all-users" class="toc-h2 toc-link" data-title="Delete All Users">Delete All Users</a>
                  </li>
                  <li>
                    <a href="#delete-all-orders" class="toc-h2 toc-link" data-title="Delete All Orders">Delete All Orders</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#errors" class="toc-h1 toc-link" data-title="Errors">Errors</a>
          </li>
      </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='introduction'>Introduction</h1>
<p>Welcome to the DataCue API guide! This API documentation is to help you setup your e-commerce store to apply real time personalization to your website.</p>
<h2 id='sample-code'>Sample code</h2>
<p>We have code for your browser, Node, PHP and Python. You can view them in the dark area to the right. Click on the yellow tabs to switch the programming language. On a mobile device, switch the language using the hamburger menu on the top left.</p>
<h2 id='getting-started'>Getting started</h2>
<p>There are three major steps to complete the integration.</p>
<h3 id='1-import-your-historical-data'>1. Import your historical data</h3>
<p>This is a one-time run. Refer to the <a href="#batch">batch</a> endpoints to send us all your existing orders, products and users (sometimes called customers).</p>
<h3 id='2-integrate-future-store-data-changes'>2. Integrate future store data changes</h3>
<p>Use the appropriate endpoints to ensure all updates to your store data are synchronized with DataCue.</p>

<p>This includes:</p>

<ul>
<li><a href="#categories">Product Categories</a></li>
<li><a href="#orders">Orders</a></li>
<li><a href="#products">Products</a></li>
<li><a href="#users">Users</a></li>
</ul>
<h3 id='3-integrate-recommendations-to-your-site-with-our-javascript-library'>3. Integrate recommendations to your site with our JavaScript library</h3>
<p>Refer to the <a href="#store-frontend">store frontend</a> section to understand all the events that you can send us via our JavaScript library. All events have sample code attached, just copy/paste them and change the values as appropriate.</p>
<h2 id='quick-facts'>Quick facts</h2><h3 id='api-url'>API URL</h3>
<p>The backend data API is located at <code>https://api.datacue.co</code>.
The frontend events API is located at <code>https://events.datacue.co</code>.</p>

<p>Our javascript library interacts with <code>events.datacue.co</code> for you. This is why you don&#39;t see this URL in the frontend code samples.</p>
<h3 id='authentication'>Authentication</h3>
<blockquote>
<p>Replace <code>API-key</code> with your API key and <code>API-secret</code> with your API secret. Browser/frontend events only need your API key, while the other endpoints require both.</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$apikey</span> <span class="o">=</span> <span class="s2">"Your-API-Key-goes-here"</span><span class="p">;</span>
<span class="nv">$apisecret</span> <span class="o">=</span> <span class="s2">"Your-API-secret-goes-here"</span><span class="p">;</span>

<span class="nv">$datacue</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\DataCue\Client</span><span class="p">(</span><span class="nv">$apikey</span><span class="p">,</span> <span class="nv">$apisecret</span><span class="p">);</span>

<span class="nv">$data</span> <span class="o">=</span> <span class="p">[</span>
  <span class="s2">"name"</span>  <span class="o">=&gt;</span> <span class="s2">"Spongebob"</span><span class="p">,</span>
  <span class="s2">"email"</span> <span class="o">=&gt;</span> <span class="s2">"pineapple@underthe.sea"</span>
<span class="p">];</span>

<span class="nv">$res</span> <span class="o">=</span> <span class="nv">$datacue</span><span class="o">-&gt;</span><span class="na">users</span><span class="o">-&gt;</span><span class="na">create</span><span class="p">(</span><span class="nv">$data</span><span class="p">);</span>

<span class="cp">?&gt;</span>

</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">requests</span>

<span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.datacue.co/v1/users"</span>
<span class="n">apikey</span> <span class="o">=</span> <span class="s">"your-api-key-goes-here"</span>
<span class="n">apisecret</span> <span class="o">=</span> <span class="s">"your-api-secret-goes-here"</span>

<span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">"name"</span> <span class="p">:</span> <span class="s">'Spongebob'</span><span class="p">,</span>
  <span class="s">"email"</span> <span class="p">:</span> <span class="s">'pineapple@underthe.sea'</span>
<span class="p">}</span>
<span class="n">jsonData</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

<span class="n">checksum</span> <span class="o">=</span> <span class="n">hmac</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="nb">bytes</span><span class="p">(</span><span class="n">apisecret</span><span class="p">,</span><span class="s">'utf-8'</span><span class="p">),</span> <span class="nb">bytes</span><span class="p">(</span><span class="n">jsonData</span><span class="p">,</span> <span class="s">'utf-8'</span><span class="p">),</span> <span class="n">hashlib</span><span class="o">.</span><span class="n">sha256</span><span class="p">)</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">jsonData</span><span class="p">,</span> <span class="n">auth</span><span class="o">=</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">checksum</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">()))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">axios</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"axios"</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">cryto</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"crypto"</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">url</span> <span class="o">=</span> <span class="s2">"https://api.datacue.co/v1/users"</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">apikey</span> <span class="o">=</span> <span class="s2">"your-api-key-goes-here"</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">apisecret</span> <span class="o">=</span> <span class="s2">"your-api-secret-goes-here"</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">newUser</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">name</span><span class="p">:</span> <span class="s2">"Spongebob"</span><span class="p">,</span>
  <span class="na">email</span><span class="p">:</span> <span class="s2">"pineapple@underthe.sea"</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">hash</span> <span class="o">=</span> <span class="nx">crypto</span>
  <span class="p">.</span><span class="nx">createHmac</span><span class="p">(</span><span class="s2">"sha256"</span><span class="p">,</span> <span class="nx">apisecret</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">update</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">Stringify</span><span class="p">(</span><span class="nx">newUser</span><span class="p">));</span>

<span class="c1">//add to default authentication header</span>
<span class="nx">axios</span><span class="p">.</span><span class="nx">defaults</span><span class="p">.</span><span class="nx">auth</span> <span class="o">=</span> <span class="p">{</span> <span class="na">username</span><span class="p">:</span> <span class="s2">"API-key"</span><span class="p">,</span> <span class="na">password</span><span class="p">:</span> <span class="nx">hash</span><span class="p">.</span><span class="nx">digest</span><span class="p">(</span><span class="s2">"hex"</span><span class="p">)</span> <span class="p">};</span>

<span class="nx">axios</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">data</span><span class="p">);</span>
</code></pre><pre class="highlight html tab-html"><code><span class="nt">&lt;script&gt;</span>
  <span class="nb">window</span><span class="p">.</span><span class="nx">datacue</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="s2">"API-key"</span><span class="p">);</span>
<span class="nt">&lt;/script&gt;</span>
</code></pre>
<blockquote>
<p>Sample Headers</p>
</blockquote>
<pre class="highlight plaintext"><code>"Authorization": "Basic VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw=="
"Content-Type": "application/json"
</code></pre>
<p>You can find your API key and API secret in your <a href="https://app.datacue.co" title="Dashboard">DataCue Dashboard</a>.</p>

<p>We use HTTP Basic Authentication, the username is your <code>apikey</code> and the password is a signed hash of the JSON payload you are sending. This way you don&#39;t need to send your actual API secret with the message. You get to keep it... a secret (sorry!).</p>

<p>The store frontend events are public so you only fill in the username field with your API key and leave the password blank. Our JavaScript library manages authentication for you. Just pass the <code>apikey</code> to the <code>init()</code> method and you&#39;re done. See code sample on the right.</p>

<p>For all other endpoints, we have reference implementations on how to sign your message with your <code>apisecret</code> in Node, PHP and Python.</p>
<h3 id='content-type'>Content-Type</h3>
<p>Whenever you are sending us JSON (all endpoints except <code>DELETE</code>). Remember to set a content-type header to &quot;application/json&quot;, some http libraries will do this for you automatically.</p>

<p><code>Content-Type: application/json</code></p>
<h1 id='store-frontend'>Store Frontend</h1>
<p>Integrate DataCue to your storefront in two steps:</p>

<ol>
<li><p>Add our Javascript library and set a config object for all pages (except payment / order checkout pages)</p></li>
<li><p>Include banner and product widgets to the pages you want to show recommendations</p></li>
</ol>
<h2 id='include-datacue-js-library'>Include DataCue JS library</h2>
<blockquote>
<p>Remember to include the config snippet <em>before</em> the external scripts</p>
</blockquote>
<pre class="highlight html tab-html"><code><span class="nt">&lt;script&gt;</span>
  <span class="nb">window</span><span class="p">.</span><span class="nx">datacueConfig</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">api_key</span><span class="p">:</span> <span class="s2">"your-api-key"</span><span class="p">,</span>
    <span class="na">user_id</span><span class="p">:</span> <span class="s2">"id of user (user_id field you send us for users)"</span><span class="p">,</span>
    <span class="na">page_type</span><span class="p">:</span> <span class="s2">"home"</span> <span class="c1">//can be many values, see the section 'Config object' on the left</span>
  <span class="p">};</span>
<span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://cdn.datacue.co/js/datacue.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://cdn.datacue.co/js/datacue-storefront.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
</code></pre>
<p>Place the snippets near the end of the <code>&lt;head&gt;</code> element of your main template. You should include it in these pages:</p>

<ul>
<li>Home</li>
<li>Product template</li>
<li>Category template</li>
<li>Search</li>
<li>Cart</li>
<li>404 (not found or error page)</li>
<li>Order confirmation page</li>
</ul>

<aside class="notice">
  DataCue only collects data explicitly stored in the config object. However, we strongly advise you NOT to include any tracking scripts (including ours) on pages where sensitive data is entered like payment pages.
</aside>
<h2 id='the-config-object'>The config object</h2>
<p>To properly set up tracking, you need to provide some information about the page that the user is currently visiting. You can do it by setting the following properties of the <code>window.datacueConfig</code> object:</p>

<table><thead>
<tr>
<th>Property</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>api_key</code></td>
<td>Yes</td>
<td>Your API key</td>
</tr>
<tr>
<td><code>user_id</code></td>
<td>Yes (if logged in)</td>
<td>If the visitor is not logged in, set the field to <code>null</code></td>
</tr>
<tr>
<td><code>page_type</code></td>
<td>Yes</td>
<td>Current page type. Can be: <code>home</code>, <code>product</code>, <code>category</code>, <code>cart</code>, <code>search</code>, <code>order confirmation</code> or <code>404</code></td>
</tr>
<tr>
<td><code>product_id</code></td>
<td>If <code>page_type</code> = <code>&#39;product&#39;</code></td>
<td>On product pages, id of currently viewed product</td>
</tr>
<tr>
<td><code>product_update</code></td>
<td>If <code>page_type</code> = <code>&#39;product&#39;</code></td>
<td>See product pageview section below for details</td>
</tr>
<tr>
<td><code>category_id</code></td>
<td>If <code>page_type</code> = <code>&#39;category&#39;</code></td>
<td>On category pages, id of currently viewed category</td>
</tr>
<tr>
<td><code>category_update</code></td>
<td>If <code>page_type</code> = <code>&#39;category&#39;</code></td>
<td>See category pageview section below for details</td>
</tr>
<tr>
<td><code>order_id</code></td>
<td>If <code>page_type</code> = <code>&#39;order confirmation&#39;</code></td>
<td>On order confirmation pages, id of confirmed order</td>
</tr>
<tr>
<td><code>order_details</code></td>
<td>If <code>page_type</code> = <code>&#39;order confirmation&#39;</code></td>
<td>See order confirmation pageview section below for details</td>
</tr>
<tr>
<td><code>term</code></td>
<td>If <code>page_type</code> = <code>&#39;search&#39;</code></td>
<td>On search results page, current search term</td>
</tr>
</tbody></table>
<h3 id='home-page'>Home page</h3>
<blockquote>
<p>Register a home pageview</p>
</blockquote>
<pre class="highlight html tab-html"><code><span class="nt">&lt;script&gt;</span>
  <span class="nb">window</span><span class="p">.</span><span class="nx">datacueConfig</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">api_key</span><span class="p">:</span> <span class="s2">"your-api-key"</span><span class="p">,</span>
    <span class="na">user_id</span><span class="p">:</span> <span class="s2">"id of user / null if not logged in"</span><span class="p">,</span>
    <span class="na">page_type</span><span class="p">:</span> <span class="s2">"home"</span>
  <span class="p">};</span>
<span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://cdn.datacue.co/js/datacue.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://cdn.datacue.co/js/datacue-storefront.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
</code></pre>
<p>Place this code on your home page.</p>
<h3 id='product-pages'>Product pages</h3>
<blockquote>
<p>Register a product pageview</p>
</blockquote>
<pre class="highlight html tab-html"><code><span class="nt">&lt;script&gt;</span>
  <span class="nb">window</span><span class="p">.</span><span class="nx">datacueConfig</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">api_key</span><span class="p">:</span> <span class="s2">"your-api-key"</span><span class="p">,</span>
    <span class="na">user_id</span><span class="p">:</span> <span class="s2">"id of user / null if not logged in"</span><span class="p">,</span>
    <span class="na">page_type</span><span class="p">:</span> <span class="s2">"product"</span><span class="p">,</span>
    <span class="na">product_id</span><span class="p">:</span> <span class="s2">"p1"</span><span class="p">,</span>
    <span class="na">product_update</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">{</span>
        <span class="na">variant_id</span><span class="p">:</span> <span class="s2">"v1"</span><span class="p">,</span>
        <span class="na">name</span><span class="p">:</span> <span class="s2">"Blue Regular Fit Jeans"</span><span class="p">,</span>
        <span class="na">price</span><span class="p">:</span> <span class="mf">99.5</span><span class="p">,</span>
        <span class="na">full_price</span><span class="p">:</span> <span class="mi">120</span><span class="p">,</span>
        <span class="na">photo_url</span><span class="p">:</span> <span class="s2">"https://mycoolstore.com/images/p1.jpg"</span><span class="p">,</span>
        <span class="na">available</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
        <span class="na">stock</span><span class="p">:</span> <span class="mi">15</span><span class="p">,</span>
        <span class="na">category_ids</span><span class="p">:</span> <span class="p">[</span><span class="s2">"jeans"</span><span class="p">,</span> <span class="s2">"summer"</span><span class="p">],</span>
        <span class="na">brand</span><span class="p">:</span> <span class="s2">"Zayra"</span>
      <span class="p">},</span>
      <span class="p">{</span>
        <span class="na">variant_id</span><span class="p">:</span> <span class="s2">"v2"</span><span class="p">,</span>
        <span class="na">name</span><span class="p">:</span> <span class="s2">"Green Regular Fit Jeans"</span><span class="p">,</span>
        <span class="na">price</span><span class="p">:</span> <span class="mf">99.5</span><span class="p">,</span>
        <span class="na">full_price</span><span class="p">:</span> <span class="mi">120</span><span class="p">,</span>
        <span class="na">photo_url</span><span class="p">:</span> <span class="s2">"https://mycoolstore.com/images/p1.jpg"</span><span class="p">,</span>
        <span class="na">available</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
        <span class="na">stock</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
        <span class="na">category_ids</span><span class="p">:</span> <span class="p">[</span><span class="s2">"jeans"</span><span class="p">,</span> <span class="s2">"summer"</span><span class="p">],</span>
        <span class="na">brand</span><span class="p">:</span> <span class="s2">"Zayra"</span>
      <span class="p">}</span>
    <span class="p">]</span>
  <span class="p">};</span>
<span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://cdn.datacue.co/js/datacue.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://cdn.datacue.co/js/datacue-storefront.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
</code></pre>
<p>On product pages, you can also add an optional property <code>product_update</code> to the config object, to ensure that the most important information about your products is always synchronized.</p>

<p><code>product_update</code> is an array, with each array element representing a variant of the product. e.g. <code>[{variant_id:&quot;v1&quot;,...},{variant_id:&quot;v2&quot;,...}]</code>.</p>

<ul>
<li>If the product has 5 variants, the array should contain 5 elements.</li>
<li>If the product has no variants, then submit the array with one element with the product details and set the <code>variant_id</code> to <code>no-variants</code>.</li>
</ul>

<table><thead>
<tr>
<th>Property</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>name</code></td>
<td>Name of the product</td>
</tr>
<tr>
<td><code>price</code></td>
<td>Current price, after all discounts applied</td>
</tr>
<tr>
<td><code>full_price</code></td>
<td>Base price without any discounts</td>
</tr>
<tr>
<td><code>photo_url</code></td>
<td>URL of the main product photo</td>
</tr>
<tr>
<td><code>available</code></td>
<td><code>true</code> or <code>false</code></td>
</tr>
<tr>
<td><code>stock</code></td>
<td>Number of items remaining in stock</td>
</tr>
<tr>
<td><code>category_ids</code></td>
<td>Array of product&#39;s category ids</td>
</tr>
<tr>
<td><code>brand</code></td>
<td>Name of the brand</td>
</tr>
</tbody></table>
<h3 id='category-pages'>Category pages</h3>
<blockquote>
<p>Register a category pageview</p>
</blockquote>
<pre class="highlight html tab-html"><code><span class="nt">&lt;script&gt;</span>
  <span class="nb">window</span><span class="p">.</span><span class="nx">datacueConfig</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">api_key</span><span class="p">:</span> <span class="s2">"your-api-key"</span><span class="p">,</span>
    <span class="na">user_id</span><span class="p">:</span> <span class="s2">"id of user / null if not logged in"</span><span class="p">,</span>
    <span class="na">page_type</span><span class="p">:</span> <span class="s2">"category"</span><span class="p">,</span>
    <span class="na">category_id</span><span class="p">:</span> <span class="s2">"jeans"</span><span class="p">,</span>
    <span class="na">category_update</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">name</span><span class="p">:</span> <span class="s2">"Jeans"</span><span class="p">,</span>
      <span class="na">link</span><span class="p">:</span> <span class="s2">"/category/jeans"</span>
    <span class="p">}</span>
  <span class="p">};</span>
<span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://cdn.datacue.co/js/datacue.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://cdn.datacue.co/js/datacue-storefront.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
</code></pre>
<p>On category pages, you can also add an optional property <code>category_update</code> to the config object, to ensure we keep category details in sync.</p>

<table><thead>
<tr>
<th>Property</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>name</code></td>
<td>Display name of the category</td>
</tr>
<tr>
<td><code>link</code></td>
<td>Relative URL to access category page</td>
</tr>
</tbody></table>
<h3 id='search-pages'>Search pages</h3>
<blockquote>
<p>Register a user search</p>
</blockquote>
<pre class="highlight html tab-html"><code><span class="nt">&lt;script&gt;</span>
  <span class="nb">window</span><span class="p">.</span><span class="nx">datacueConfig</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">api_key</span><span class="p">:</span> <span class="s2">"your-api-key"</span><span class="p">,</span>
    <span class="na">user_id</span><span class="p">:</span> <span class="s2">"id of user / null if not logged in"</span><span class="p">,</span>
    <span class="na">page_type</span><span class="p">:</span> <span class="s2">"search"</span><span class="p">,</span>
    <span class="na">term</span><span class="p">:</span> <span class="s2">"blue jeans"</span>
  <span class="p">};</span>
<span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://cdn.datacue.co/js/datacue.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://cdn.datacue.co/js/datacue-storefront.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
</code></pre>
<p>Place this code on your search results page</p>
<h3 id='cart-page'>Cart page</h3>
<blockquote>
<p>Register a cart pageview</p>
</blockquote>
<pre class="highlight html tab-html"><code><span class="nt">&lt;script&gt;</span>
  <span class="nb">window</span><span class="p">.</span><span class="nx">datacueConfig</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">api_key</span><span class="p">:</span> <span class="s2">"your-api-key"</span><span class="p">,</span>
    <span class="na">user_id</span><span class="p">:</span> <span class="s2">"id of user / null if not logged in"</span><span class="p">,</span>
    <span class="na">page_type</span><span class="p">:</span> <span class="s2">"cart"</span>
  <span class="p">};</span>
<span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://cdn.datacue.co/js/datacue.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://cdn.datacue.co/js/datacue-storefront.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
</code></pre>
<p>Place this code on your cart page.</p>
<h3 id='404-page'>404 page</h3>
<blockquote>
<p>Register a 404 error pageview</p>
</blockquote>
<pre class="highlight html tab-html"><code><span class="nt">&lt;script&gt;</span>
  <span class="nb">window</span><span class="p">.</span><span class="nx">datacueConfig</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">api_key</span><span class="p">:</span> <span class="s2">"your-api-key"</span><span class="p">,</span>
    <span class="na">user_id</span><span class="p">:</span> <span class="s2">"id of user / null if not logged in"</span><span class="p">,</span>
    <span class="na">page_type</span><span class="p">:</span> <span class="s2">"404"</span>
  <span class="p">};</span>
<span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://cdn.datacue.co/js/datacue.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://cdn.datacue.co/js/datacue-storefront.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
</code></pre>
<p>Place this code on your cart page.</p>

<aside class="notice">
  This is not related to shopping cart updates. Whenever the user modifies their cart (add product to cart, remove product from cart etc), you must call the cart update function (see below).
</aside>
<h3 id='order-confirmation'>Order confirmation</h3>
<p>You can choose to send completed orders via the frontend or the backend.</p>
<h4 id='backend-recommended'>Backend (recommended)</h4>
<blockquote>
<p>Sending orders via backend (skip order_details object)</p>
</blockquote>
<pre class="highlight html tab-html"><code><span class="nt">&lt;script&gt;</span>
  <span class="nb">window</span><span class="p">.</span><span class="nx">datacueConfig</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">api_key</span><span class="p">:</span> <span class="s2">"your-api-key"</span><span class="p">,</span>
    <span class="na">user_id</span><span class="p">:</span> <span class="s2">"id of user / email address if guest checkout"</span><span class="p">,</span>
    <span class="na">page_type</span><span class="p">:</span> <span class="s2">"order confirmation"</span>
  <span class="p">};</span>
<span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://cdn.datacue.co/js/datacue.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://cdn.datacue.co/js/datacue-storefront.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
</code></pre>
<p>Set the <code>user_id</code> field of the datacueConfig object to the user ID (if the user created an account) OR their email address (if it&#39;s a guest checkout).</p>

<p>Refer to <a href="#create-order">create order</a> on how to send order data via the backend.</p>
<h4 id='frontend'>Frontend</h4>
<blockquote>
<p>Sending orders via frontend</p>
</blockquote>
<pre class="highlight html tab-html"><code><span class="nt">&lt;script&gt;</span>
  <span class="nb">window</span><span class="p">.</span><span class="nx">datacueConfig</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">api_key</span><span class="p">:</span> <span class="s2">"your-api-key"</span><span class="p">,</span>
    <span class="na">user_id</span><span class="p">:</span> <span class="s2">"id of user / email address if guest checkout"</span><span class="p">,</span>
    <span class="na">page_type</span><span class="p">:</span> <span class="s2">"order confirmation"</span><span class="p">,</span>
    <span class="na">order_id</span><span class="p">:</span> <span class="s2">"O123"</span><span class="p">,</span>
    <span class="na">order_details</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">order_status</span><span class="p">:</span> <span class="s2">"completed"</span><span class="p">,</span>
      <span class="na">cart</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
          <span class="na">product_id</span><span class="p">:</span> <span class="s2">"p1"</span><span class="p">,</span>
          <span class="na">variant_id</span><span class="p">:</span> <span class="s2">"v1"</span><span class="p">,</span>
          <span class="na">quantity</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
          <span class="na">unit_price</span><span class="p">:</span> <span class="mi">24</span><span class="p">,</span>
          <span class="na">currency</span><span class="p">:</span> <span class="s2">"USD"</span>
        <span class="p">},</span>
        <span class="p">{</span>
          <span class="na">product_id</span><span class="p">:</span> <span class="s2">"p3"</span><span class="p">,</span>
          <span class="na">variant_id</span><span class="p">:</span> <span class="s2">"v2"</span><span class="p">,</span>
          <span class="na">quantity</span><span class="p">:</span> <span class="mi">9</span><span class="p">,</span>
          <span class="na">unit_price</span><span class="p">:</span> <span class="mi">42</span><span class="p">,</span>
          <span class="na">currency</span><span class="p">:</span> <span class="s2">"USD"</span>
        <span class="p">}</span>
      <span class="p">],</span>
      <span class="na">timestamp</span><span class="p">:</span> <span class="s2">"2018-04-04 23:29:04Z"</span>
    <span class="p">}</span>
  <span class="p">};</span>
<span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://cdn.datacue.co/js/datacue.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://cdn.datacue.co/js/datacue-storefront.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
</code></pre>
<p>If you prefer to send order data from the frontend, you can include an optional property <code>order_details</code> to the config object. This allows you to send completed orders via the frontend instead of using any backend hooks.</p>

<p><strong>order details object</strong></p>

<table><thead>
<tr>
<th>Property</th>
<th>Data Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>order_status</code></td>
<td>String</td>
<td>No</td>
<td>Can be <code>completed</code> (default) or <code>cancelled</code></td>
</tr>
<tr>
<td><code>cart</code></td>
<td>Array</td>
<td>Yes</td>
<td>An array of line items in the order shopping cart (see below)</td>
</tr>
<tr>
<td><code>timestamp</code></td>
<td>ISO-8601 Date</td>
<td>No</td>
<td>Order creation date/time in UTC timezone</td>
</tr>
</tbody></table>

<p><strong>cart object</strong></p>

<table><thead>
<tr>
<th>Property</th>
<th>Data Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>product_id</code></td>
<td>String</td>
<td>Yes</td>
<td>Product ID code</td>
</tr>
<tr>
<td><code>variant_id</code></td>
<td>String</td>
<td>Yes</td>
<td>Variant ID of the product</td>
</tr>
<tr>
<td><code>unit_price</code></td>
<td>Decimal</td>
<td>Yes</td>
<td>The unit price of the product (including any discounts)</td>
</tr>
<tr>
<td><code>quantity</code></td>
<td>Integer</td>
<td>Yes</td>
<td>Number of products purchased</td>
</tr>
</tbody></table>
<h2 id='inserting-banners'>Inserting banners</h2>
<p>Implementing banners, you have two choices:</p>

<ol>
<li>DataCue&#39;s standard banner layout (recommended)</li>
<li>Custom banner layout</li>
</ol>

<p>If you choose the standard banner layout, a lot of things are already done for you like responsive design and a smooth loading process for each image. However, you must follow our banner size guidelines.</p>

<p>Custom layout means you need to implement responsive design yourself in exchange for (almost) total flexibility in banner sizes.</p>

<blockquote>
<p>DataCue standard banner layout</p>
</blockquote>
<pre class="highlight html tab-html"><code><span class="nt">&lt;div</span>
  <span class="na">data-dc-banners</span>
  <span class="na">data-dc-static-img=</span><span class="s">"path/to/your/banner.jpg"</span>
  <span class="na">data-dc-static-link=</span><span class="s">"link/to/chosen/category"</span>
<span class="nt">&gt;&lt;/div&gt;</span>
</code></pre>
<blockquote>
<p>Custom banner layout</p>
</blockquote>
<pre class="highlight html tab-html"><code><span class="c">&lt;!-- This is just an example, you can arrange the divs anyway you like --&gt;</span>

<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"custom-banners"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"custom-static"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"https://example.com/any-link-you-want"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;img</span> <span class="na">src=</span><span class="s">"https://example.com/some-banner-image.jpg"</span> <span class="na">alt=</span><span class="s">""</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/a&gt;</span>
  <span class="nt">&lt;/div&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"custom-big"</span> <span class="na">data-dc-main-insert-banner=</span><span class="s">"1"</span><span class="nt">&gt;&lt;/div&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"custom-big"</span> <span class="na">data-dc-main-insert-banner=</span><span class="s">"2"</span><span class="nt">&gt;&lt;/div&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"custom-small"</span> <span class="na">data-dc-sub-insert-banner=</span><span class="s">"1"</span><span class="nt">&gt;&lt;/div&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"custom-small"</span> <span class="na">data-dc-sub-insert-banner=</span><span class="s">"2"</span><span class="nt">&gt;&lt;/div&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</code></pre>
<p>You can read all about banners in our <a href="https://help.datacue.co/guide/banners.html#quick-start">usage guide</a></p>

<p>For full details on custom layouts for banners, refer to our <a href="https://help.datacue.co/install/advanced.html#custom-banner-layout">advanced guide</a>.</p>
<h2 id='inserting-products'>Inserting products</h2>
<blockquote>
<p>Product recommendations</p>
</blockquote>
<pre class="highlight html tab-html"><code><span class="c">&lt;!-- RECOMMENDED: insert all relevent product recommendations for current page type --&gt;</span>
<span class="nt">&lt;div</span> <span class="na">data-dc-products</span><span class="nt">&gt;&lt;/div&gt;</span>

<span class="c">&lt;!-- ADVANCED: insert related/recommended products --&gt;</span>
<span class="nt">&lt;div</span> <span class="na">data-dc-products=</span><span class="s">"related"</span><span class="nt">&gt;&lt;/div&gt;</span>

<span class="c">&lt;!-- ADVANCED: insert related categories --&gt;</span>
<span class="nt">&lt;div</span> <span class="na">data-dc-products=</span><span class="s">"categories"</span><span class="nt">&gt;&lt;/div&gt;</span>

<span class="c">&lt;!-- ADVANCED: insert recently viewed products --&gt;</span>
<span class="nt">&lt;div</span> <span class="na">data-dc-products=</span><span class="s">"recent"</span><span class="nt">&gt;&lt;/div&gt;</span>

<span class="c">&lt;!-- ADVANCED: insert similar products (product page only) --&gt;</span>
<span class="nt">&lt;div</span> <span class="na">data-dc-products=</span><span class="s">"similar"</span><span class="nt">&gt;&lt;/div&gt;</span>
</code></pre>
<p>We strongly recommend that you just insert the <code>&lt;div data-dc-products&gt;&lt;/div&gt;</code> wherever you want to see product recommendations. DataCue will automatically display the most appropriate product recommendations based on the page type. If you want to hide any type of recommendation, you can do it easily from your dashboard.</p>

<p>If you want to insert each recommendation in different areas of your website, you can specify a value for <code>data-dc-products</code> as shown in the code samples.</p>
<h3 id='types-of-recommendations'>Types of recommendations</h3><h4 id='all-pages-home-product-category-search-404-cart-etc'>All pages (home, product, category, search, 404, cart etc)</h4>
<ol>
<li><p>Related categories: Show multiple rows of products based on the product categories that best match the current customer&#39;s preferences.</p></li>
<li><p>Related: Show top products that match the customer&#39;s preferences.</p></li>
<li><p>Recently viewed: A list of all the products that were recently viewed by the user</p></li>
</ol>
<h4 id='category-page-only'>Category page only</h4>
<ol>
<li>Top: Show top products that are the most related to the current category being viewed based on your customers purchases.</li>
</ol>
<h4 id='product-page-only'>Product page only</h4>
<ol>
<li>Related: Show top products that are the most related to the current product being viewed based on your customers purchases.</li>
</ol>

<p><em>Replaces the regular <code>related</code> carousel</em></p>

<ol>
<li>Similar: All products that are similar to the existing product looking at name, brand, categories and description.</li>
</ol>

<p>Just insert one of the following snippets and we&#39;ll do the rest. You can control which recommendations you want to see and how many products in each section from your dashboard. You can also switch between grid and carousel widget types there.</p>
<h2 id='sending-other-events'>Sending other events</h2>
<blockquote>
<p>This is an example of a typical browser event. Notice that <code>context</code> and <code>timestamp</code> aren&#39;t necessary when you&#39;re sending events directly from the user&#39;s browser.</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"user"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"019mr8mf4r"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"anonymous_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"07d35b1a-5776-4ddf-8f1c-dd0d2db9c502"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"profile"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"sex"</span><span class="p">:</span><span class="w"> </span><span class="s2">"female"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"location"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Santiago"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"segment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"platinum"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"event"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pageview"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"subtype"</span><span class="p">:</span><span class="w"> </span><span class="s2">"home"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>All events are registered in a similar format. There are 4 main objects in each request, described in detail in the <a href="#parameter-breakdown">next section</a>.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>user</code></td>
<td>Yes</td>
<td>All data that we know about the current user at the time.</td>
</tr>
<tr>
<td><code>event</code></td>
<td>Yes</td>
<td>Details about the event</td>
</tr>
<tr>
<td><code>context</code></td>
<td>No</td>
<td>Details about the users device and location</td>
</tr>
<tr>
<td><code>timestamp</code></td>
<td>No</td>
<td>An ISO-8601 date string in UTC time for when the event happened</td>
</tr>
</tbody></table>
<h2 id='parameter-breakdown'>Parameter breakdown</h2><h3 id='user'>User</h3>
<table><thead>
<tr>
<th>FieldName</th>
<th>Data Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>user_id</code></td>
<td>String</td>
<td>Yes (if logged in)</td>
<td>The unique user id if the user has logged in</td>
</tr>
<tr>
<td><code>anonymous_id</code></td>
<td>String</td>
<td>Yes (if not logged in)</td>
<td>An automatically generated visitor id if the user has not logged in.</td>
</tr>
<tr>
<td><code>profile</code></td>
<td>JSON Object</td>
<td>No</td>
<td>Any user segmentation data you know about the user, see the table below for details.</td>
</tr>
</tbody></table>

<aside class="notice">
  If you send us both a <code>user_id</code> and <code>anonymous_id</code> we will record the <code>user_id</code>.
</aside>
<h4 id='user-profile-user-profile'>User Profile (user.profile)</h4>
<table><thead>
<tr>
<th>FieldName</th>
<th>Data Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>sex</code></td>
<td>String</td>
<td>No</td>
<td>Sex of the user</td>
</tr>
<tr>
<td><code>segment</code></td>
<td>String</td>
<td>No</td>
<td>Custom segment name that you store e.g. Gold class / Member</td>
</tr>
<tr>
<td><code>location</code></td>
<td>String</td>
<td>No</td>
<td>Location of the user as a commune, city, region or country</td>
</tr>
</tbody></table>

<p>The above are the most common types of profile segments, since it&#39;s a JSON object you can specify any other fields you wish to use for personalization.</p>
<h3 id='event'>Event</h3>
<p>Field descriptions differ per event type. Please refer to the event descriptions below to know what fields are required.</p>
<h3 id='context-optional'>Context (optional)</h3>
<p>We use incoming HTTP headers to fill in this object, therefore this object is optional. You can specify context if you are sending historical data, or have any other special requirements that require overriding the default headers.</p>

<p>Refer to the example json on the right to view the format.</p>
<pre class="highlight json tab-json"><code><span class="w">  </span><span class="s2">"context"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"ip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12.34.56.78"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"user_agent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_6) AppleWebKit/604.5.6 (KHTML, like Gecko) Version/11.0.3 Safari/604.5.6"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>FieldName</th>
<th>Data Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>ip</code></td>
<td>String</td>
<td>No</td>
<td>IP address</td>
</tr>
<tr>
<td><code>user_agent</code></td>
<td>String</td>
<td>No</td>
<td>User agent string of the browser</td>
</tr>
</tbody></table>
<h3 id='timestamp-optional'>Timestamp (optional)</h3>
<p>Only required if you&#39;re sending us historical events, if not, we log the event at the time we received it.</p>

<p>Refer to the example json on the right to view the format.</p>
<pre class="highlight json tab-json"><code><span class="w">  </span><span class="s2">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-01-23 00:30:08.276Z"</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>FieldName</th>
<th>Data Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>timestamp</code></td>
<td>ISO-8601 Date</td>
<td>No</td>
<td>The current time in UTC for when the event happened. E.g. <code>&quot;2017-11-01 00:29:03.123Z&quot;</code></td>
</tr>
</tbody></table>
<h2 id='cart-update'>Cart update</h2><pre class="highlight html tab-html"><code><span class="nt">&lt;script&gt;</span>
  <span class="c1">// assign user_id and user.profile if you haven't yet</span>
  <span class="nb">window</span><span class="p">.</span><span class="nx">datacue</span><span class="p">.</span><span class="nx">identify</span><span class="p">(</span><span class="s2">"019mr8mf4r"</span><span class="p">,</span> <span class="p">{</span>
    <span class="na">sex</span><span class="p">:</span> <span class="s2">"female"</span><span class="p">,</span>
    <span class="na">location</span><span class="p">:</span> <span class="s2">"Santiago"</span><span class="p">,</span>
    <span class="na">segment</span><span class="p">:</span> <span class="s2">"platinum"</span>
  <span class="p">});</span>

  <span class="c1">// track the event</span>
  <span class="nb">window</span><span class="p">.</span><span class="nx">datacue</span><span class="p">.</span><span class="nx">track</span><span class="p">({</span>
    <span class="na">type</span><span class="p">:</span> <span class="s2">"cart"</span><span class="p">,</span>
    <span class="na">subtype</span><span class="p">:</span> <span class="s2">"update"</span><span class="p">,</span>
    <span class="na">cart</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">{</span>
        <span class="na">product_id</span><span class="p">:</span> <span class="s2">"p1"</span><span class="p">,</span>
        <span class="na">variant_id</span><span class="p">:</span> <span class="s2">"v1"</span><span class="p">,</span>
        <span class="na">quantity</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="na">unit_price</span><span class="p">:</span> <span class="mi">24</span><span class="p">,</span>
        <span class="na">currency</span><span class="p">:</span> <span class="s2">"USD"</span>
      <span class="p">},</span>
      <span class="p">{</span>
        <span class="na">product_id</span><span class="p">:</span> <span class="s2">"p2"</span><span class="p">,</span>
        <span class="na">variant_id</span><span class="p">:</span> <span class="s2">"v1"</span><span class="p">,</span>
        <span class="na">quantity</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="na">unit_price</span><span class="p">:</span> <span class="mi">24</span><span class="p">,</span>
        <span class="na">currency</span><span class="p">:</span> <span class="s2">"USD"</span>
      <span class="p">},</span>
      <span class="p">{</span>
        <span class="na">product_id</span><span class="p">:</span> <span class="s2">"p3"</span><span class="p">,</span>
        <span class="na">variant_id</span><span class="p">:</span> <span class="s2">"v1"</span><span class="p">,</span>
        <span class="na">quantity</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="na">unit_price</span><span class="p">:</span> <span class="mi">24</span><span class="p">,</span>
        <span class="na">currency</span><span class="p">:</span> <span class="s2">"USD"</span>
      <span class="p">}</span>
    <span class="p">],</span>
    <span class="na">cart_link</span><span class="p">:</span> <span class="s2">"https://myshop.com/cart/123"</span>
  <span class="p">});</span>
<span class="nt">&lt;/script&gt;</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="s2">"browser only event (refer to the Browser tab)"</span>
</code></pre><pre class="highlight python tab-python"><code><span class="s">"browser only event (refer to the Browser tab)"</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="s2">"browser only event (refer to the Browser tab)"</span><span class="p">;</span>
</code></pre>
<blockquote>
<p>The above command returns a 204 response code</p>
</blockquote>

<p>Record whenever the users shopping cart changes. Whenever the user:</p>

<ul>
<li>Adds a product to the cart</li>
<li>Removes a product from the cart</li>
<li>Updates a product in the cart (e.g. changes quantity)</li>
<li>Clears the cart</li>
</ul>
<h3 id='request-json-fields'>Request JSON fields</h3>
<table><thead>
<tr>
<th>FieldName</th>
<th>Data Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>type</code></td>
<td>String</td>
<td>Yes</td>
<td>Set to <code>&#39;cart&#39;</code></td>
</tr>
<tr>
<td><code>subtype</code></td>
<td>String</td>
<td>Yes</td>
<td>Set to <code>&#39;update&#39;</code></td>
</tr>
<tr>
<td><code>cart</code></td>
<td>Array</td>
<td>Yes</td>
<td>Cart contents as an array of product, variant, unit price, quantity and currency</td>
</tr>
<tr>
<td><code>cart_link</code></td>
<td>String</td>
<td>Yes</td>
<td>Link to view cart and resume shopping</td>
</tr>
</tbody></table>
<h2 id='add-product-to-wishlist'>Add product to wishlist</h2><pre class="highlight html tab-html"><code><span class="nt">&lt;script&gt;</span>
  <span class="c1">// assign user_id and user.profile if you haven't yet</span>
  <span class="nb">window</span><span class="p">.</span><span class="nx">datacue</span><span class="p">.</span><span class="nx">identify</span><span class="p">(</span><span class="s2">"019mr8mf4r"</span><span class="p">,</span> <span class="p">{</span>
    <span class="na">sex</span><span class="p">:</span> <span class="s2">"female"</span><span class="p">,</span>
    <span class="na">location</span><span class="p">:</span> <span class="s2">"Santiago"</span><span class="p">,</span>
    <span class="na">segment</span><span class="p">:</span> <span class="s2">"platinum"</span>
  <span class="p">});</span>

  <span class="c1">// track the event</span>
  <span class="nb">window</span><span class="p">.</span><span class="nx">datacue</span><span class="p">.</span><span class="nx">track</span><span class="p">({</span>
    <span class="na">type</span><span class="p">:</span> <span class="s2">"wishlist"</span><span class="p">,</span>
    <span class="na">subtype</span><span class="p">:</span> <span class="s2">"add"</span><span class="p">,</span>
    <span class="na">product_id</span><span class="p">:</span> <span class="s2">"p1"</span><span class="p">,</span>
    <span class="na">variant_id</span><span class="p">:</span> <span class="s2">"v2"</span>
  <span class="p">});</span>
<span class="nt">&lt;/script&gt;</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="s2">"browser only event (refer to the Browser tab)"</span>
</code></pre><pre class="highlight python tab-python"><code><span class="s">"browser only event (refer to the Browser tab)"</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="s2">"browser only event (refer to the Browser tab)"</span><span class="p">;</span>
</code></pre>
<blockquote>
<p>The above command returns a 204 response code</p>
</blockquote>

<p>Record changes to user&#39;s wishlist when a new product is added to it.</p>
<h3 id='request-json-fields-2'>Request JSON fields</h3>
<table><thead>
<tr>
<th>FieldName</th>
<th>Data Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>type</code></td>
<td>String</td>
<td>Yes</td>
<td>Set to <code>&#39;wishlist&#39;</code></td>
</tr>
<tr>
<td><code>subtype</code></td>
<td>String</td>
<td>Yes</td>
<td>Set to <code>&#39;add&#39;</code></td>
</tr>
<tr>
<td><code>product_id</code></td>
<td>String</td>
<td>Yes</td>
<td>Set to product id being added</td>
</tr>
<tr>
<td><code>variant_id</code></td>
<td>String</td>
<td>No</td>
<td>Set to product&#39;s variant id (if applicable)</td>
</tr>
</tbody></table>
<h2 id='remove-product-from-wishlist'>Remove product from wishlist</h2><pre class="highlight html tab-html"><code><span class="nt">&lt;script&gt;</span>
  <span class="c1">// assign user_id and user.profile if you haven't yet</span>
  <span class="nb">window</span><span class="p">.</span><span class="nx">datacue</span><span class="p">.</span><span class="nx">identify</span><span class="p">(</span><span class="s2">"019mr8mf4r"</span><span class="p">,</span> <span class="p">{</span>
    <span class="na">sex</span><span class="p">:</span> <span class="s2">"female"</span><span class="p">,</span>
    <span class="na">location</span><span class="p">:</span> <span class="s2">"Santiago"</span><span class="p">,</span>
    <span class="na">segment</span><span class="p">:</span> <span class="s2">"platinum"</span>
  <span class="p">});</span>

  <span class="c1">// track the event</span>
  <span class="nb">window</span><span class="p">.</span><span class="nx">datacue</span><span class="p">.</span><span class="nx">track</span><span class="p">({</span>
    <span class="na">type</span><span class="p">:</span> <span class="s2">"wishlist"</span><span class="p">,</span>
    <span class="na">subtype</span><span class="p">:</span> <span class="s2">"remove"</span><span class="p">,</span>
    <span class="na">product_id</span><span class="p">:</span> <span class="s2">"p1"</span><span class="p">,</span>
    <span class="na">variant_id</span><span class="p">:</span> <span class="s2">"v2"</span>
  <span class="p">});</span>
<span class="nt">&lt;/script&gt;</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="s2">"browser only event (refer to the Browser tab)"</span>
</code></pre><pre class="highlight python tab-python"><code><span class="s">"browser only event (refer to the Browser tab)"</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="s2">"browser only event (refer to the Browser tab)"</span><span class="p">;</span>
</code></pre>
<blockquote>
<p>The above command returns a 204 response code</p>
</blockquote>

<p>Record changes to user&#39;s wishlist when a product is removed from it.</p>
<h3 id='request-json-fields-3'>Request JSON fields</h3>
<table><thead>
<tr>
<th>FieldName</th>
<th>Data Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>type</code></td>
<td>String</td>
<td>Yes</td>
<td>Set to <code>&#39;wishlist&#39;</code></td>
</tr>
<tr>
<td><code>subtype</code></td>
<td>String</td>
<td>Yes</td>
<td>Set to <code>&#39;remove&#39;</code></td>
</tr>
<tr>
<td><code>product_id</code></td>
<td>String</td>
<td>Yes</td>
<td>Set to product id being removed</td>
</tr>
<tr>
<td><code>variant_id</code></td>
<td>String</td>
<td>No</td>
<td>Set to product&#39;s variant id (if applicable)</td>
</tr>
</tbody></table>
<h2 id='checkout-started'>Checkout started</h2><pre class="highlight html tab-html"><code><span class="nt">&lt;script&gt;</span>
  <span class="c1">// assign user_id and user.profile if you haven't yet</span>
  <span class="nb">window</span><span class="p">.</span><span class="nx">datacue</span><span class="p">.</span><span class="nx">identify</span><span class="p">(</span><span class="s2">"019mr8mf4r"</span><span class="p">,</span> <span class="p">{</span>
    <span class="na">sex</span><span class="p">:</span> <span class="s2">"female"</span><span class="p">,</span>
    <span class="na">location</span><span class="p">:</span> <span class="s2">"Santiago"</span><span class="p">,</span>
    <span class="na">segment</span><span class="p">:</span> <span class="s2">"platinum"</span>
  <span class="p">});</span>

  <span class="c1">// track the event</span>
  <span class="nb">window</span><span class="p">.</span><span class="nx">datacue</span><span class="p">.</span><span class="nx">track</span><span class="p">({</span>
    <span class="na">type</span><span class="p">:</span> <span class="s2">"checkout"</span><span class="p">,</span>
    <span class="na">subtype</span><span class="p">:</span> <span class="s2">"started"</span><span class="p">,</span>
    <span class="na">cart</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">{</span>
        <span class="na">product_id</span><span class="p">:</span> <span class="s2">"p1"</span><span class="p">,</span>
        <span class="na">variant</span><span class="p">:</span> <span class="s2">"v1"</span><span class="p">,</span>
        <span class="na">quantity</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="na">unit_price</span><span class="p">:</span> <span class="mi">24</span><span class="p">,</span>
        <span class="na">currency</span><span class="p">:</span> <span class="s2">"USD"</span>
      <span class="p">},</span>
      <span class="p">{</span>
        <span class="na">product_id</span><span class="p">:</span> <span class="s2">"p2"</span><span class="p">,</span>
        <span class="na">variant</span><span class="p">:</span> <span class="s2">"v2"</span><span class="p">,</span>
        <span class="na">quantity</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
        <span class="na">unit_price</span><span class="p">:</span> <span class="mi">39</span><span class="p">,</span>
        <span class="na">currency</span><span class="p">:</span> <span class="s2">"USD"</span>
      <span class="p">}</span>
    <span class="p">],</span>
    <span class="na">cart_link</span><span class="p">:</span> <span class="s2">"https://myshop.com/cart/123"</span>
  <span class="p">});</span>
<span class="nt">&lt;/script&gt;</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="s2">"browser only event (refer to the Browser tab)"</span>
</code></pre><pre class="highlight python tab-python"><code><span class="s">"browser only event (refer to the Browser tab)"</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="s2">"browser only event (refer to the Browser tab)"</span><span class="p">;</span>
</code></pre>
<blockquote>
<p>The above command returns a 204 response code</p>
</blockquote>

<p>Record the moment the user initiates the check out process, typically from their shopping cart.</p>
<h3 id='request-json-fields-4'>Request JSON fields</h3>
<table><thead>
<tr>
<th>FieldName</th>
<th>Data Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>type</code></td>
<td>String</td>
<td>Yes</td>
<td>Set to <code>&#39;checkout&#39;</code></td>
</tr>
<tr>
<td><code>subtype</code></td>
<td>String</td>
<td>Yes</td>
<td>Set to <code>&#39;started&#39;</code></td>
</tr>
<tr>
<td><code>cart</code></td>
<td>Array</td>
<td>Yes</td>
<td>Cart contents as an array of product, variant, unit price, quantity and currency</td>
</tr>
<tr>
<td><code>cart_link</code></td>
<td>String</td>
<td>Yes</td>
<td>Link to view cart and resume shopping</td>
</tr>
</tbody></table>
<h2 id='user-login'>User Login</h2><pre class="highlight html tab-html"><code><span class="nt">&lt;script&gt;</span>
  <span class="c1">// assign user_id and user.profile if you haven't yet</span>
  <span class="nb">window</span><span class="p">.</span><span class="nx">datacue</span><span class="p">.</span><span class="nx">identify</span><span class="p">(</span><span class="s2">"019mr8mf4r"</span><span class="p">,</span> <span class="p">{</span>
    <span class="na">sex</span><span class="p">:</span> <span class="s2">"female"</span><span class="p">,</span>
    <span class="na">location</span><span class="p">:</span> <span class="s2">"Santiago"</span><span class="p">,</span>
    <span class="na">segment</span><span class="p">:</span> <span class="s2">"platinum"</span>
  <span class="p">});</span>

  <span class="c1">// track the event</span>
  <span class="nb">window</span><span class="p">.</span><span class="nx">datacue</span><span class="p">.</span><span class="nx">track</span><span class="p">({</span>
    <span class="na">type</span><span class="p">:</span> <span class="s2">"login"</span>
  <span class="p">});</span>
<span class="nt">&lt;/script&gt;</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="s2">"browser only event (refer to the Browser tab)"</span>
</code></pre><pre class="highlight python tab-python"><code><span class="s">"browser only event (refer to the Browser tab)"</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="s2">"browser only event (refer to the Browser tab)"</span><span class="p">;</span>
</code></pre>
<blockquote>
<p>The above command returns a 204 response code</p>
</blockquote>

<p>Record a login event by a user on your website, if the user login is cached, you do not need to fire this event when the user returns.</p>
<h3 id='request-json-fields-5'>Request JSON fields</h3>
<table><thead>
<tr>
<th>FieldName</th>
<th>Data Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>type</code></td>
<td>String</td>
<td>Yes</td>
<td>Set to <code>&#39;login&#39;</code></td>
</tr>
</tbody></table>
<h1 id='optional-events'>Optional Events</h1>
<p>You don&#39;t need to implement those if you&#39;re using our scripts.</p>
<h2 id='home-pageview'>Home pageview</h2><pre class="highlight html tab-html"><code><span class="nt">&lt;script&gt;</span>
  <span class="c1">// assign user_id and user.profile if you haven't yet</span>
  <span class="nb">window</span><span class="p">.</span><span class="nx">datacue</span><span class="p">.</span><span class="nx">identify</span><span class="p">(</span><span class="s2">"019mr8mf4r"</span><span class="p">,</span> <span class="p">{</span>
    <span class="na">sex</span><span class="p">:</span> <span class="s2">"female"</span><span class="p">,</span>
    <span class="na">location</span><span class="p">:</span> <span class="s2">"Santiago"</span><span class="p">,</span>
    <span class="na">segment</span><span class="p">:</span> <span class="s2">"platinum"</span>
  <span class="p">});</span>

  <span class="c1">// track the event</span>
  <span class="nb">window</span><span class="p">.</span><span class="nx">datacue</span>
    <span class="p">.</span><span class="nx">track</span><span class="p">({</span>
      <span class="na">type</span><span class="p">:</span> <span class="s2">"pageview"</span><span class="p">,</span>
      <span class="na">subtype</span><span class="p">:</span> <span class="s2">"home"</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">// see response structure below</span>
    <span class="p">});</span>
<span class="nt">&lt;/script&gt;</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="s2">"browser only event (refer to the Browser tab)"</span>
</code></pre><pre class="highlight python tab-python"><code><span class="s">"browser only event (refer to the Browser tab)"</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="s2">"browser only event (refer to the Browser tab)"</span><span class="p">;</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"main_banners"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/category/bathroom"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="s2">"banner_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"B1"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"photo_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/banners/bathroom/bathroom-min.jpeg"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"sub_banners"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/category/bathroom/organizer"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="s2">"banner_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"B6"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"photo_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/banners/bathroom/subbanner_organizer.jpeg"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/category/bathroom/racks"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="s2">"banner_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"B7"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"photo_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/banners/bathroom/subbanner_racks.jpeg"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/category/bathroom/towels"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="s2">"banner_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"B8"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"photo_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/banners/bathroom/subbanner_towels.jpeg"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"related_product_skus"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/product/double-bed-2"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Luxury Double Bed"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">1299</span><span class="p">,</span><span class="w">
      </span><span class="s2">"photo_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/products/18.jpg"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"category_1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bedroom"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"product_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"18"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/product/sofa-4"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Contemporary Sofa"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">329</span><span class="p">,</span><span class="w">
      </span><span class="s2">"photo_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/products/59.jpg"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"category_1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"living-room"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"product_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"59"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/product/cutleries-2"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Decorative Flatware"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">79</span><span class="p">,</span><span class="w">
      </span><span class="s2">"photo_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/products/41.jpg"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"category_1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"kitchen"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"product_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"41"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/product/organizer-4"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Scandinavian Organizer"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">69</span><span class="p">,</span><span class="w">
      </span><span class="s2">"photo_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/products/12.jpg"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"category_1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bathroom"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"product_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"recent_product_skus"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"product_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"18"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"variant_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Luxury Double Bed"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1299.00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"photo_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/products/18.jpg"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/product/double-bed-2"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"extra"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"discount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20%"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Request banner and product recommendations when a user visits your home page</p>
<h3 id='request-json-fields-6'>Request JSON fields</h3>
<table><thead>
<tr>
<th>FieldName</th>
<th>Data Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>type</code></td>
<td>String</td>
<td>Yes</td>
<td>Set to <code>&#39;pageview&#39;</code></td>
</tr>
<tr>
<td><code>subtype</code></td>
<td>String</td>
<td>Yes</td>
<td>Set to <code>&#39;home&#39;</code></td>
</tr>
</tbody></table>
<h3 id='response-json-fields'>Response JSON fields</h3>
<table><thead>
<tr>
<th>FieldName</th>
<th>Data Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>main_banners</code></td>
<td>Array</td>
<td>An array of banner objects recommended for the current user</td>
</tr>
<tr>
<td><code>sub_banners</code></td>
<td>Array</td>
<td>An array of sub banner objects recommended for the current user</td>
</tr>
<tr>
<td><code>related_product_skus</code></td>
<td>Array</td>
<td>An array of product objects recommended for the current user</td>
</tr>
<tr>
<td><code>recent_product_skus</code></td>
<td>Array</td>
<td>A live list of the last products the current user has viewed</td>
</tr>
</tbody></table>
<h2 id='product-pageview'>Product pageview</h2><pre class="highlight html tab-html"><code><span class="nt">&lt;script&gt;</span>
  <span class="c1">// assign user_id and user.profile if you haven't yet</span>
  <span class="nb">window</span><span class="p">.</span><span class="nx">datacue</span><span class="p">.</span><span class="nx">identify</span><span class="p">(</span><span class="s2">"019mr8mf4r"</span><span class="p">,</span> <span class="p">{</span>
    <span class="na">sex</span><span class="p">:</span> <span class="s2">"female"</span><span class="p">,</span>
    <span class="na">location</span><span class="p">:</span> <span class="s2">"Santiago"</span><span class="p">,</span>
    <span class="na">segment</span><span class="p">:</span> <span class="s2">"platinum"</span>
  <span class="p">});</span>

  <span class="c1">// track the event</span>
  <span class="nb">window</span><span class="p">.</span><span class="nx">datacue</span>
    <span class="p">.</span><span class="nx">track</span><span class="p">({</span>
      <span class="na">type</span><span class="p">:</span> <span class="s2">"pageview"</span><span class="p">,</span>
      <span class="na">subtype</span><span class="p">:</span> <span class="s2">"product"</span><span class="p">,</span>
      <span class="na">product_id</span><span class="p">:</span> <span class="s2">"p1"</span><span class="p">,</span>
      <span class="na">variant_id</span><span class="p">:</span> <span class="s2">"v1"</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">// see response structure below</span>
    <span class="p">});</span>
<span class="nt">&lt;/script&gt;</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="s2">"browser only event (refer to the Browser tab)"</span>
</code></pre><pre class="highlight python tab-python"><code><span class="s">"browser only event (refer to the Browser tab)"</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="s2">"browser only event (refer to the Browser tab)"</span><span class="p">;</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"similar_product_skus"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/product/sofa-1"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Soft Sofa"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">299</span><span class="p">,</span><span class="w">
      </span><span class="s2">"photo_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/products/56.jpg"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"category_1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"living-room"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"product_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"56"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/product/outdoor-sofa-3"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Wicker Sofa"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">299</span><span class="p">,</span><span class="w">
      </span><span class="s2">"photo_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/products/38.jpg"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"category_1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"outdoors"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"product_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"38"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/product/single-bed-1"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Basic Bed"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">299</span><span class="p">,</span><span class="w">
      </span><span class="s2">"photo_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/products/16.jpg"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"category_1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bedroom"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"product_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"16"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/product/rack-2"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Handicraft Rack"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">49</span><span class="p">,</span><span class="w">
      </span><span class="s2">"photo_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/products/6.jpg"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"category_1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bathroom"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"product_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"related_product_skus"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"recent_product_skus"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"product_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"18"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"variant_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Luxury Double Bed"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1299.00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"photo_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/products/18.jpg"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/product/double-bed-2"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"extra"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Request product recommendations when a user visits a product page</p>
<h3 id='request-json-fields-7'>Request JSON fields</h3>
<table><thead>
<tr>
<th>FieldName</th>
<th>Data Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>type</code></td>
<td>String</td>
<td>Yes</td>
<td>Set to <code>&#39;pageview&#39;</code></td>
</tr>
<tr>
<td><code>subtype</code></td>
<td>String</td>
<td>Yes</td>
<td>Set to <code>&#39;product&#39;</code></td>
</tr>
<tr>
<td><code>product_id</code></td>
<td>String</td>
<td>Yes</td>
<td>Set to product id being viewed</td>
</tr>
<tr>
<td><code>variant_id</code></td>
<td>String</td>
<td>No</td>
<td>Set to product&#39;s variant id (if applicable)</td>
</tr>
</tbody></table>
<h3 id='response-json-fields-2'>Response JSON fields</h3>
<table><thead>
<tr>
<th>FieldName</th>
<th>Data Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>similar_product_skus</code></td>
<td>Array</td>
<td>An array of product objects with similar characteristics to the current product</td>
</tr>
<tr>
<td><code>related_product_skus</code></td>
<td>Array</td>
<td>An array of product objects that are frequently bought with the current product</td>
</tr>
<tr>
<td><code>recent_product_skus</code></td>
<td>Array</td>
<td>A live list of the last products the current user has viewed</td>
</tr>
</tbody></table>
<h2 id='category-pageview'>Category pageview</h2><pre class="highlight html tab-html"><code><span class="nt">&lt;script&gt;</span>
  <span class="c1">// assign user_id and user.profile if you haven't yet</span>
  <span class="nb">window</span><span class="p">.</span><span class="nx">datacue</span><span class="p">.</span><span class="nx">identify</span><span class="p">(</span><span class="s2">"019mr8mf4r"</span><span class="p">,</span> <span class="p">{</span>
    <span class="na">sex</span><span class="p">:</span> <span class="s2">"female"</span><span class="p">,</span>
    <span class="na">location</span><span class="p">:</span> <span class="s2">"Santiago"</span><span class="p">,</span>
    <span class="na">segment</span><span class="p">:</span> <span class="s2">"platinum"</span>
  <span class="p">});</span>

  <span class="c1">// track the event</span>
  <span class="nb">window</span><span class="p">.</span><span class="nx">datacue</span><span class="p">.</span><span class="nx">track</span><span class="p">({</span>
    <span class="na">type</span><span class="p">:</span> <span class="s2">"pageview"</span><span class="p">,</span>
    <span class="na">subtype</span><span class="p">:</span> <span class="s2">"category"</span><span class="p">,</span>
    <span class="na">category_name</span><span class="p">:</span> <span class="s2">"living-room"</span>
  <span class="p">});</span>
<span class="nt">&lt;/script&gt;</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="s2">"browser only event (refer to the Browser tab)"</span>
</code></pre><pre class="highlight python tab-python"><code><span class="s">"browser only event (refer to the Browser tab)"</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="s2">"browser only event (refer to the Browser tab)"</span><span class="p">;</span>
</code></pre>
<blockquote>
<p>The above command returns a 204 response code</p>
</blockquote>

<p>Pages showing multiple products on a page, these are commonly called category, collection or catalog pages.</p>
<h3 id='request-json-fields-8'>Request JSON fields</h3>
<table><thead>
<tr>
<th>FieldName</th>
<th>Data Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>type</code></td>
<td>String</td>
<td>Yes</td>
<td>Set to <code>&#39;pageview&#39;</code></td>
</tr>
<tr>
<td><code>subtype</code></td>
<td>String</td>
<td>Yes</td>
<td>Set to <code>&#39;category&#39;</code></td>
</tr>
<tr>
<td><code>category_name</code></td>
<td>String</td>
<td>Yes</td>
<td>Set to the name of the category being viewed</td>
</tr>
</tbody></table>
<h2 id='search'>Search</h2><pre class="highlight html tab-html"><code><span class="nt">&lt;script&gt;</span>
  <span class="c1">// assign user_id and user.profile if you haven't yet</span>
  <span class="nb">window</span><span class="p">.</span><span class="nx">datacue</span><span class="p">.</span><span class="nx">identify</span><span class="p">(</span><span class="s2">"019mr8mf4r"</span><span class="p">,</span> <span class="p">{</span>
    <span class="na">sex</span><span class="p">:</span> <span class="s2">"female"</span><span class="p">,</span>
    <span class="na">location</span><span class="p">:</span> <span class="s2">"Santiago"</span><span class="p">,</span>
    <span class="na">segment</span><span class="p">:</span> <span class="s2">"platinum"</span>
  <span class="p">});</span>

  <span class="c1">// track the event</span>
  <span class="nb">window</span><span class="p">.</span><span class="nx">datacue</span>
    <span class="p">.</span><span class="nx">track</span><span class="p">({</span>
      <span class="na">type</span><span class="p">:</span> <span class="s2">"search"</span><span class="p">,</span>
      <span class="na">term</span><span class="p">:</span> <span class="s2">"tables"</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">// see response structure below</span>
    <span class="p">});</span>
<span class="nt">&lt;/script&gt;</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="s2">"browser only event (refer to the Browser tab)"</span>
</code></pre><pre class="highlight python tab-python"><code><span class="s">"browser only event (refer to the Browser tab)"</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="s2">"browser only event (refer to the Browser tab)"</span><span class="p">;</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"recent_product_skus"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"product_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"18"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"variant_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Luxury Double Bed"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1299.00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"photo_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/products/18.jpg"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/product/double-bed-2"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"extra"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"discount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20%"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Record when a user performs a search on your website</p>
<h3 id='request-json-fields-9'>Request JSON fields</h3>
<table><thead>
<tr>
<th>FieldName</th>
<th>Data Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>type</code></td>
<td>String</td>
<td>Yes</td>
<td>Set to <code>&#39;search&#39;</code></td>
</tr>
<tr>
<td><code>term</code></td>
<td>String</td>
<td>Yes</td>
<td>Set to the user&#39;s search term</td>
</tr>
</tbody></table>
<h3 id='response-json-fields-3'>Response JSON fields</h3>
<table><thead>
<tr>
<th>FieldName</th>
<th>Data Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>recent_product_skus</code></td>
<td>Array</td>
<td>A live list of the last products the current user has viewed</td>
</tr>
</tbody></table>
<h2 id='banner-click'>Banner click</h2><pre class="highlight html tab-html"><code><span class="nt">&lt;script&gt;</span>
  <span class="c1">// assign user_id and user.profile if you haven't yet</span>
  <span class="nb">window</span><span class="p">.</span><span class="nx">datacue</span><span class="p">.</span><span class="nx">identify</span><span class="p">(</span><span class="s2">"019mr8mf4r"</span><span class="p">,</span> <span class="p">{</span>
    <span class="na">sex</span><span class="p">:</span> <span class="s2">"female"</span><span class="p">,</span>
    <span class="na">location</span><span class="p">:</span> <span class="s2">"Santiago"</span><span class="p">,</span>
    <span class="na">segment</span><span class="p">:</span> <span class="s2">"platinum"</span>
  <span class="p">});</span>

  <span class="c1">// track the event</span>
  <span class="c1">// NOTE: passing true as 2nd argument will defer</span>
  <span class="c1">// the event until next page load (helpful if your</span>
  <span class="c1">// shop is not a single page app)</span>
  <span class="nb">window</span><span class="p">.</span><span class="nx">datacue</span><span class="p">.</span><span class="nx">track</span><span class="p">(</span>
    <span class="p">{</span>
      <span class="na">type</span><span class="p">:</span> <span class="s2">"click"</span><span class="p">,</span>
      <span class="na">subtype</span><span class="p">:</span> <span class="s2">"banner"</span><span class="p">,</span>
      <span class="na">banner_id</span><span class="p">:</span> <span class="s2">"b1"</span><span class="p">,</span>
      <span class="na">category_id</span><span class="p">:</span> <span class="s2">"c1"</span>
    <span class="p">},</span>
    <span class="kc">true</span>
  <span class="p">);</span>
<span class="nt">&lt;/script&gt;</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="s2">"browser only event (refer to the Browser tab)"</span>
</code></pre><pre class="highlight python tab-python"><code><span class="s">"browser only event (refer to the Browser tab)"</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="s2">"browser only event (refer to the Browser tab)"</span><span class="p">;</span>
</code></pre>
<blockquote>
<p>The above command returns a 204 response code</p>
</blockquote>

<p>Record clicks to a banner or a sub banner, typically on your home page</p>
<h3 id='request-json-fields-10'>Request JSON fields</h3>
<table><thead>
<tr>
<th>FieldName</th>
<th>Data Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>type</code></td>
<td>String</td>
<td>Yes</td>
<td>Set to <code>&#39;click&#39;</code></td>
</tr>
<tr>
<td><code>subtype</code></td>
<td>String</td>
<td>Yes</td>
<td>Set to <code>&#39;banner&#39;</code></td>
</tr>
<tr>
<td><code>banner_id</code></td>
<td>String</td>
<td>Yes</td>
<td>Set to the id of the clicked banner</td>
</tr>
</tbody></table>
<h2 id='product-click'>Product click</h2><pre class="highlight html tab-html"><code><span class="nt">&lt;script&gt;</span>
  <span class="c1">// assign user_id and user.profile if you haven't yet</span>
  <span class="nb">window</span><span class="p">.</span><span class="nx">datacue</span><span class="p">.</span><span class="nx">identify</span><span class="p">(</span><span class="s2">"019mr8mf4r"</span><span class="p">,</span> <span class="p">{</span>
    <span class="na">sex</span><span class="p">:</span> <span class="s2">"female"</span><span class="p">,</span>
    <span class="na">location</span><span class="p">:</span> <span class="s2">"Santiago"</span><span class="p">,</span>
    <span class="na">segment</span><span class="p">:</span> <span class="s2">"platinum"</span>
  <span class="p">});</span>

  <span class="c1">// track the event</span>
  <span class="c1">// NOTE: passing true as 2nd argument will defer</span>
  <span class="c1">// the event until next page load (helpful if your</span>
  <span class="c1">// shop is not a single page app)</span>
  <span class="nb">window</span><span class="p">.</span><span class="nx">datacue</span><span class="p">.</span><span class="nx">track</span><span class="p">(</span>
    <span class="p">{</span>
      <span class="na">type</span><span class="p">:</span> <span class="s2">"click"</span><span class="p">,</span>
      <span class="na">subtype</span><span class="p">:</span> <span class="s2">"product"</span><span class="p">,</span>
      <span class="na">product_id</span><span class="p">:</span> <span class="s2">"p2"</span>
    <span class="p">},</span>
    <span class="kc">true</span>
  <span class="p">);</span>
<span class="nt">&lt;/script&gt;</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="s2">"browser only event (refer to the Browser tab)"</span>
</code></pre><pre class="highlight python tab-python"><code><span class="s">"browser only event (refer to the Browser tab)"</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="s2">"browser only event (refer to the Browser tab)"</span><span class="p">;</span>
</code></pre>
<blockquote>
<p>The above command returns a 204 response code</p>
</blockquote>

<p>Record clicks on a product anywhere on your website.</p>
<h3 id='request-json-fields-11'>Request JSON fields</h3>
<table><thead>
<tr>
<th>FieldName</th>
<th>Data Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>type</code></td>
<td>String</td>
<td>Yes</td>
<td>Set to <code>&#39;click&#39;</code></td>
</tr>
<tr>
<td><code>subtype</code></td>
<td>String</td>
<td>Yes</td>
<td>Set to <code>&#39;related&#39;</code>, <code>&#39;similar&#39;</code> or <code>&#39;recent&#39;</code></td>
</tr>
<tr>
<td><code>product_id</code></td>
<td>String</td>
<td>Yes</td>
<td>Set to the id of the clicked product</td>
</tr>
</tbody></table>
<h1 id='overview'>Overview</h1><h2 id='summary'>Summary</h2><pre class="highlight html tab-html"><code><span class="c">&lt;!--- backend only event (refer to the Python, PHP or Node tab) --&gt;</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$apikey</span> <span class="o">=</span> <span class="s2">"Your-API-Key-goes-here"</span><span class="p">;</span>
<span class="nv">$apisecret</span> <span class="o">=</span> <span class="s2">"Your-API-secret-goes-here"</span><span class="p">;</span>

<span class="nv">$datacue</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\DataCue\Client</span><span class="p">(</span><span class="nv">$apikey</span><span class="p">,</span> <span class="nv">$apisecret</span><span class="p">);</span>

<span class="nv">$res</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">client</span><span class="o">-&gt;</span><span class="na">overview</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>

<span class="k">print</span><span class="p">(</span><span class="nv">$res</span><span class="p">);</span>

<span class="cp">?&gt;</span>
</code></pre><pre class="highlight python tab-python"><code>
<span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">requests</span>

<span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.datacue.co/v1/overview"</span>
<span class="n">apikey</span> <span class="o">=</span> <span class="s">"your-api-key-goes-here"</span>
<span class="n">apisecret</span> <span class="o">=</span> <span class="s">"your-api-secret-goes-here"</span>

<span class="n">checksum</span> <span class="o">=</span> <span class="n">hmac</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="nb">bytes</span><span class="p">(</span><span class="n">apisecret</span><span class="p">,</span> <span class="s">"utf-8"</span><span class="p">),</span>
                    <span class="nb">bytes</span><span class="p">(</span><span class="s">""</span><span class="p">,</span> <span class="s">"utf-8"</span><span class="p">),</span> <span class="n">hashlib</span><span class="o">.</span><span class="n">sha256</span><span class="p">)</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">auth</span><span class="o">=</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">checksum</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">()))</span>

<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">())</span>

</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">axios</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"axios"</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">cryto</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"crypto"</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">url</span> <span class="o">=</span> <span class="s2">"https://api.datacue.co/v1/overview"</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">apikey</span> <span class="o">=</span> <span class="s2">"your-api-key-goes-here"</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">apisecret</span> <span class="o">=</span> <span class="s2">"your-api-secret-goes-here"</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">hash</span> <span class="o">=</span> <span class="nx">crypto</span><span class="p">.</span><span class="nx">createHmac</span><span class="p">(</span><span class="s2">"sha256"</span><span class="p">,</span> <span class="nx">apisecret</span><span class="p">).</span><span class="nx">update</span><span class="p">(</span><span class="s2">""</span><span class="p">);</span>

<span class="c1">//add to default authentication header</span>
<span class="nx">axios</span><span class="p">.</span><span class="nx">defaults</span><span class="p">.</span><span class="nx">auth</span> <span class="o">=</span> <span class="p">{</span> <span class="na">username</span><span class="p">:</span> <span class="s2">"API-key"</span><span class="p">,</span> <span class="na">password</span><span class="p">:</span> <span class="nx">hash</span><span class="p">.</span><span class="nx">digest</span><span class="p">(</span><span class="s2">"hex"</span><span class="p">)</span> <span class="p">};</span>

<span class="nx">axios</span>
  <span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">url</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">response</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">})</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="nx">err</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">err</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
  <span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns a 200 response code</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"categories"</span><span class="p">:</span><span class="w"> </span><span class="mi">300</span><span class="p">,</span><span class="w">
  </span><span class="s2">"products"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s2">"products"</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span><span class="w"> </span><span class="s2">"variants"</span><span class="p">:</span><span class="w"> </span><span class="mi">2500</span><span class="w"> </span><span class="p">},</span><span class="w">
  </span><span class="s2">"orders"</span><span class="p">:</span><span class="w"> </span><span class="mi">5000</span><span class="p">,</span><span class="w">
  </span><span class="s2">"users"</span><span class="p">:</span><span class="w"> </span><span class="mi">4900</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Endpoint: <code>GET</code> <code>https://api.datacue.co/v1/overview</code>
Provides an overview of all backend data received by the DataCue API from your store.</p>
<h3 id='response-json-fields-4'>Response JSON fields</h3>
<table><thead>
<tr>
<th>FieldName</th>
<th>Data Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>categories</code></td>
<td>Integer</td>
<td>Number of categories received</td>
</tr>
<tr>
<td><code>products</code></td>
<td>Integer</td>
<td>Number of unique product received (excluding variants)</td>
</tr>
<tr>
<td><code>variants</code></td>
<td>Integer</td>
<td>Number of unique product variants received</td>
</tr>
<tr>
<td><code>orders</code></td>
<td>Integer</td>
<td>Number of unique orders received</td>
</tr>
<tr>
<td><code>users</code></td>
<td>Integer</td>
<td>Number of unique users received</td>
</tr>
</tbody></table>
<h2 id='get-products'>Get Products</h2><pre class="highlight html tab-html"><code><span class="c">&lt;!--- backend only event (refer to the Python, PHP or Node tab) --&gt;</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$apikey</span> <span class="o">=</span> <span class="s2">"Your-API-Key-goes-here"</span><span class="p">;</span>
<span class="nv">$apisecret</span> <span class="o">=</span> <span class="s2">"Your-API-secret-goes-here"</span><span class="p">;</span>

<span class="nv">$datacue</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\DataCue\Client</span><span class="p">(</span><span class="nv">$apikey</span><span class="p">,</span> <span class="nv">$apisecret</span><span class="p">);</span>

<span class="nv">$res</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">client</span><span class="o">-&gt;</span><span class="na">overview</span><span class="o">-&gt;</span><span class="na">products</span><span class="p">();</span>

<span class="k">print</span><span class="p">(</span><span class="nv">$res</span><span class="p">);</span>

<span class="cp">?&gt;</span>
</code></pre><pre class="highlight python tab-python"><code>
<span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">requests</span>

<span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.datacue.co/v1/overview/products"</span>
<span class="n">apikey</span> <span class="o">=</span> <span class="s">"your-api-key-goes-here"</span>
<span class="n">apisecret</span> <span class="o">=</span> <span class="s">"your-api-secret-goes-here"</span>

<span class="n">checksum</span> <span class="o">=</span> <span class="n">hmac</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="nb">bytes</span><span class="p">(</span><span class="n">apisecret</span><span class="p">,</span> <span class="s">"utf-8"</span><span class="p">),</span>
                    <span class="nb">bytes</span><span class="p">(</span><span class="s">""</span><span class="p">,</span> <span class="s">"utf-8"</span><span class="p">),</span> <span class="n">hashlib</span><span class="o">.</span><span class="n">sha256</span><span class="p">)</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">auth</span><span class="o">=</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">checksum</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">()))</span>

<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">())</span>

</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">axios</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"axios"</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">cryto</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"crypto"</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">url</span> <span class="o">=</span> <span class="s2">"https://api.datacue.co/v1/overview/products"</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">apikey</span> <span class="o">=</span> <span class="s2">"your-api-key-goes-here"</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">apisecret</span> <span class="o">=</span> <span class="s2">"your-api-secret-goes-here"</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">hash</span> <span class="o">=</span> <span class="nx">crypto</span><span class="p">.</span><span class="nx">createHmac</span><span class="p">(</span><span class="s2">"sha256"</span><span class="p">,</span> <span class="nx">apisecret</span><span class="p">).</span><span class="nx">update</span><span class="p">(</span><span class="s2">""</span><span class="p">);</span>

<span class="c1">//add to default authentication header</span>
<span class="nx">axios</span><span class="p">.</span><span class="nx">defaults</span><span class="p">.</span><span class="nx">auth</span> <span class="o">=</span> <span class="p">{</span> <span class="na">username</span><span class="p">:</span> <span class="s2">"API-key"</span><span class="p">,</span> <span class="na">password</span><span class="p">:</span> <span class="nx">hash</span><span class="p">.</span><span class="nx">digest</span><span class="p">(</span><span class="s2">"hex"</span><span class="p">)</span> <span class="p">};</span>

<span class="nx">axios</span>
  <span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">url</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">response</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">})</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="nx">err</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">err</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
  <span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns a 200 response code</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w"> </span><span class="s2">"ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"P1"</span><span class="p">,</span><span class="w"> </span><span class="s2">"P2"</span><span class="p">],</span><span class="w"> </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Endpoint: <code>GET</code> <code>https://api.datacue.co/v1/overview/products</code>
Provides an overview of all product data received by the DataCue API from your store.</p>
<h3 id='response-json-fields-5'>Response JSON fields</h3>
<table><thead>
<tr>
<th>Field</th>
<th>Data Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>ids</code></td>
<td>String Array</td>
<td>Array of all product ids received successfully</td>
</tr>
<tr>
<td><code>count</code></td>
<td>Integer</td>
<td>Number of unique products</td>
</tr>
</tbody></table>
<h2 id='get-categories'>Get Categories</h2><pre class="highlight html tab-html"><code><span class="c">&lt;!--- backend only event (refer to the Python, PHP or Node tab) --&gt;</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$apikey</span> <span class="o">=</span> <span class="s2">"Your-API-Key-goes-here"</span><span class="p">;</span>
<span class="nv">$apisecret</span> <span class="o">=</span> <span class="s2">"Your-API-secret-goes-here"</span><span class="p">;</span>

<span class="nv">$datacue</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\DataCue\Client</span><span class="p">(</span><span class="nv">$apikey</span><span class="p">,</span> <span class="nv">$apisecret</span><span class="p">);</span>

<span class="nv">$res</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">client</span><span class="o">-&gt;</span><span class="na">overview</span><span class="o">-&gt;</span><span class="na">categories</span><span class="p">();</span>

<span class="k">print</span><span class="p">(</span><span class="nv">$res</span><span class="p">);</span>

<span class="cp">?&gt;</span>
</code></pre><pre class="highlight python tab-python"><code>
<span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">requests</span>

<span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.datacue.co/v1/overview/categories"</span>
<span class="n">apikey</span> <span class="o">=</span> <span class="s">"your-api-key-goes-here"</span>
<span class="n">apisecret</span> <span class="o">=</span> <span class="s">"your-api-secret-goes-here"</span>

<span class="n">checksum</span> <span class="o">=</span> <span class="n">hmac</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="nb">bytes</span><span class="p">(</span><span class="n">apisecret</span><span class="p">,</span> <span class="s">"utf-8"</span><span class="p">),</span>
                    <span class="nb">bytes</span><span class="p">(</span><span class="s">""</span><span class="p">,</span> <span class="s">"utf-8"</span><span class="p">),</span> <span class="n">hashlib</span><span class="o">.</span><span class="n">sha256</span><span class="p">)</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">auth</span><span class="o">=</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">checksum</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">()))</span>

<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">())</span>

</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">axios</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"axios"</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">cryto</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"crypto"</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">url</span> <span class="o">=</span> <span class="s2">"https://api.datacue.co/v1/overview/categories"</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">apikey</span> <span class="o">=</span> <span class="s2">"your-api-key-goes-here"</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">apisecret</span> <span class="o">=</span> <span class="s2">"your-api-secret-goes-here"</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">hash</span> <span class="o">=</span> <span class="nx">crypto</span><span class="p">.</span><span class="nx">createHmac</span><span class="p">(</span><span class="s2">"sha256"</span><span class="p">,</span> <span class="nx">apisecret</span><span class="p">).</span><span class="nx">update</span><span class="p">(</span><span class="s2">""</span><span class="p">);</span>

<span class="c1">//add to default authentication header</span>
<span class="nx">axios</span><span class="p">.</span><span class="nx">defaults</span><span class="p">.</span><span class="nx">auth</span> <span class="o">=</span> <span class="p">{</span> <span class="na">username</span><span class="p">:</span> <span class="s2">"API-key"</span><span class="p">,</span> <span class="na">password</span><span class="p">:</span> <span class="nx">hash</span><span class="p">.</span><span class="nx">digest</span><span class="p">(</span><span class="s2">"hex"</span><span class="p">)</span> <span class="p">};</span>

<span class="nx">axios</span>
  <span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">url</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">response</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">})</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="nx">err</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">err</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
  <span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns a 200 response code</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w"> </span><span class="s2">"ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"C1"</span><span class="p">,</span><span class="w"> </span><span class="s2">"C2"</span><span class="p">],</span><span class="w"> </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Endpoint: <code>GET</code> <code>https://api.datacue.co/v1/overview/categories</code>
Provides an overview of all categories received by the DataCue API from your store.</p>
<h3 id='response-json-fields-6'>Response JSON fields</h3>
<table><thead>
<tr>
<th>Field</th>
<th>Data Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>ids</code></td>
<td>String Array</td>
<td>Array of all categoriy ids received successfully</td>
</tr>
<tr>
<td><code>count</code></td>
<td>Integer</td>
<td>Number of unique categories</td>
</tr>
</tbody></table>
<h2 id='get-orders'>Get Orders</h2><pre class="highlight html tab-html"><code><span class="c">&lt;!--- backend only event (refer to the Python, PHP or Node tab) --&gt;</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$apikey</span> <span class="o">=</span> <span class="s2">"Your-API-Key-goes-here"</span><span class="p">;</span>
<span class="nv">$apisecret</span> <span class="o">=</span> <span class="s2">"Your-API-secret-goes-here"</span><span class="p">;</span>

<span class="nv">$datacue</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\DataCue\Client</span><span class="p">(</span><span class="nv">$apikey</span><span class="p">,</span> <span class="nv">$apisecret</span><span class="p">);</span>

<span class="nv">$res</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">client</span><span class="o">-&gt;</span><span class="na">overview</span><span class="o">-&gt;</span><span class="na">orders</span><span class="p">();</span>

<span class="k">print</span><span class="p">(</span><span class="nv">$res</span><span class="p">);</span>

<span class="cp">?&gt;</span>
</code></pre><pre class="highlight python tab-python"><code>
<span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">requests</span>

<span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.datacue.co/v1/overview/orders"</span>
<span class="n">apikey</span> <span class="o">=</span> <span class="s">"your-api-key-goes-here"</span>
<span class="n">apisecret</span> <span class="o">=</span> <span class="s">"your-api-secret-goes-here"</span>

<span class="n">checksum</span> <span class="o">=</span> <span class="n">hmac</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="nb">bytes</span><span class="p">(</span><span class="n">apisecret</span><span class="p">,</span> <span class="s">"utf-8"</span><span class="p">),</span>
                    <span class="nb">bytes</span><span class="p">(</span><span class="s">""</span><span class="p">,</span> <span class="s">"utf-8"</span><span class="p">),</span> <span class="n">hashlib</span><span class="o">.</span><span class="n">sha256</span><span class="p">)</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">auth</span><span class="o">=</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">checksum</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">()))</span>

<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">())</span>

</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">axios</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"axios"</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">cryto</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"crypto"</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">url</span> <span class="o">=</span> <span class="s2">"https://api.datacue.co/v1/overview/orders"</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">apikey</span> <span class="o">=</span> <span class="s2">"your-api-key-goes-here"</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">apisecret</span> <span class="o">=</span> <span class="s2">"your-api-secret-goes-here"</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">hash</span> <span class="o">=</span> <span class="nx">crypto</span><span class="p">.</span><span class="nx">createHmac</span><span class="p">(</span><span class="s2">"sha256"</span><span class="p">,</span> <span class="nx">apisecret</span><span class="p">).</span><span class="nx">update</span><span class="p">(</span><span class="s2">""</span><span class="p">);</span>

<span class="c1">//add to default authentication header</span>
<span class="nx">axios</span><span class="p">.</span><span class="nx">defaults</span><span class="p">.</span><span class="nx">auth</span> <span class="o">=</span> <span class="p">{</span> <span class="na">username</span><span class="p">:</span> <span class="s2">"API-key"</span><span class="p">,</span> <span class="na">password</span><span class="p">:</span> <span class="nx">hash</span><span class="p">.</span><span class="nx">digest</span><span class="p">(</span><span class="s2">"hex"</span><span class="p">)</span> <span class="p">};</span>

<span class="nx">axios</span>
  <span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">url</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">response</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">})</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="nx">err</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">err</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
  <span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns a 200 response code</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w"> </span><span class="s2">"ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"O1"</span><span class="p">,</span><span class="w"> </span><span class="s2">"O2"</span><span class="p">],</span><span class="w"> </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Endpoint: <code>GET</code> <code>https://api.datacue.co/v1/overview/orders</code>
Provides an overview of all order data received by the DataCue API from your store.</p>
<h3 id='response-json-fields-7'>Response JSON fields</h3>
<table><thead>
<tr>
<th>Field</th>
<th>Data Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>ids</code></td>
<td>String Array</td>
<td>Array of all order ids received successfully</td>
</tr>
<tr>
<td><code>count</code></td>
<td>Integer</td>
<td>Number of unique orders</td>
</tr>
</tbody></table>
<h2 id='get-users'>Get Users</h2><pre class="highlight html tab-html"><code><span class="c">&lt;!--- backend only event (refer to the Python, PHP or Node tab) --&gt;</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$apikey</span> <span class="o">=</span> <span class="s2">"Your-API-Key-goes-here"</span><span class="p">;</span>
<span class="nv">$apisecret</span> <span class="o">=</span> <span class="s2">"Your-API-secret-goes-here"</span><span class="p">;</span>

<span class="nv">$datacue</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\DataCue\Client</span><span class="p">(</span><span class="nv">$apikey</span><span class="p">,</span> <span class="nv">$apisecret</span><span class="p">);</span>

<span class="nv">$res</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">client</span><span class="o">-&gt;</span><span class="na">overview</span><span class="o">-&gt;</span><span class="na">users</span><span class="p">();</span>

<span class="k">print</span><span class="p">(</span><span class="nv">$res</span><span class="p">);</span>

<span class="cp">?&gt;</span>
</code></pre><pre class="highlight python tab-python"><code>
<span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">requests</span>

<span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.datacue.co/v1/overview/users"</span>
<span class="n">apikey</span> <span class="o">=</span> <span class="s">"your-api-key-goes-here"</span>
<span class="n">apisecret</span> <span class="o">=</span> <span class="s">"your-api-secret-goes-here"</span>

<span class="n">checksum</span> <span class="o">=</span> <span class="n">hmac</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="nb">bytes</span><span class="p">(</span><span class="n">apisecret</span><span class="p">,</span> <span class="s">"utf-8"</span><span class="p">),</span>
                    <span class="nb">bytes</span><span class="p">(</span><span class="s">""</span><span class="p">,</span> <span class="s">"utf-8"</span><span class="p">),</span> <span class="n">hashlib</span><span class="o">.</span><span class="n">sha256</span><span class="p">)</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">auth</span><span class="o">=</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">checksum</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">()))</span>

<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">())</span>

</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">axios</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"axios"</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">cryto</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"crypto"</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">url</span> <span class="o">=</span> <span class="s2">"https://api.datacue.co/v1/overview/users"</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">apikey</span> <span class="o">=</span> <span class="s2">"your-api-key-goes-here"</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">apisecret</span> <span class="o">=</span> <span class="s2">"your-api-secret-goes-here"</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">hash</span> <span class="o">=</span> <span class="nx">crypto</span><span class="p">.</span><span class="nx">createHmac</span><span class="p">(</span><span class="s2">"sha256"</span><span class="p">,</span> <span class="nx">apisecret</span><span class="p">).</span><span class="nx">update</span><span class="p">(</span><span class="s2">""</span><span class="p">);</span>

<span class="c1">//add to default authentication header</span>
<span class="nx">axios</span><span class="p">.</span><span class="nx">defaults</span><span class="p">.</span><span class="nx">auth</span> <span class="o">=</span> <span class="p">{</span> <span class="na">username</span><span class="p">:</span> <span class="s2">"API-key"</span><span class="p">,</span> <span class="na">password</span><span class="p">:</span> <span class="nx">hash</span><span class="p">.</span><span class="nx">digest</span><span class="p">(</span><span class="s2">"hex"</span><span class="p">)</span> <span class="p">};</span>

<span class="nx">axios</span>
  <span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">url</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">response</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">})</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="nx">err</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">err</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
  <span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns a 200 response code</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w"> </span><span class="s2">"ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"U1"</span><span class="p">,</span><span class="w"> </span><span class="s2">"U2"</span><span class="p">],</span><span class="w"> </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Endpoint: <code>GET</code> <code>https://api.datacue.co/v1/overview/users</code>
Provides an overview of all user data received by the DataCue API from your store.</p>
<h3 id='response-json-fields-8'>Response JSON fields</h3>
<table><thead>
<tr>
<th>Field</th>
<th>Data Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>ids</code></td>
<td>String Array</td>
<td>Array of all users ids received successfully</td>
</tr>
<tr>
<td><code>count</code></td>
<td>Integer</td>
<td>Number of unique users</td>
</tr>
</tbody></table>
<h1 id='products'>Products</h1><h2 id='create-product'>Create Product</h2><pre class="highlight html tab-html"><code><span class="c">&lt;!--- backend only event (refer to the Python, PHP or Node tab) --&gt;</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$apikey</span> <span class="o">=</span> <span class="s2">"Your-API-Key-goes-here"</span><span class="p">;</span>
<span class="nv">$apisecret</span> <span class="o">=</span> <span class="s2">"Your-API-secret-goes-here"</span><span class="p">;</span>

<span class="nv">$datacue</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\DataCue\Client</span><span class="p">(</span><span class="nv">$apikey</span><span class="p">,</span> <span class="nv">$apisecret</span><span class="p">);</span>

<span class="nv">$data</span> <span class="o">=</span> <span class="p">[</span>
  <span class="s2">"product_id"</span> <span class="o">=&gt;</span> <span class="s2">"p1"</span><span class="p">,</span>
  <span class="s2">"variant_id"</span> <span class="o">=&gt;</span> <span class="s2">"v1"</span><span class="p">,</span>
  <span class="s2">"category_ids"</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s2">"men"</span><span class="p">,</span><span class="s2">"summer"</span><span class="p">,</span><span class="s2">"jeans"</span><span class="p">],</span>
  <span class="s2">"name"</span> <span class="o">=&gt;</span> <span class="s2">"cool jeans"</span><span class="p">,</span>
  <span class="s2">"brand"</span> <span class="o">=&gt;</span> <span class="s2">"zayra"</span><span class="p">,</span>
  <span class="s2">"description"</span> <span class="o">=&gt;</span> <span class="s2">"very fashionable jeans"</span><span class="p">,</span>
  <span class="s2">"color"</span> <span class="o">=&gt;</span> <span class="s2">"blue"</span><span class="p">,</span>
  <span class="s2">"size"</span> <span class="o">=&gt;</span> <span class="s2">"M"</span><span class="p">,</span>
  <span class="s2">"price"</span> <span class="o">=&gt;</span> <span class="mi">25000</span><span class="p">,</span>
  <span class="s2">"full_price"</span> <span class="o">=&gt;</span> <span class="mi">30000</span><span class="p">,</span>
  <span class="s2">"available"</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"stock"</span> <span class="o">=&gt;</span> <span class="mi">5</span><span class="p">,</span>
  <span class="s2">"rating"</span> <span class="o">=&gt;</span> <span class="mi">90</span><span class="p">,</span>
  <span class="s2">"extra"</span> <span class="o">=&gt;</span> <span class="p">[</span>
    <span class="s2">"extra_feature"</span> <span class="o">=&gt;</span> <span class="s2">"details"</span>
  <span class="p">],</span>
  <span class="s2">"photo_url"</span> <span class="o">=&gt;</span> <span class="s2">"https://s3.amazon.com/image.png"</span><span class="p">,</span>
  <span class="s2">"link"</span> <span class="o">=&gt;</span> <span class="s2">"/product/p1"</span><span class="p">,</span>
  <span class="s2">"owner_id"</span> <span class="o">=&gt;</span> <span class="s2">"user_id_3"</span>
<span class="p">];</span>

<span class="nv">$res</span> <span class="o">=</span> <span class="nv">$datacue</span><span class="o">-&gt;</span><span class="na">products</span><span class="o">-&gt;</span><span class="na">create</span><span class="p">(</span><span class="nv">$data</span><span class="p">);</span>

<span class="cp">?&gt;</span>
</code></pre><pre class="highlight python tab-python"><code>
<span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">requests</span>

<span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.datacue.co/v1/products"</span>
<span class="n">apikey</span> <span class="o">=</span> <span class="s">"your-api-key-goes-here"</span>
<span class="n">apisecret</span> <span class="o">=</span> <span class="s">"your-api-secret-goes-here"</span>

<span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">"product_id"</span><span class="p">:</span> <span class="s">"p1"</span><span class="p">,</span>
  <span class="s">"variant_id"</span><span class="p">:</span> <span class="s">"v1"</span><span class="p">,</span>
  <span class="s">"category_ids"</span><span class="p">:</span> <span class="p">[</span><span class="s">"men"</span><span class="p">,</span><span class="s">"summer"</span><span class="p">,</span><span class="s">"jeans"</span><span class="p">],</span>
  <span class="s">"name"</span><span class="p">:</span> <span class="s">"cool jeans"</span><span class="p">,</span>
  <span class="s">"brand"</span><span class="p">:</span> <span class="s">"zayra"</span><span class="p">,</span>
  <span class="s">"description"</span><span class="p">:</span> <span class="s">"very fashionable jeans"</span><span class="p">,</span>
  <span class="s">"color"</span><span class="p">:</span> <span class="s">"blue"</span><span class="p">,</span>
  <span class="s">"size"</span><span class="p">:</span> <span class="s">"M"</span><span class="p">,</span>
  <span class="s">"price"</span><span class="p">:</span> <span class="mi">25000</span><span class="p">,</span>
  <span class="s">"full_price"</span><span class="p">:</span> <span class="mi">35000</span><span class="p">,</span>
  <span class="s">"available"</span><span class="p">:</span> <span class="bp">True</span><span class="p">,</span>
  <span class="s">"stock"</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
  <span class="s">"rating"</span><span class="p">:</span> <span class="mi">90</span><span class="p">,</span>
  <span class="s">"extra"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">"extra_feature"</span><span class="p">:</span> <span class="s">"details"</span>
  <span class="p">},</span>
  <span class="s">"photo_url"</span><span class="p">:</span> <span class="s">"https://s3.amazon.com/image.png"</span><span class="p">,</span>
  <span class="s">"link"</span><span class="p">:</span> <span class="s">"/product/p1"</span><span class="p">,</span>
  <span class="s">"owner_id"</span><span class="p">:</span> <span class="s">"user_id_3"</span>
<span class="p">}</span>


<span class="n">jsonData</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="n">checksum</span> <span class="o">=</span> <span class="n">hmac</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="nb">bytes</span><span class="p">(</span><span class="n">apisecret</span><span class="p">,</span> <span class="s">'utf-8'</span><span class="p">),</span>
                    <span class="nb">bytes</span><span class="p">(</span><span class="n">jsonData</span><span class="p">,</span> <span class="s">'utf-8'</span><span class="p">),</span> <span class="n">hashlib</span><span class="o">.</span><span class="n">sha256</span><span class="p">)</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">jsonData</span><span class="p">,</span> <span class="n">auth</span><span class="o">=</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">checksum</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">()))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">axios</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"axios"</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">cryto</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"crypto"</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">url</span> <span class="o">=</span> <span class="s2">"https://api.datacue.co/v1/products"</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">apikey</span> <span class="o">=</span> <span class="s2">"your-api-key-goes-here"</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">apisecret</span> <span class="o">=</span> <span class="s2">"your-api-secret-goes-here"</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">product_id</span><span class="p">:</span> <span class="s2">"p1"</span><span class="p">,</span>
  <span class="na">variant_id</span><span class="p">:</span> <span class="s2">"v1"</span><span class="p">,</span>
  <span class="na">category_ids</span><span class="p">:</span> <span class="p">[</span><span class="s2">"men"</span><span class="p">,</span> <span class="s2">"summer"</span><span class="p">,</span> <span class="s2">"jeans"</span><span class="p">],</span>
  <span class="na">name</span><span class="p">:</span> <span class="s2">"cool jeans"</span><span class="p">,</span>
  <span class="na">brand</span><span class="p">:</span> <span class="s2">"zayra"</span><span class="p">,</span>
  <span class="na">description</span><span class="p">:</span> <span class="s2">"very fashionable jeans"</span><span class="p">,</span>
  <span class="na">color</span><span class="p">:</span> <span class="s2">"blue"</span><span class="p">,</span>
  <span class="na">size</span><span class="p">:</span> <span class="s2">"M"</span><span class="p">,</span>
  <span class="na">price</span><span class="p">:</span> <span class="mi">25000</span><span class="p">,</span>
  <span class="na">full_price</span><span class="p">:</span> <span class="mi">35000</span><span class="p">,</span>
  <span class="na">available</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="na">stock</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
  <span class="na">rating</span><span class="p">:</span> <span class="mi">90</span><span class="p">,</span>
  <span class="na">extra</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">extra_feature</span><span class="p">:</span> <span class="s2">"details"</span>
  <span class="p">},</span>
  <span class="na">photo_url</span><span class="p">:</span> <span class="s2">"https://s3.amazon.com/image.png"</span><span class="p">,</span>
  <span class="na">link</span><span class="p">:</span> <span class="s2">"/product/p1"</span><span class="p">,</span>
  <span class="na">owner_id</span><span class="p">:</span> <span class="s2">"user_id_3"</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">hash</span> <span class="o">=</span> <span class="nx">crypto</span><span class="p">.</span><span class="nx">createHmac</span><span class="p">(</span><span class="s2">"sha256"</span><span class="p">,</span> <span class="nx">apisecret</span><span class="p">).</span><span class="nx">update</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">Stringify</span><span class="p">(</span><span class="nx">data</span><span class="p">));</span>

<span class="c1">//add to default authentication header</span>
<span class="nx">axios</span><span class="p">.</span><span class="nx">defaults</span><span class="p">.</span><span class="nx">auth</span> <span class="o">=</span> <span class="p">{</span> <span class="na">username</span><span class="p">:</span> <span class="s2">"API-key"</span><span class="p">,</span> <span class="na">password</span><span class="p">:</span> <span class="nx">hash</span><span class="p">.</span><span class="nx">digest</span><span class="p">(</span><span class="s2">"hex"</span><span class="p">)</span> <span class="p">};</span>

<span class="nx">axios</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">data</span><span class="p">);</span>
</code></pre>
<blockquote>
<p>The above command returns a 201 response code</p>
</blockquote>

<p>Endpoint: <code>POST</code> <code>https://api.datacue.co/v1/products</code>
Whenever a new product is created, send this request from your backend.</p>
<h3 id='request-json-fields-12'>Request JSON fields</h3>
<table><thead>
<tr>
<th>FieldName</th>
<th>Data Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>product_id</code></td>
<td>String</td>
<td>Yes</td>
<td>The product id or SKU number</td>
</tr>
<tr>
<td><code>variant_id</code></td>
<td>String</td>
<td>Yes</td>
<td>A unique variant id within the product id, if you only use product SKUs set this to a constant such as &#39;no-variants&#39;</td>
</tr>
<tr>
<td><code>category_ids</code></td>
<td>String Array</td>
<td>Yes</td>
<td>A list of all the matching category ids as tags e.g. [&quot;Jeans&quot;,&quot;Summer&quot;,&quot;Men&quot;]. Must be a valid category_id (see categories)</td>
</tr>
<tr>
<td><code>name</code></td>
<td>String</td>
<td>Yes</td>
<td>Name or Title of the product</td>
</tr>
<tr>
<td><code>brand</code></td>
<td>String</td>
<td>No</td>
<td>Brand name of the product</td>
</tr>
<tr>
<td><code>description</code></td>
<td>String</td>
<td>No</td>
<td>Long text description of the product</td>
</tr>
<tr>
<td><code>color</code></td>
<td>String</td>
<td>No</td>
<td>Color of the product</td>
</tr>
<tr>
<td><code>size</code></td>
<td>String</td>
<td>No</td>
<td>Size of the product</td>
</tr>
<tr>
<td><code>price</code></td>
<td>Decimal</td>
<td>Yes</td>
<td>Current price including any discounts to two decimal places e.g. 4.50</td>
</tr>
<tr>
<td><code>full_price</code></td>
<td>Decimal</td>
<td>Yes</td>
<td>Full price without discount to two decimal places e.g. 5.30</td>
</tr>
<tr>
<td><code>available</code></td>
<td>Boolean</td>
<td>No</td>
<td>Is the product available for Sale (Default true)</td>
</tr>
<tr>
<td><code>stock</code></td>
<td>Integer</td>
<td>Yes</td>
<td>Number of product in stock</td>
</tr>
<tr>
<td><code>rating</code></td>
<td>Integer</td>
<td>No</td>
<td>Rating from 0-100 of the product/variant</td>
</tr>
<tr>
<td><code>extra</code></td>
<td>JSON Object</td>
<td>No</td>
<td>Any other fields you want to store about the product that you want to display on site e.g. discounts or promotions.</td>
</tr>
<tr>
<td><code>photo_url</code></td>
<td>String</td>
<td>Yes</td>
<td>URL of the photo, you can use relative URLs as this is purely for your front-end to request the image</td>
</tr>
<tr>
<td><code>link</code></td>
<td>String</td>
<td>Yes</td>
<td>URL of product page for this product e.g. /products/p1</td>
</tr>
<tr>
<td><code>owner_id</code></td>
<td>String</td>
<td>No</td>
<td>If you&#39;re running a marketplace, store the product&#39;s owner or seller&#39;s user ID here.</td>
</tr>
</tbody></table>
<h4 id='discounts'>Discounts</h4>
<p>DataCue can feature your discounted products automatically. Use the <code>price</code> and <code>full_price</code> field when you have a discount. If <code>full_price</code> is empty or less than <code>price</code>, we assume the product is not on discount.</p>

<p>Lets say you have a product that usually costs $50. This week you have it&#39;s on discount and costs $40.
Update the product like so:</p>

<ul>
<li><code>price</code> = 40.00</li>
<li><code>full_price</code> = 50.00</li>
</ul>
<h4 id='rating'>Rating</h4>
<p>DataCue can display a star rating under each product recommendation if you collect user reviews or have any other kind of rating system. Just send us a value from 0-100 in the rating field. This will appear as 5 stars under each product. e.g. a rating of 58, will show a star rating of 3 filled in stars out of 5.</p>
<h2 id='update-product'>Update Product</h2><pre class="highlight html tab-html"><code><span class="c">&lt;!--- backend only event (refer to the Python, PHP or Node tab) --&gt;</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$apikey</span> <span class="o">=</span> <span class="s2">"Your-API-Key-goes-here"</span><span class="p">;</span>
<span class="nv">$apisecret</span> <span class="o">=</span> <span class="s2">"Your-API-secret-goes-here"</span><span class="p">;</span>

<span class="nv">$datacue</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\DataCue\Client</span><span class="p">(</span><span class="nv">$apikey</span><span class="p">,</span> <span class="nv">$apisecret</span><span class="p">);</span>

<span class="c1">// replace $productId with the actual values you want to update
</span><span class="nv">$productId</span> <span class="o">=</span> <span class="s2">"p1"</span><span class="p">;</span>
<span class="c1">// replace $variantId with the actual values you want to update
</span><span class="nv">$variantId</span> <span class="o">=</span> <span class="s2">"v1"</span><span class="p">;</span>
<span class="nv">$data</span> <span class="o">=</span> <span class="p">[</span>
  <span class="s2">"category_ids"</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s2">"men"</span><span class="p">,</span><span class="s2">"summer"</span><span class="p">,</span><span class="s2">"jeans"</span><span class="p">],</span>
  <span class="s2">"name"</span> <span class="o">=&gt;</span> <span class="s2">"cool jeans"</span><span class="p">,</span>
  <span class="s2">"brand"</span> <span class="o">=&gt;</span> <span class="s2">"zayra"</span><span class="p">,</span>
  <span class="s2">"description"</span> <span class="o">=&gt;</span> <span class="s2">"very fashionable jeans"</span><span class="p">,</span>
  <span class="s2">"color"</span> <span class="o">=&gt;</span> <span class="s2">"blue"</span><span class="p">,</span>
  <span class="s2">"size"</span> <span class="o">=&gt;</span> <span class="s2">"M"</span><span class="p">,</span>
  <span class="s2">"price"</span> <span class="o">=&gt;</span> <span class="mi">25000</span><span class="p">,</span>
  <span class="s2">"full_price"</span> <span class="o">=&gt;</span> <span class="mi">30000</span><span class="p">,</span>
  <span class="s2">"available"</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"stock"</span> <span class="o">=&gt;</span> <span class="mi">5</span><span class="p">,</span>
  <span class="s2">"rating"</span> <span class="o">=&gt;</span> <span class="mi">90</span><span class="p">,</span>
  <span class="s2">"extra"</span> <span class="o">=&gt;</span> <span class="p">[</span>
    <span class="s2">"extra_feature"</span> <span class="o">=&gt;</span> <span class="s2">"details"</span>
  <span class="p">],</span>
  <span class="s2">"photo_url"</span> <span class="o">=&gt;</span> <span class="s2">"https://s3.amazon.com/image.png"</span><span class="p">,</span>
  <span class="s2">"link"</span> <span class="o">=&gt;</span> <span class="s2">"/product/p1"</span><span class="p">,</span>
  <span class="s2">"owner_id"</span> <span class="o">=&gt;</span> <span class="s2">"user_id_3"</span>
<span class="p">];</span>

<span class="nv">$res</span> <span class="o">=</span> <span class="nv">$datacue</span><span class="o">-&gt;</span><span class="na">products</span><span class="o">-&gt;</span><span class="na">update</span><span class="p">(</span><span class="nv">$productId</span><span class="p">,</span> <span class="nv">$variantId</span><span class="p">,</span> <span class="nv">$data</span><span class="p">);</span>

</code></pre><pre class="highlight python tab-python"><code>
<span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">requests</span>

<span class="n">productId</span> <span class="o">=</span> <span class="s">"p1"</span><span class="p">;</span>
<span class="n">variantId</span> <span class="o">=</span> <span class="s">"v1"</span><span class="p">;</span>

<span class="n">url</span> <span class="o">=</span> <span class="n">f</span><span class="s">"https://api.datacue.co/v1/products/{productId}/{variantId}"</span>
<span class="n">apikey</span> <span class="o">=</span> <span class="s">"your-api-key-goes-here"</span>
<span class="n">apisecret</span> <span class="o">=</span> <span class="s">"your-api-secret-goes-here"</span>

<span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">"category_ids"</span><span class="p">:</span> <span class="p">[</span><span class="s">"men"</span><span class="p">,</span><span class="s">"summer"</span><span class="p">,</span><span class="s">"jeans"</span><span class="p">],</span>
  <span class="s">"name"</span><span class="p">:</span> <span class="s">"cool jeans"</span><span class="p">,</span>
  <span class="s">"brand"</span><span class="p">:</span> <span class="s">"zayra"</span><span class="p">,</span>
  <span class="s">"description"</span><span class="p">:</span> <span class="s">"very fashionable jeans"</span><span class="p">,</span>
  <span class="s">"color"</span><span class="p">:</span> <span class="s">"blue"</span><span class="p">,</span>
  <span class="s">"size"</span><span class="p">:</span> <span class="s">"M"</span><span class="p">,</span>
  <span class="s">"price"</span><span class="p">:</span> <span class="mi">25000</span><span class="p">,</span>
  <span class="s">"full_price"</span><span class="p">:</span> <span class="mi">35000</span><span class="p">,</span>
  <span class="s">"available"</span><span class="p">:</span> <span class="bp">True</span><span class="p">,</span>
  <span class="s">"stock"</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
  <span class="s">"rating"</span><span class="p">:</span> <span class="mi">90</span><span class="p">,</span>
  <span class="s">"extra"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">"extra_feature"</span><span class="p">:</span> <span class="s">"details"</span>
  <span class="p">},</span>
  <span class="s">"photo_url"</span><span class="p">:</span> <span class="s">"https://s3.amazon.com/image.png"</span><span class="p">,</span>
  <span class="s">"link"</span><span class="p">:</span> <span class="s">"/product/p1"</span><span class="p">,</span>
  <span class="s">"owner_id"</span><span class="p">:</span> <span class="s">"user_id_3"</span>
<span class="p">}</span>

<span class="n">jsonData</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="n">checksum</span> <span class="o">=</span> <span class="n">hmac</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="nb">bytes</span><span class="p">(</span><span class="n">apisecret</span><span class="p">,</span> <span class="s">'utf-8'</span><span class="p">),</span>
                    <span class="nb">bytes</span><span class="p">(</span><span class="n">jsonData</span><span class="p">,</span> <span class="s">'utf-8'</span><span class="p">),</span> <span class="n">hashlib</span><span class="o">.</span><span class="n">sha256</span><span class="p">)</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">jsonData</span><span class="p">,</span> <span class="n">auth</span><span class="o">=</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">checksum</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">()))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">axios</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"axios"</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">cryto</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"crypto"</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">productId</span> <span class="o">=</span> <span class="s2">"p1"</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">variantId</span> <span class="o">=</span> <span class="s2">"v1"</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">url</span> <span class="o">=</span> <span class="s2">`https://api.datacue.co/v1/products/</span><span class="p">${</span><span class="nx">productId</span><span class="p">}</span><span class="s2">/</span><span class="p">${</span><span class="nx">variantId</span><span class="p">}</span><span class="s2">`</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">apikey</span> <span class="o">=</span> <span class="s2">"your-api-key-goes-here"</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">apisecret</span> <span class="o">=</span> <span class="s2">"your-api-secret-goes-here"</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">category_ids</span><span class="p">:</span> <span class="p">[</span><span class="s2">"men"</span><span class="p">,</span> <span class="s2">"summer"</span><span class="p">,</span> <span class="s2">"jeans"</span><span class="p">],</span>
  <span class="na">name</span><span class="p">:</span> <span class="s2">"cool jeans"</span><span class="p">,</span>
  <span class="na">brand</span><span class="p">:</span> <span class="s2">"zayra"</span><span class="p">,</span>
  <span class="na">description</span><span class="p">:</span> <span class="s2">"very fashionable jeans"</span><span class="p">,</span>
  <span class="na">color</span><span class="p">:</span> <span class="s2">"blue"</span><span class="p">,</span>
  <span class="na">size</span><span class="p">:</span> <span class="s2">"M"</span><span class="p">,</span>
  <span class="na">price</span><span class="p">:</span> <span class="mi">25000</span><span class="p">,</span>
  <span class="na">full_price</span><span class="p">:</span> <span class="mi">35000</span><span class="p">,</span>
  <span class="na">available</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="na">stock</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
  <span class="na">rating</span><span class="p">:</span> <span class="mi">90</span><span class="p">,</span>
  <span class="na">extra</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">extra_feature</span><span class="p">:</span> <span class="s2">"details"</span>
  <span class="p">},</span>
  <span class="na">photo_url</span><span class="p">:</span> <span class="s2">"https://s3.amazon.com/image.png"</span><span class="p">,</span>
  <span class="na">link</span><span class="p">:</span> <span class="s2">"/product/p1"</span><span class="p">,</span>
  <span class="na">owner_id</span><span class="p">:</span> <span class="s2">"user_id_3"</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">hash</span> <span class="o">=</span> <span class="nx">crypto</span><span class="p">.</span><span class="nx">createHmac</span><span class="p">(</span><span class="s2">"sha256"</span><span class="p">,</span> <span class="nx">apisecret</span><span class="p">).</span><span class="nx">update</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">Stringify</span><span class="p">(</span><span class="nx">data</span><span class="p">));</span>

<span class="c1">//add to default authentication header</span>
<span class="nx">axios</span><span class="p">.</span><span class="nx">defaults</span><span class="p">.</span><span class="nx">auth</span> <span class="o">=</span> <span class="p">{</span> <span class="na">username</span><span class="p">:</span> <span class="nx">apikey</span><span class="p">,</span> <span class="na">password</span><span class="p">:</span> <span class="nx">hash</span><span class="p">.</span><span class="nx">digest</span><span class="p">(</span><span class="s2">"hex"</span><span class="p">)</span> <span class="p">};</span>

<span class="nx">axios</span><span class="p">.</span><span class="nx">put</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">data</span><span class="p">);</span>
</code></pre>
<blockquote>
<p>The above command returns a 204 response code</p>
</blockquote>

<p>Endpoint: <code>PUT</code> <code>https://api.datacue.co/v1/products/&lt;product_id&gt;/&lt;variant_id&gt;</code></p>

<p>Whenever an existing product is updated such as image, name, price or new discounts, send this request from your backend.</p>
<h3 id='request-json-fields-13'>Request JSON fields</h3>
<p>Same as for <a href="#create-product">Create Product</a>, except <code>product_id</code> and <code>variant_id</code>.</p>

<aside class="success">
  Remember that when an order is completed this should also trigger a product update if the stock level of the product changes. This helps ensure that out of stock items are no longer recommended to other users.
</aside>
<h2 id='delete-product'>Delete Product</h2><pre class="highlight html tab-html"><code><span class="c">&lt;!--- backend only event (refer to the Python, PHP or Node tab) --&gt;</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$apikey</span> <span class="o">=</span> <span class="s2">"Your-API-Key-goes-here"</span><span class="p">;</span>
<span class="nv">$apisecret</span> <span class="o">=</span> <span class="s2">"Your-API-secret-goes-here"</span><span class="p">;</span>

<span class="nv">$datacue</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\DataCue\Client</span><span class="p">(</span><span class="nv">$apikey</span><span class="p">,</span> <span class="nv">$apisecret</span><span class="p">);</span>

<span class="c1">// replace $productId with the actual value you want to delete
</span><span class="nv">$productId</span> <span class="o">=</span> <span class="s2">"p1"</span><span class="p">;</span>
<span class="c1">// replace $variantId with the actual value you want to delete
</span><span class="nv">$variantId</span> <span class="o">=</span> <span class="s2">"v1"</span><span class="p">;</span>

<span class="c1">// if you want to delete a variant
</span><span class="nv">$res</span> <span class="o">=</span> <span class="nv">$datacue</span><span class="o">-&gt;</span><span class="na">products</span><span class="o">-&gt;</span><span class="na">delete</span><span class="p">(</span><span class="nv">$productId</span><span class="p">,</span> <span class="nv">$variantId</span><span class="p">);</span>

<span class="c1">// if you want to delete a product and all associated variants
</span><span class="nv">$res</span> <span class="o">=</span> <span class="nv">$datacue</span><span class="o">-&gt;</span><span class="na">products</span><span class="o">-&gt;</span><span class="na">delete</span><span class="p">(</span><span class="nv">$productId</span><span class="p">);</span>

</code></pre><pre class="highlight python tab-python"><code>
<span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">requests</span>

<span class="c"># replace these values with the product and variant id you want to delete</span>
<span class="n">productId</span> <span class="o">=</span> <span class="s">"p1"</span>
<span class="n">variantId</span> <span class="o">=</span> <span class="s">"v1"</span>

<span class="n">url</span> <span class="o">=</span> <span class="n">f</span><span class="s">"https://api.datacue.co/v1/products/{productId}/{variantId}"</span>

<span class="n">apikey</span> <span class="o">=</span> <span class="s">"your-api-key-goes-here"</span>
<span class="n">apisecret</span> <span class="o">=</span> <span class="s">"your-api-secret-goes-here"</span>

<span class="n">checksum</span> <span class="o">=</span> <span class="n">hmac</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="nb">bytes</span><span class="p">(</span><span class="n">apisecret</span><span class="p">,</span><span class="s">'utf-8'</span><span class="p">),</span> <span class="nb">bytes</span><span class="p">(</span><span class="s">""</span><span class="p">,</span> <span class="s">'utf-8'</span><span class="p">),</span> <span class="n">hashlib</span><span class="o">.</span><span class="n">sha256</span><span class="p">)</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">auth</span><span class="o">=</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">checksum</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">()))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">axios</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"axios"</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">cryto</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"crypto"</span><span class="p">);</span>

<span class="c1">// replace these values with the product and variant id you want to delete</span>
<span class="kr">const</span> <span class="nx">productId</span> <span class="o">=</span> <span class="s2">"p1"</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">variantId</span> <span class="o">=</span> <span class="s2">"v1"</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">url</span> <span class="o">=</span> <span class="s2">`https://api.datacue.co/v1/products/</span><span class="p">${</span><span class="nx">productId</span><span class="p">}</span><span class="s2">/</span><span class="p">${</span><span class="nx">variantId</span><span class="p">}</span><span class="s2">`</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">apikey</span> <span class="o">=</span> <span class="s2">"your-api-key-goes-here"</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">apisecret</span> <span class="o">=</span> <span class="s2">"your-api-secret-goes-here"</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">hash</span> <span class="o">=</span> <span class="nx">crypto</span><span class="p">.</span><span class="nx">createHmac</span><span class="p">(</span><span class="s2">"sha256"</span><span class="p">,</span> <span class="nx">apisecret</span><span class="p">).</span><span class="nx">update</span><span class="p">(</span><span class="s2">""</span><span class="p">);</span>

<span class="c1">//add to default authentication header</span>
<span class="nx">axios</span><span class="p">.</span><span class="nx">defaults</span><span class="p">.</span><span class="nx">auth</span> <span class="o">=</span> <span class="p">{</span> <span class="na">username</span><span class="p">:</span> <span class="nx">apikey</span><span class="p">,</span> <span class="na">password</span><span class="p">:</span> <span class="nx">hash</span><span class="p">.</span><span class="nx">digest</span><span class="p">(</span><span class="s2">"hex"</span><span class="p">)</span> <span class="p">};</span>

<span class="nx">axios</span><span class="p">.</span><span class="k">delete</span><span class="p">(</span><span class="nx">url</span><span class="p">);</span>
</code></pre>
<blockquote>
<p>The above command returns a 204 response code</p>
</blockquote>

<p>Delete a product on your system.</p>
<h3 id='delete-a-variant'>Delete a variant</h3>
<p>Endpoint: <code>DELETE</code> <code>https://api.datacue.co/v1/products/&lt;product_id&gt;/&lt;variant_id&gt;</code></p>
<h3 id='delete-a-product-and-all-associated-variants'>Delete a product and all associated variants</h3>
<p>Endpoint: <code>DELETE</code> <code>https://api.datacue.co/v1/products/&lt;product_id&gt;</code></p>
<h1 id='categories'>Categories</h1><h2 id='create-category'>Create Category</h2><pre class="highlight html tab-html"><code><span class="c">&lt;!--- backend only event (refer to the Python, PHP or Node tab) --&gt;</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$apikey</span> <span class="o">=</span> <span class="s2">"Your-API-Key-goes-here"</span><span class="p">;</span>
<span class="nv">$apisecret</span> <span class="o">=</span> <span class="s2">"Your-API-secret-goes-here"</span><span class="p">;</span>

<span class="nv">$datacue</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\DataCue\Client</span><span class="p">(</span><span class="nv">$apikey</span><span class="p">,</span> <span class="nv">$apisecret</span><span class="p">);</span>

<span class="nv">$data</span> <span class="o">=</span> <span class="p">[</span>
  <span class="s2">"category_id"</span> <span class="o">=&gt;</span> <span class="s2">"summer-jeans"</span><span class="p">,</span>
  <span class="s2">"name"</span> <span class="o">=&gt;</span> <span class="s2">"Summer Jeans"</span><span class="p">,</span>
  <span class="s2">"link"</span> <span class="o">=&gt;</span> <span class="s2">"/categories/summer-jeans"</span>
<span class="p">];</span>

<span class="nv">$res</span> <span class="o">=</span> <span class="nv">$datacue</span><span class="o">-&gt;</span><span class="na">categories</span><span class="o">-&gt;</span><span class="na">create</span><span class="p">(</span><span class="nv">$data</span><span class="p">);</span>

</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">requests</span>

<span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.datacue.co/v1/categories"</span>
<span class="n">apikey</span> <span class="o">=</span> <span class="s">"your-api-key-goes-here"</span>
<span class="n">apisecret</span> <span class="o">=</span> <span class="s">"your-api-secret-goes-here"</span>

<span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">"category_id"</span><span class="p">:</span> <span class="s">"summer-jeans"</span><span class="p">,</span>
  <span class="s">"name"</span><span class="p">:</span> <span class="s">"Summer Jeans"</span><span class="p">,</span>
  <span class="s">"link"</span><span class="p">:</span> <span class="s">"/categories/summer-jeans"</span>
<span class="p">}</span>

<span class="n">jsonData</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="n">checksum</span> <span class="o">=</span> <span class="n">hmac</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="nb">bytes</span><span class="p">(</span><span class="n">apisecret</span><span class="p">,</span><span class="s">'utf-8'</span><span class="p">),</span> <span class="nb">bytes</span><span class="p">(</span><span class="n">jsonData</span><span class="p">,</span> <span class="s">'utf-8'</span><span class="p">),</span> <span class="n">hashlib</span><span class="o">.</span><span class="n">sha256</span><span class="p">)</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">jsonData</span><span class="p">,</span> <span class="n">auth</span><span class="o">=</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">checksum</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">()))</span>

</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">axios</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'axios'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">cryto</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'crypto'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">url</span> <span class="o">=</span> <span class="s1">'https://api.datacue.co/v1/categories'</span>
<span class="kr">const</span> <span class="nx">apikey</span> <span class="o">=</span> <span class="s1">'your-api-key-goes-here'</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">apisecret</span> <span class="o">=</span> <span class="s1">'your-api-secret-goes-here'</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">category_id</span><span class="p">:</span> <span class="s1">'summer-jeans'</span>
  <span class="na">name</span><span class="p">:</span> <span class="s1">'Summer Jeans'</span>
  <span class="na">link</span><span class="p">:</span> <span class="s1">'/categories/summer-jeans'</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">hash</span> <span class="o">=</span> <span class="nx">crypto</span><span class="p">.</span><span class="nx">createHmac</span><span class="p">(</span><span class="s1">'sha256'</span><span class="p">,</span> <span class="nx">apisecret</span><span class="p">).</span><span class="nx">update</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">Stringify</span><span class="p">(</span><span class="nx">data</span><span class="p">));</span>

<span class="c1">//add to default authentication header</span>
<span class="nx">axios</span><span class="p">.</span><span class="nx">defaults</span><span class="p">.</span><span class="nx">auth</span> <span class="o">=</span> <span class="p">{</span> <span class="na">username</span><span class="p">:</span> <span class="s1">'API-key'</span><span class="p">,</span> <span class="na">password</span><span class="p">:</span> <span class="nx">hash</span><span class="p">.</span><span class="nx">digest</span><span class="p">(</span><span class="s1">'hex'</span><span class="p">)</span> <span class="p">};</span>

<span class="nx">axios</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">data</span><span class="p">);</span>
</code></pre>
<blockquote>
<p>The above command returns a 201 response code</p>
</blockquote>

<p>Endpoint: <code>POST</code> <code>https://api.datacue.co/v1/categories</code></p>

<p>When a new category is created on your store</p>
<h3 id='request-json-fields-14'>Request JSON fields</h3>
<table><thead>
<tr>
<th>FieldName</th>
<th>Data Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>category_id</code></td>
<td>String</td>
<td>Yes</td>
<td>The unique category id assigned</td>
</tr>
<tr>
<td><code>name</code></td>
<td>String</td>
<td>Yes</td>
<td>Category friendly name</td>
</tr>
<tr>
<td><code>link</code></td>
<td>String</td>
<td>No</td>
<td>Link to the respective category&#39;s page</td>
</tr>
</tbody></table>
<h2 id='update-category'>Update Category</h2><pre class="highlight html tab-html"><code><span class="c">&lt;!--- backend only event (refer to the Python, PHP or Node tab) --&gt;</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$apikey</span> <span class="o">=</span> <span class="s2">"Your-API-Key-goes-here"</span><span class="p">;</span>
<span class="nv">$apisecret</span> <span class="o">=</span> <span class="s2">"Your-API-secret-goes-here"</span><span class="p">;</span>

<span class="nv">$datacue</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\DataCue\Client</span><span class="p">(</span><span class="nv">$apikey</span><span class="p">,</span> <span class="nv">$apisecret</span><span class="p">);</span>

<span class="c1">// replace $userId with the actual value you want to update
</span><span class="nv">$categoryId</span> <span class="o">=</span> <span class="s2">"summer-jeans"</span><span class="p">;</span>
<span class="nv">$data</span> <span class="o">=</span> <span class="p">[</span>
  <span class="s2">"name"</span> <span class="o">=&gt;</span> <span class="s2">"Summer Jeans Special"</span><span class="p">,</span>
  <span class="s2">"link"</span> <span class="o">=&gt;</span> <span class="s2">"/categories/summer-jeans-2"</span>
<span class="p">];</span>

<span class="nv">$res</span> <span class="o">=</span> <span class="nv">$datacue</span><span class="o">-&gt;</span><span class="na">category</span><span class="o">-&gt;</span><span class="na">update</span><span class="p">(</span><span class="nv">$categoryId</span><span class="p">,</span> <span class="nv">$data</span><span class="p">);</span>

</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">requests</span>

<span class="c"># replace this value with the user id you want to update</span>
<span class="n">categoryId</span> <span class="o">=</span> <span class="s">"summer-jeans"</span>

<span class="n">url</span> <span class="o">=</span> <span class="n">f</span><span class="s">"https://api.datacue.co/v1/category/{categoryId}"</span>
<span class="n">apikey</span> <span class="o">=</span> <span class="s">"your-api-key-goes-here"</span>
<span class="n">apisecret</span> <span class="o">=</span> <span class="s">"your-api-secret-goes-here"</span>

<span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">"name"</span> <span class="p">:</span> <span class="s">"Summer Jeans Special"</span><span class="p">,</span>
  <span class="s">"link"</span> <span class="p">:</span> <span class="s">"/categories/summer-jeans-2"</span>
<span class="p">}</span>

<span class="n">jsonData</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="n">checksum</span> <span class="o">=</span> <span class="n">hmac</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="nb">bytes</span><span class="p">(</span><span class="n">apisecret</span><span class="p">,</span><span class="s">'utf-8'</span><span class="p">),</span> <span class="nb">bytes</span><span class="p">(</span><span class="n">jsonData</span><span class="p">,</span> <span class="s">'utf-8'</span><span class="p">),</span> <span class="n">hashlib</span><span class="o">.</span><span class="n">sha256</span><span class="p">)</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">jsonData</span><span class="p">,</span> <span class="n">auth</span><span class="o">=</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">checksum</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">()))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">axios</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"axios"</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">cryto</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"crypto"</span><span class="p">);</span>

<span class="c1">// replace this value with the user id you want to update</span>
<span class="kr">const</span> <span class="nx">categoryId</span> <span class="o">=</span> <span class="s2">"summer-jeans"</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">url</span> <span class="o">=</span> <span class="s2">`https://api.datacue.co/v1/categories/</span><span class="p">${</span><span class="nx">categoryId</span><span class="p">}</span><span class="s2">`</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">apikey</span> <span class="o">=</span> <span class="s2">"your-api-key-goes-here"</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">apisecret</span> <span class="o">=</span> <span class="s2">"your-api-secret-goes-here"</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">name</span><span class="p">:</span> <span class="s2">"Summer Jeans Special"</span><span class="p">,</span>
  <span class="na">link</span><span class="p">:</span> <span class="s2">"/categories/summer-jeans-2"</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">hash</span> <span class="o">=</span> <span class="nx">crypto</span><span class="p">.</span><span class="nx">createHmac</span><span class="p">(</span><span class="s2">"sha256"</span><span class="p">,</span> <span class="nx">apisecret</span><span class="p">).</span><span class="nx">update</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">Stringify</span><span class="p">(</span><span class="nx">data</span><span class="p">));</span>

<span class="c1">//add to default authentication header</span>
<span class="nx">axios</span><span class="p">.</span><span class="nx">defaults</span><span class="p">.</span><span class="nx">auth</span> <span class="o">=</span> <span class="p">{</span> <span class="na">username</span><span class="p">:</span> <span class="nx">apikey</span><span class="p">,</span> <span class="na">password</span><span class="p">:</span> <span class="nx">hash</span><span class="p">.</span><span class="nx">digest</span><span class="p">(</span><span class="s2">"hex"</span><span class="p">)</span> <span class="p">};</span>

<span class="nx">axios</span><span class="p">.</span><span class="nx">put</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">data</span><span class="p">);</span>
</code></pre>
<blockquote>
<p>The above command returns a 204 response code</p>
</blockquote>

<p>Endpoint: <code>PUT</code> <code>https://api.datacue.co/v1/categories/&lt;category_id&gt;</code></p>

<p>Send any updates to your category objects with this endpoint.</p>
<h3 id='request-json-fields-15'>Request JSON fields</h3>
<p>Same as for <a href="#create-category">Create Category</a>, except <code>category_id</code>.</p>
<h2 id='delete-category'>Delete Category</h2><pre class="highlight html tab-html"><code><span class="c">&lt;!--- backend only event (refer to the Python, PHP or Node tab) --&gt;</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$apikey</span> <span class="o">=</span> <span class="s2">"Your-API-Key-goes-here"</span><span class="p">;</span>
<span class="nv">$apisecret</span> <span class="o">=</span> <span class="s2">"Your-API-secret-goes-here"</span><span class="p">;</span>

<span class="nv">$datacue</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\DataCue\Client</span><span class="p">(</span><span class="nv">$apikey</span><span class="p">,</span> <span class="nv">$apisecret</span><span class="p">);</span>

<span class="c1">// replace $userId with the actual value you want to delete
</span><span class="nv">$categoryId</span> <span class="o">=</span> <span class="s2">"summer-jeans"</span><span class="p">;</span>

<span class="nv">$res</span> <span class="o">=</span> <span class="nv">$datacue</span><span class="o">-&gt;</span><span class="na">categories</span><span class="o">-&gt;</span><span class="na">delete</span><span class="p">(</span><span class="nv">$categoryId</span><span class="p">);</span>

</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">requests</span>

<span class="c"># replace this value with the user id you want to delete</span>
<span class="n">categoryId</span> <span class="o">=</span> <span class="s">"summer-jeans"</span>

<span class="n">url</span> <span class="o">=</span> <span class="n">f</span><span class="s">"https://api.datacue.co/v1/categories/{categoryId}"</span>
<span class="n">apikey</span> <span class="o">=</span> <span class="s">"your-api-key-goes-here"</span>
<span class="n">apisecret</span> <span class="o">=</span> <span class="s">"your-api-secret-goes-here"</span>

<span class="n">checksum</span> <span class="o">=</span> <span class="n">hmac</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="nb">bytes</span><span class="p">(</span><span class="n">apisecret</span><span class="p">,</span><span class="s">'utf-8'</span><span class="p">),</span> <span class="nb">bytes</span><span class="p">(</span><span class="s">""</span><span class="p">,</span> <span class="s">'utf-8'</span><span class="p">),</span> <span class="n">hashlib</span><span class="o">.</span><span class="n">sha256</span><span class="p">)</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">auth</span><span class="o">=</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">checksum</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">()))</span>

</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">axios</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"axios"</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">cryto</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"crypto"</span><span class="p">);</span>

<span class="c1">// replace this value with the user id you want to delete</span>
<span class="kr">const</span> <span class="nx">categoryId</span> <span class="o">=</span> <span class="s2">"summer-jeans"</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">url</span> <span class="o">=</span> <span class="s2">`https://api.datacue.co/v1/categories/</span><span class="p">${</span><span class="nx">categoryId</span><span class="p">}</span><span class="s2">`</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">apikey</span> <span class="o">=</span> <span class="s2">"your-api-key-goes-here"</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">apisecret</span> <span class="o">=</span> <span class="s2">"your-api-secret-goes-here"</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">hash</span> <span class="o">=</span> <span class="nx">crypto</span><span class="p">.</span><span class="nx">createHmac</span><span class="p">(</span><span class="s2">"sha256"</span><span class="p">,</span> <span class="nx">apisecret</span><span class="p">).</span><span class="nx">update</span><span class="p">(</span><span class="s2">""</span><span class="p">);</span>

<span class="c1">//add to default authentication header</span>
<span class="nx">axios</span><span class="p">.</span><span class="nx">defaults</span><span class="p">.</span><span class="nx">auth</span> <span class="o">=</span> <span class="p">{</span> <span class="na">username</span><span class="p">:</span> <span class="nx">apikey</span><span class="p">,</span> <span class="na">password</span><span class="p">:</span> <span class="nx">hash</span><span class="p">.</span><span class="nx">digest</span><span class="p">(</span><span class="s2">"hex"</span><span class="p">)</span> <span class="p">};</span>

<span class="nx">axios</span><span class="p">.</span><span class="k">delete</span><span class="p">(</span><span class="nx">url</span><span class="p">);</span>
</code></pre>
<blockquote>
<p>The above command returns a 204 response code</p>
</blockquote>

<p>Endpoint: <code>DELETE</code> <code>https://api.datacue.co/v1/categories/&lt;category_id&gt;</code></p>

<p>When a product category is deleted from your system.</p>
<h1 id='users'>Users</h1><h2 id='create-user'>Create User</h2><pre class="highlight html tab-html"><code><span class="c">&lt;!--- backend only event (refer to the Python, PHP or Node tab) --&gt;</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$apikey</span> <span class="o">=</span> <span class="s2">"Your-API-Key-goes-here"</span><span class="p">;</span>
<span class="nv">$apisecret</span> <span class="o">=</span> <span class="s2">"Your-API-secret-goes-here"</span><span class="p">;</span>

<span class="nv">$datacue</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\DataCue\Client</span><span class="p">(</span><span class="nv">$apikey</span><span class="p">,</span> <span class="nv">$apisecret</span><span class="p">);</span>

<span class="nv">$data</span> <span class="o">=</span> <span class="p">[</span>
  <span class="s2">"user_id"</span> <span class="o">=&gt;</span> <span class="s2">"u1"</span><span class="p">,</span>
  <span class="s2">"email"</span> <span class="o">=&gt;</span> <span class="s2">"spongebob@bikinibottom.com"</span><span class="p">,</span>
  <span class="s2">"title"</span> <span class="o">=&gt;</span> <span class="s2">"Mr"</span><span class="p">,</span>
  <span class="s2">"first_name"</span> <span class="o">=&gt;</span> <span class="s2">"Spongebob"</span><span class="p">,</span>
  <span class="s2">"last_name"</span> <span class="o">=&gt;</span> <span class="s2">"Squarepants"</span><span class="p">,</span>
  <span class="s2">"profile"</span> <span class="o">=&gt;</span> <span class="p">[</span>
    <span class="s2">"loyalty_plan"</span> <span class="o">=&gt;</span> <span class="s2">"platinum"</span>
  <span class="p">],</span>
  <span class="s2">"wishlist"</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s2">"p1"</span><span class="p">,</span> <span class="s2">"p3"</span><span class="p">,</span> <span class="s2">"p4"</span><span class="p">],</span> <span class="c1">//array of product ids
</span>  <span class="s2">"email_subscriber"</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"guest_account"</span> <span class="o">=&gt;</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"timestamp"</span> <span class="o">=&gt;</span> <span class="s2">"2018-04-04 23:29:04-0300"</span>
<span class="p">];</span>

<span class="nv">$res</span> <span class="o">=</span> <span class="nv">$datacue</span><span class="o">-&gt;</span><span class="na">users</span><span class="o">-&gt;</span><span class="na">create</span><span class="p">(</span><span class="nv">$data</span><span class="p">);</span>

</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">requests</span>

<span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.datacue.co/v1/users"</span>
<span class="n">apikey</span> <span class="o">=</span> <span class="s">"your-api-key-goes-here"</span>
<span class="n">apisecret</span> <span class="o">=</span> <span class="s">"your-api-secret-goes-here"</span>

<span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">"user_id"</span> <span class="p">:</span> <span class="s">"u1"</span><span class="p">,</span>
  <span class="s">"email"</span> <span class="p">:</span> <span class="s">"spongebob@bikinibottom.com"</span><span class="p">,</span>
  <span class="s">"title"</span> <span class="p">:</span> <span class="s">"Mr"</span><span class="p">,</span>
  <span class="s">"first_name"</span> <span class="p">:</span> <span class="s">"Spongebob"</span><span class="p">,</span>
  <span class="s">"last_name"</span> <span class="p">:</span> <span class="s">"Squarepants"</span><span class="p">,</span>
  <span class="s">"profile"</span> <span class="p">:</span> <span class="p">{</span>
    <span class="s">"loyalty_plan"</span> <span class="p">:</span> <span class="s">"platinum"</span>
  <span class="p">},</span>
  <span class="s">"wishlist"</span> <span class="p">:</span> <span class="p">[</span><span class="s">"p1"</span><span class="p">,</span> <span class="s">"p3"</span><span class="p">,</span> <span class="s">"p4"</span><span class="p">],</span> <span class="c"># array of product ids</span>
  <span class="s">"email_subscriber"</span> <span class="p">:</span> <span class="bp">True</span><span class="p">,</span>
  <span class="s">"guest_account"</span> <span class="p">:</span> <span class="bp">False</span><span class="p">,</span>
  <span class="s">"timestamp"</span> <span class="p">:</span> <span class="s">"2018-04-04 23:29:04-0300"</span>
<span class="p">}</span>

<span class="n">jsonData</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="n">checksum</span> <span class="o">=</span> <span class="n">hmac</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="nb">bytes</span><span class="p">(</span><span class="n">apisecret</span><span class="p">,</span><span class="s">'utf-8'</span><span class="p">),</span> <span class="nb">bytes</span><span class="p">(</span><span class="n">jsonData</span><span class="p">,</span> <span class="s">'utf-8'</span><span class="p">),</span> <span class="n">hashlib</span><span class="o">.</span><span class="n">sha256</span><span class="p">)</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">jsonData</span><span class="p">,</span> <span class="n">auth</span><span class="o">=</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">checksum</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">()))</span>

</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">axios</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"axios"</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">cryto</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"crypto"</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">url</span> <span class="o">=</span> <span class="s2">"https://api.datacue.co/v1/users"</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">apikey</span> <span class="o">=</span> <span class="s2">"your-api-key-goes-here"</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">apisecret</span> <span class="o">=</span> <span class="s2">"your-api-secret-goes-here"</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">user_id</span> <span class="p">:</span> <span class="s2">"u1"</span><span class="p">,</span>
  <span class="na">email</span> <span class="p">:</span> <span class="s2">"spongebob@bikinibottom.com"</span><span class="p">,</span>
  <span class="na">title</span> <span class="p">:</span> <span class="s2">"Mr"</span><span class="p">,</span>
  <span class="na">first_name</span> <span class="p">:</span> <span class="s2">"Spongebob"</span><span class="p">,</span>
  <span class="na">last_name</span> <span class="p">:</span> <span class="s2">"Squarepants"</span><span class="p">,</span>
  <span class="na">profile</span> <span class="p">:</span> <span class="p">{</span>
    <span class="s2">"loyalty_plan"</span> <span class="p">:</span> <span class="s2">"platinum"</span>
  <span class="p">},</span>
  <span class="na">wishlist</span> <span class="p">:</span> <span class="p">[</span><span class="s2">"p1"</span><span class="p">,</span> <span class="s2">"p3"</span><span class="p">,</span> <span class="s2">"p4"</span><span class="p">],</span> <span class="c1">// array of product ids</span>
  <span class="na">email_subscriber</span> <span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="na">guest_account</span> <span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="na">timestamp</span> <span class="p">:</span> <span class="s2">"2018-04-04 23:29:04-0300"</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">hash</span> <span class="o">=</span> <span class="nx">crypto</span><span class="p">.</span><span class="nx">createHmac</span><span class="p">(</span><span class="s2">"sha256"</span><span class="p">,</span> <span class="nx">apisecret</span><span class="p">).</span><span class="nx">update</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">Stringify</span><span class="p">(</span><span class="nx">data</span><span class="p">));</span>

<span class="c1">//add to default authentication header</span>
<span class="nx">axios</span><span class="p">.</span><span class="nx">defaults</span><span class="p">.</span><span class="nx">auth</span> <span class="o">=</span> <span class="p">{</span> <span class="na">username</span><span class="p">:</span> <span class="s2">"API-key"</span><span class="p">,</span> <span class="na">password</span><span class="p">:</span> <span class="nx">hash</span><span class="p">.</span><span class="nx">digest</span><span class="p">(</span><span class="s2">"hex"</span><span class="p">)</span> <span class="p">};</span>

<span class="nx">axios</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">data</span><span class="p">);</span>
</code></pre>
<blockquote>
<p>The above command returns a 201 response code</p>
</blockquote>

<p>Endpoint: <code>POST</code> <code>https://api.datacue.co/v1/users</code></p>

<p>When a new user has successfully signed up / registered on your system.</p>
<h3 id='request-json-fields-16'>Request JSON fields</h3>
<table><thead>
<tr>
<th>FieldName</th>
<th>Data Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>user_id</code></td>
<td>String</td>
<td>Yes</td>
<td>The unique user id assigned</td>
</tr>
<tr>
<td><code>anonymous_id</code></td>
<td>String</td>
<td>No</td>
<td>Anonymous ID that was previously associated with this user prior to user sign up</td>
</tr>
<tr>
<td><code>email</code></td>
<td>String</td>
<td>Yes, if using email marketing</td>
<td>User&#39;s email address</td>
</tr>
<tr>
<td><code>title</code></td>
<td>String</td>
<td>No</td>
<td>Salutation e.g. Mr., Ms., Dr.</td>
</tr>
<tr>
<td><code>first_name</code></td>
<td>String</td>
<td>No</td>
<td>User&#39;s first name, if you store all the names in one field assign the name to this field</td>
</tr>
<tr>
<td><code>last_name</code></td>
<td>String</td>
<td>No</td>
<td>User&#39;s last name</td>
</tr>
<tr>
<td><code>profile</code></td>
<td>JSON Object</td>
<td>No</td>
<td>User profile information, like if they are on a loyalty program.</td>
</tr>
<tr>
<td><code>email_subscriber</code></td>
<td>Boolean</td>
<td>No</td>
<td>Has this user consented to receive marketing email?</td>
</tr>
<tr>
<td><code>guest_account</code></td>
<td>Boolean</td>
<td>No</td>
<td>Is this a guest account (user has no login credentials)</td>
</tr>
<tr>
<td><code>wishlist</code></td>
<td>Array</td>
<td>No</td>
<td>An array of product ids representing the products the user has on their wishlist.</td>
</tr>
<tr>
<td><code>timestamp</code></td>
<td>ISO-8601 Date</td>
<td>No</td>
<td>User creation date/time in UTC timezone</td>
</tr>
</tbody></table>
<h2 id='update-user'>Update User</h2><pre class="highlight html tab-html"><code><span class="c">&lt;!--- backend only event (refer to the Python, PHP or Node tab) --&gt;</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$apikey</span> <span class="o">=</span> <span class="s2">"Your-API-Key-goes-here"</span><span class="p">;</span>
<span class="nv">$apisecret</span> <span class="o">=</span> <span class="s2">"Your-API-secret-goes-here"</span><span class="p">;</span>

<span class="nv">$datacue</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\DataCue\Client</span><span class="p">(</span><span class="nv">$apikey</span><span class="p">,</span> <span class="nv">$apisecret</span><span class="p">);</span>

<span class="c1">// replace $userId with the actual value you want to update
</span><span class="nv">$userId</span> <span class="o">=</span> <span class="s2">"u1"</span><span class="p">;</span>
<span class="nv">$data</span> <span class="o">=</span> <span class="p">[</span>
  <span class="s2">"email"</span> <span class="o">=&gt;</span> <span class="s2">"xyz@abc.com"</span><span class="p">,</span>
  <span class="s2">"title"</span> <span class="o">=&gt;</span> <span class="s2">"Mr"</span><span class="p">,</span>
  <span class="s2">"first_name"</span> <span class="o">=&gt;</span> <span class="s2">"John"</span><span class="p">,</span>
  <span class="s2">"last_name"</span> <span class="o">=&gt;</span> <span class="s2">"Smith"</span><span class="p">,</span>
  <span class="s2">"profile"</span> <span class="o">=&gt;</span> <span class="p">[</span>
    <span class="s2">"loyalty_plan"</span> <span class="o">=&gt;</span> <span class="s2">"platinum"</span>
  <span class="p">],</span>
  <span class="s2">"wishlist"</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s2">"P1"</span><span class="p">,</span> <span class="s2">"P3"</span><span class="p">,</span> <span class="s2">"P4"</span><span class="p">],</span> <span class="c1">//array of product ids
</span>  <span class="s2">"email_subscriber"</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"guest_account"</span> <span class="o">=&gt;</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"timestamp"</span> <span class="o">=&gt;</span> <span class="s2">"2018-04-04 23:29:04-0300"</span>
<span class="p">];</span>

<span class="nv">$res</span> <span class="o">=</span> <span class="nv">$datacue</span><span class="o">-&gt;</span><span class="na">users</span><span class="o">-&gt;</span><span class="na">update</span><span class="p">(</span><span class="nv">$userId</span><span class="p">,</span> <span class="nv">$data</span><span class="p">);</span>

</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">requests</span>

<span class="c"># replace this value with the user id you want to update</span>
<span class="n">userId</span> <span class="o">=</span> <span class="s">"u1"</span>

<span class="n">url</span> <span class="o">=</span> <span class="n">f</span><span class="s">"https://api.datacue.co/v1/users/{userId}"</span>
<span class="n">apikey</span> <span class="o">=</span> <span class="s">"your-api-key-goes-here"</span>
<span class="n">apisecret</span> <span class="o">=</span> <span class="s">"your-api-secret-goes-here"</span>

<span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">"user_id"</span><span class="p">:</span> <span class="s">"u1"</span><span class="p">,</span>
  <span class="s">"email"</span><span class="p">:</span> <span class="s">"xyz@abc.com"</span><span class="p">,</span>
  <span class="s">"title"</span><span class="p">:</span> <span class="s">"Mr"</span><span class="p">,</span>
  <span class="s">"first_name"</span><span class="p">:</span> <span class="s">"John"</span><span class="p">,</span>
  <span class="s">"last_name"</span><span class="p">:</span> <span class="s">"Smith"</span><span class="p">,</span>
  <span class="s">"profile"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">"loyalty_plan"</span><span class="p">:</span> <span class="s">"platinum"</span>
  <span class="p">},</span>
  <span class="s">"wishlist"</span><span class="p">:</span> <span class="p">[</span><span class="s">'P1'</span><span class="p">,</span><span class="s">'P3'</span><span class="p">,</span><span class="s">'P4'</span><span class="p">],</span> <span class="c">#array of product ids</span>
  <span class="s">"email_subscriber"</span><span class="p">:</span> <span class="bp">True</span><span class="p">,</span>
  <span class="s">"guest_account"</span><span class="p">:</span> <span class="bp">False</span><span class="p">,</span>
  <span class="s">"timestamp"</span><span class="p">:</span> <span class="s">"2018-04-04 23:29:04-0300"</span>
<span class="p">}</span>

<span class="n">jsonData</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="n">checksum</span> <span class="o">=</span> <span class="n">hmac</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="nb">bytes</span><span class="p">(</span><span class="n">apisecret</span><span class="p">,</span><span class="s">'utf-8'</span><span class="p">),</span> <span class="nb">bytes</span><span class="p">(</span><span class="n">jsonData</span><span class="p">,</span> <span class="s">'utf-8'</span><span class="p">),</span> <span class="n">hashlib</span><span class="o">.</span><span class="n">sha256</span><span class="p">)</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">jsonData</span><span class="p">,</span> <span class="n">auth</span><span class="o">=</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">checksum</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">()))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">axios</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"axios"</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">cryto</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"crypto"</span><span class="p">);</span>

<span class="c1">// replace this value with the user id you want to update</span>
<span class="kr">const</span> <span class="nx">userId</span> <span class="o">=</span> <span class="s2">"u1"</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">url</span> <span class="o">=</span> <span class="s2">`https://api.datacue.co/v1/users/</span><span class="p">${</span><span class="nx">userId</span><span class="p">}</span><span class="s2">`</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">apikey</span> <span class="o">=</span> <span class="s2">"your-api-key-goes-here"</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">apisecret</span> <span class="o">=</span> <span class="s2">"your-api-secret-goes-here"</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">email</span><span class="p">:</span> <span class="s2">"xyz@abc.com"</span><span class="p">,</span>
  <span class="na">title</span><span class="p">:</span> <span class="s2">"Mr"</span><span class="p">,</span>
  <span class="na">first_name</span><span class="p">:</span> <span class="s2">"Noob"</span><span class="p">,</span>
  <span class="na">last_name</span><span class="p">:</span> <span class="s2">"Saibot"</span><span class="p">,</span>
  <span class="na">profile</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">loyalty_plan</span><span class="p">:</span> <span class="s2">"platinum"</span>
  <span class="p">},</span>
  <span class="na">wishlist</span><span class="p">:</span> <span class="p">[</span><span class="s2">"P1"</span><span class="p">,</span> <span class="s2">"P3"</span><span class="p">,</span> <span class="s2">"P4"</span><span class="p">],</span> <span class="c1">//array of product ids</span>
  <span class="na">email_subscriber</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="na">guest_account</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="na">timestamp</span><span class="p">:</span> <span class="s2">"2018-04-04 23:29:04-0300"</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">hash</span> <span class="o">=</span> <span class="nx">crypto</span><span class="p">.</span><span class="nx">createHmac</span><span class="p">(</span><span class="s2">"sha256"</span><span class="p">,</span> <span class="nx">apisecret</span><span class="p">).</span><span class="nx">update</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">Stringify</span><span class="p">(</span><span class="nx">data</span><span class="p">));</span>

<span class="c1">//add to default authentication header</span>
<span class="nx">axios</span><span class="p">.</span><span class="nx">defaults</span><span class="p">.</span><span class="nx">auth</span> <span class="o">=</span> <span class="p">{</span> <span class="na">username</span><span class="p">:</span> <span class="nx">apikey</span><span class="p">,</span> <span class="na">password</span><span class="p">:</span> <span class="nx">hash</span><span class="p">.</span><span class="nx">digest</span><span class="p">(</span><span class="s2">"hex"</span><span class="p">)</span> <span class="p">};</span>

<span class="nx">axios</span><span class="p">.</span><span class="nx">put</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">data</span><span class="p">);</span>
</code></pre>
<blockquote>
<p>The above command returns a 204 response code</p>
</blockquote>

<p>Endpoint: <code>PUT</code> <code>https://api.datacue.co/v1/users/&lt;user_id&gt;</code></p>

<p>When the user makes changes to their profile or when they configure any relevant preferences. For instance if they unsubscribe from receiving marketing email, this is very important to know.</p>
<h3 id='request-json-fields-17'>Request JSON fields</h3>
<p>Same as for <a href="#create-user">Create User</a>, except <code>user_id</code>.</p>
<h2 id='delete-user'>Delete User</h2><pre class="highlight html tab-html"><code><span class="c">&lt;!--- backend only event (refer to the Python, PHP or Node tab) --&gt;</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$apikey</span> <span class="o">=</span> <span class="s2">"Your-API-Key-goes-here"</span><span class="p">;</span>
<span class="nv">$apisecret</span> <span class="o">=</span> <span class="s2">"Your-API-secret-goes-here"</span><span class="p">;</span>

<span class="nv">$datacue</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\DataCue\Client</span><span class="p">(</span><span class="nv">$apikey</span><span class="p">,</span> <span class="nv">$apisecret</span><span class="p">);</span>

<span class="c1">// replace $userId with the actual value you want to delete
</span><span class="nv">$userId</span> <span class="o">=</span> <span class="s2">"u1"</span><span class="p">;</span>

<span class="nv">$res</span> <span class="o">=</span> <span class="nv">$datacue</span><span class="o">-&gt;</span><span class="na">users</span><span class="o">-&gt;</span><span class="na">delete</span><span class="p">(</span><span class="nv">$userId</span><span class="p">);</span>

</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">requests</span>

<span class="c"># replace this value with the user id you want to delete</span>
<span class="n">userId</span> <span class="o">=</span> <span class="s">"u1"</span>

<span class="n">url</span> <span class="o">=</span> <span class="n">f</span><span class="s">"https://api.datacue.co/v1/users/{userId}"</span>
<span class="n">apikey</span> <span class="o">=</span> <span class="s">"your-api-key-goes-here"</span>
<span class="n">apisecret</span> <span class="o">=</span> <span class="s">"your-api-secret-goes-here"</span>

<span class="n">checksum</span> <span class="o">=</span> <span class="n">hmac</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="nb">bytes</span><span class="p">(</span><span class="n">apisecret</span><span class="p">,</span><span class="s">'utf-8'</span><span class="p">),</span> <span class="nb">bytes</span><span class="p">(</span><span class="s">""</span><span class="p">,</span> <span class="s">'utf-8'</span><span class="p">),</span> <span class="n">hashlib</span><span class="o">.</span><span class="n">sha256</span><span class="p">)</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">auth</span><span class="o">=</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">checksum</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">()))</span>

</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">axios</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"axios"</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">cryto</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"crypto"</span><span class="p">);</span>

<span class="c1">// replace this value with the user id you want to delete</span>
<span class="kr">const</span> <span class="nx">userId</span> <span class="o">=</span> <span class="s2">"u1"</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">url</span> <span class="o">=</span> <span class="s2">`https://api.datacue.co/v1/users/</span><span class="p">${</span><span class="nx">userId</span><span class="p">}</span><span class="s2">`</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">apikey</span> <span class="o">=</span> <span class="s2">"your-api-key-goes-here"</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">apisecret</span> <span class="o">=</span> <span class="s2">"your-api-secret-goes-here"</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">hash</span> <span class="o">=</span> <span class="nx">crypto</span><span class="p">.</span><span class="nx">createHmac</span><span class="p">(</span><span class="s2">"sha256"</span><span class="p">,</span> <span class="nx">apisecret</span><span class="p">).</span><span class="nx">update</span><span class="p">(</span><span class="s2">""</span><span class="p">);</span>

<span class="c1">//add to default authentication header</span>
<span class="nx">axios</span><span class="p">.</span><span class="nx">defaults</span><span class="p">.</span><span class="nx">auth</span> <span class="o">=</span> <span class="p">{</span> <span class="na">username</span><span class="p">:</span> <span class="nx">apikey</span><span class="p">,</span> <span class="na">password</span><span class="p">:</span> <span class="nx">hash</span><span class="p">.</span><span class="nx">digest</span><span class="p">(</span><span class="s2">"hex"</span><span class="p">)</span> <span class="p">};</span>

<span class="nx">axios</span><span class="p">.</span><span class="k">delete</span><span class="p">(</span><span class="nx">url</span><span class="p">);</span>
</code></pre>
<blockquote>
<p>The above command returns a 204 response code</p>
</blockquote>

<p>Endpoint: <code>DELETE</code> <code>https://api.datacue.co/v1/users/&lt;user_id&gt;</code></p>

<p>When a user account is deleted from your system.</p>
<h1 id='orders'>Orders</h1><h2 id='create-order'>Create Order</h2><pre class="highlight html tab-html"><code><span class="c">&lt;!-- Refer to the store frontend section above to see frontend code samples --&gt;</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$apikey</span> <span class="o">=</span> <span class="s2">"Your-API-Key-goes-here"</span><span class="p">;</span>
<span class="nv">$apisecret</span> <span class="o">=</span> <span class="s2">"Your-API-secret-goes-here"</span><span class="p">;</span>

<span class="nv">$datacue</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\DataCue\Client</span><span class="p">(</span><span class="nv">$apikey</span><span class="p">,</span> <span class="nv">$apisecret</span><span class="p">);</span>

<span class="nv">$data</span> <span class="o">=</span> <span class="p">[</span>
  <span class="s2">"order_id"</span> <span class="o">=&gt;</span> <span class="s2">"O123"</span><span class="p">,</span>
  <span class="s2">"user_id"</span> <span class="o">=&gt;</span> <span class="s2">"U456"</span><span class="p">,</span>
  <span class="s2">"order_status"</span> <span class="o">=&gt;</span> <span class="s2">"completed"</span><span class="p">,</span>
  <span class="s2">"cart"</span> <span class="o">=&gt;</span> <span class="p">[</span>
    <span class="p">[</span><span class="s2">"product_id"</span> <span class="o">=&gt;</span> <span class="s2">"p1"</span><span class="p">,</span> <span class="s2">"variant_id"</span> <span class="o">=&gt;</span> <span class="s2">"v1"</span><span class="p">,</span> <span class="s2">"quantity"</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">"unit_price"</span> <span class="o">=&gt;</span> <span class="mi">24</span><span class="p">,</span> <span class="s2">"currency"</span> <span class="o">=&gt;</span> <span class="s2">"USD"</span><span class="p">],</span>
    <span class="p">[</span><span class="s2">"product_id"</span> <span class="o">=&gt;</span> <span class="s2">"p3"</span><span class="p">,</span> <span class="s2">"variant_id"</span> <span class="o">=&gt;</span> <span class="s2">"v2"</span><span class="p">,</span> <span class="s2">"quantity"</span> <span class="o">=&gt;</span> <span class="mi">9</span><span class="p">,</span> <span class="s2">"unit_price"</span> <span class="o">=&gt;</span> <span class="mi">42</span><span class="p">,</span> <span class="s2">"currency"</span> <span class="o">=&gt;</span> <span class="s2">"USD"</span><span class="p">]</span>
  <span class="p">],</span>
  <span class="s2">"timestamp"</span> <span class="o">=&gt;</span> <span class="s2">"2018-04-04 23:29:04Z"</span>
<span class="p">];</span>

<span class="nv">$res</span> <span class="o">=</span> <span class="nv">$datacue</span><span class="o">-&gt;</span><span class="na">orders</span><span class="o">-&gt;</span><span class="na">create</span><span class="p">(</span><span class="nv">$data</span><span class="p">);</span>

</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">requests</span>

<span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.datacue.co/v1/orders"</span>
<span class="n">apikey</span> <span class="o">=</span> <span class="s">"your-api-key-goes-here"</span>
<span class="n">apisecret</span> <span class="o">=</span> <span class="s">"your-api-secret-goes-here"</span>

<span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">"order_id"</span><span class="p">:</span> <span class="s">"o123"</span><span class="p">,</span>
  <span class="s">"user_id"</span><span class="p">:</span> <span class="s">"u456"</span><span class="p">,</span>
  <span class="s">"order_status"</span><span class="p">:</span> <span class="s">"completed"</span><span class="p">,</span>
  <span class="s">"cart"</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="s">"product_id"</span><span class="p">:</span> <span class="s">"p1"</span><span class="p">,</span>
      <span class="s">"variant_id"</span><span class="p">:</span> <span class="s">"v1"</span><span class="p">,</span>
      <span class="s">"quantity"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
      <span class="s">"unit_price"</span><span class="p">:</span> <span class="mi">24</span><span class="p">,</span>
      <span class="s">"currency"</span><span class="p">:</span> <span class="s">"USD"</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="s">"product_id"</span><span class="p">:</span> <span class="s">"p3"</span><span class="p">,</span>
      <span class="s">"variant_id"</span><span class="p">:</span> <span class="s">"v2"</span><span class="p">,</span>
      <span class="s">"quantity"</span><span class="p">:</span> <span class="mi">9</span><span class="p">,</span>
      <span class="s">"unit_price"</span><span class="p">:</span> <span class="mi">42</span><span class="p">,</span>
      <span class="s">"currency"</span><span class="p">:</span> <span class="s">"USD"</span>
    <span class="p">}</span>
  <span class="p">],</span>
  <span class="s">"timestamp"</span><span class="p">:</span> <span class="s">"2018-04-04 23:29:04Z"</span>
<span class="p">}</span>

<span class="n">jsonData</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="n">checksum</span> <span class="o">=</span> <span class="n">hmac</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="nb">bytes</span><span class="p">(</span><span class="n">apisecret</span><span class="p">,</span><span class="s">'utf-8'</span><span class="p">),</span> <span class="nb">bytes</span><span class="p">(</span><span class="n">jsonData</span><span class="p">,</span> <span class="s">'utf-8'</span><span class="p">),</span> <span class="n">hashlib</span><span class="o">.</span><span class="n">sha256</span><span class="p">)</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">jsonData</span><span class="p">,</span> <span class="n">auth</span><span class="o">=</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">checksum</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">()))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">axios</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"axios"</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">cryto</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"crypto"</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">url</span> <span class="o">=</span> <span class="s2">"https://api.datacue.co/v1/orders"</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">apikey</span> <span class="o">=</span> <span class="s2">"your-api-key-goes-here"</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">apisecret</span> <span class="o">=</span> <span class="s2">"your-api-secret-goes-here"</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">order_id</span><span class="p">:</span> <span class="s2">"O123"</span><span class="p">,</span>
  <span class="na">user_id</span><span class="p">:</span> <span class="s2">"U456"</span><span class="p">,</span>
  <span class="na">order_status</span><span class="p">:</span> <span class="s2">"completed"</span><span class="p">,</span>
  <span class="na">cart</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="na">product_id</span><span class="p">:</span> <span class="s2">"p1"</span><span class="p">,</span>
      <span class="na">variant_id</span><span class="p">:</span> <span class="s2">"v1"</span><span class="p">,</span>
      <span class="na">quantity</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
      <span class="na">unit_price</span><span class="p">:</span> <span class="mi">24</span><span class="p">,</span>
      <span class="na">currency</span><span class="p">:</span> <span class="s2">"USD"</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="na">product_id</span><span class="p">:</span> <span class="s2">"p3"</span><span class="p">,</span>
      <span class="na">variant_id</span><span class="p">:</span> <span class="s2">"v2"</span><span class="p">,</span>
      <span class="na">quantity</span><span class="p">:</span> <span class="mi">9</span><span class="p">,</span>
      <span class="na">unit_price</span><span class="p">:</span> <span class="mi">42</span><span class="p">,</span>
      <span class="na">currency</span><span class="p">:</span> <span class="s2">"USD"</span>
    <span class="p">}</span>
  <span class="p">],</span>
  <span class="na">timestamp</span><span class="p">:</span> <span class="s2">"2018-04-04 23:29:04Z"</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">hash</span> <span class="o">=</span> <span class="nx">crypto</span><span class="p">.</span><span class="nx">createHmac</span><span class="p">(</span><span class="s2">"sha256"</span><span class="p">,</span> <span class="nx">apisecret</span><span class="p">).</span><span class="nx">update</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">Stringify</span><span class="p">(</span><span class="nx">data</span><span class="p">));</span>

<span class="c1">//add to default authentication header</span>
<span class="nx">axios</span><span class="p">.</span><span class="nx">defaults</span><span class="p">.</span><span class="nx">auth</span> <span class="o">=</span> <span class="p">{</span> <span class="na">username</span><span class="p">:</span> <span class="s2">"API-key"</span><span class="p">,</span> <span class="na">password</span><span class="p">:</span> <span class="nx">hash</span><span class="p">.</span><span class="nx">digest</span><span class="p">(</span><span class="s2">"hex"</span><span class="p">)</span> <span class="p">};</span>

<span class="nx">axios</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">data</span><span class="p">);</span>
</code></pre>
<blockquote>
<p>The above command returns a 201 response code</p>
</blockquote>

<p>Orders can be sent in two ways. The easiest way is to insert your order data into the datacueConfig object in the order confirmation page. Look at the &#39;browser&#39; tab code samples to see how to do it.</p>

<p>Alternatively, you can use our REST api to send it.</p>

<p>Endpoint: <code>POST</code> <code>https://api.datacue.co/v1/orders</code></p>

<p>An Order is considered &#39;completed&#39; as soon as the checkout process is completed on your website. It does not matter if the order has further steps such as waiting for payment, or order fulfilment.</p>
<h3 id='request-json-fields-18'>Request JSON fields</h3>
<table><thead>
<tr>
<th>FieldName</th>
<th>Data Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>order_id</code></td>
<td>String</td>
<td>Yes</td>
<td>The unique order id assigned</td>
</tr>
<tr>
<td><code>user_id</code></td>
<td>String</td>
<td>Yes</td>
<td>User ID that made the order</td>
</tr>
<tr>
<td><code>order_status</code></td>
<td>String</td>
<td>No</td>
<td>Can be <code>completed</code> (default) or <code>cancelled</code></td>
</tr>
<tr>
<td><code>cart</code></td>
<td>Array</td>
<td>No</td>
<td>An array of line items in the order shopping cart</td>
</tr>
<tr>
<td><code>timestamp</code></td>
<td>ISO-8601 Date</td>
<td>Yes</td>
<td>Order creation date/time in UTC timezone</td>
</tr>
</tbody></table>
<h3 id='cart-items'>cart items</h3>
<table><thead>
<tr>
<th>FieldName</th>
<th>Data Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>product_id</code></td>
<td>String</td>
<td>Yes</td>
<td>Product ID code</td>
</tr>
<tr>
<td><code>variant_id</code></td>
<td>String</td>
<td>Yes</td>
<td>Variant ID of the product</td>
</tr>
<tr>
<td><code>unit_price</code></td>
<td>Decimal</td>
<td>Yes</td>
<td>The unit price of the product (including any discounts)</td>
</tr>
<tr>
<td><code>quantity</code></td>
<td>Integer</td>
<td>Yes</td>
<td>Number of products purchased</td>
</tr>
</tbody></table>
<h3 id='guest-checkout'>Guest checkout</h3>
<p>Guest checkouts are when a customer does not need to create an account with a password to make a purchase.</p>

<p>To create a guest checkout, you just need to do two things.</p>

<ol>
<li><p>Set the <code>user_id</code> to the email of the guest account.</p></li>
<li><p>If you are sending order data via the REST api, you must add a snippet to the order confirmation page. Switch the code samples to &#39;Browser&#39; to see the snippet.</p></li>
</ol>
<pre class="highlight html tab-html"><code><span class="nt">&lt;script&gt;</span>
  <span class="nb">window</span><span class="p">.</span><span class="nx">datacueConfig</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">api_key</span><span class="p">:</span> <span class="s2">"your-api-key"</span><span class="p">,</span>
    <span class="na">user_id</span><span class="p">:</span> <span class="s2">"&lt;guest-email-id&gt;"</span><span class="p">,</span>
    <span class="na">page_type</span><span class="p">:</span> <span class="s2">"order confirmation"</span>
  <span class="p">};</span>
<span class="nt">&lt;/script&gt;</span>

<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://cdn.datacue.co/js/datacue.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://cdn.datacue.co/js/datacue-storefront.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
</code></pre><h2 id='change-order-status'>Change Order Status</h2>
<p>Order status can be <code>completed</code> or <code>cancelled</code>.</p>
<pre class="highlight html tab-html"><code><span class="c">&lt;!--- backend only event (refer to the Python, PHP or Node tab) --&gt;</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$apikey</span> <span class="o">=</span> <span class="s2">"Your-API-Key-goes-here"</span><span class="p">;</span>
<span class="nv">$apisecret</span> <span class="o">=</span> <span class="s2">"Your-API-secret-goes-here"</span><span class="p">;</span>

<span class="nv">$datacue</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\DataCue\Client</span><span class="p">(</span><span class="nv">$apikey</span><span class="p">,</span> <span class="nv">$apisecret</span><span class="p">);</span>

<span class="c1">// replace $orderId with the order id you want to modify
</span><span class="nv">$orderId</span> <span class="o">=</span> <span class="s1">'o1'</span><span class="p">;</span>

<span class="nv">$res</span> <span class="o">=</span> <span class="nv">$datacue</span><span class="o">-&gt;</span><span class="na">orders</span><span class="o">-&gt;</span><span class="na">cancel</span><span class="p">(</span><span class="nv">$orderId</span><span class="p">);</span> <span class="c1">//to cancel order
</span><span class="nv">$res</span> <span class="o">=</span> <span class="nv">$datacue</span><span class="o">-&gt;</span><span class="na">orders</span><span class="o">-&gt;</span><span class="na">complete</span><span class="p">(</span><span class="nv">$orderId</span><span class="p">);</span> <span class="c1">//to complete order
</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">requests</span>

<span class="c"># replace this value with the order id you want to modify</span>
<span class="n">orderId</span> <span class="o">=</span> <span class="s">"o1"</span>

<span class="n">url</span> <span class="o">=</span> <span class="n">f</span><span class="s">"https://api.datacue.co/v1/orders/{orderId}/status"</span>
<span class="n">apikey</span> <span class="o">=</span> <span class="s">"your-api-key-goes-here"</span>
<span class="n">apisecret</span> <span class="o">=</span> <span class="s">"your-api-secret-goes-here"</span>

<span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">"order_status"</span><span class="p">:</span> <span class="s">"cancelled"</span>
<span class="p">}</span>

<span class="n">jsonData</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="n">checksum</span> <span class="o">=</span> <span class="n">hmac</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="nb">bytes</span><span class="p">(</span><span class="n">apisecret</span><span class="p">,</span><span class="s">'utf-8'</span><span class="p">),</span> <span class="nb">bytes</span><span class="p">(</span><span class="n">jsonData</span><span class="p">,</span> <span class="s">'utf-8'</span><span class="p">),</span> <span class="n">hashlib</span><span class="o">.</span><span class="n">sha256</span><span class="p">)</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">patch</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">jsonData</span><span class="p">,</span> <span class="n">auth</span><span class="o">=</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">checksum</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">())</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">axios</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"axios"</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">cryto</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"crypto"</span><span class="p">);</span>

<span class="c1">// replace this value with the order id you want to modify</span>
<span class="kr">const</span> <span class="nx">orderId</span> <span class="o">=</span> <span class="s2">"o1"</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">url</span> <span class="o">=</span> <span class="s2">`https://api.datacue.co/v1/orders/</span><span class="p">${</span><span class="nx">orderId</span><span class="p">}</span><span class="s2">/status`</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">apikey</span> <span class="o">=</span> <span class="s2">"your-api-key-goes-here"</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">apisecret</span> <span class="o">=</span> <span class="s2">"your-api-secret-goes-here"</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">order_status</span><span class="p">:</span> <span class="s2">"cancelled"</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">hash</span> <span class="o">=</span> <span class="nx">crypto</span><span class="p">.</span><span class="nx">createHmac</span><span class="p">(</span><span class="s2">"sha256"</span><span class="p">,</span> <span class="nx">apisecret</span><span class="p">).</span><span class="nx">update</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">Stringify</span><span class="p">(</span><span class="nx">data</span><span class="p">));</span>

<span class="c1">//add to default authentication header</span>
<span class="nx">axios</span><span class="p">.</span><span class="nx">defaults</span><span class="p">.</span><span class="nx">auth</span> <span class="o">=</span> <span class="p">{</span> <span class="na">username</span><span class="p">:</span> <span class="nx">apikey</span><span class="p">,</span> <span class="na">password</span><span class="p">:</span> <span class="nx">hash</span><span class="p">.</span><span class="nx">digest</span><span class="p">(</span><span class="s2">"hex"</span><span class="p">)</span> <span class="p">};</span>

<span class="nx">axios</span><span class="p">.</span><span class="nx">patch</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">data</span><span class="p">);</span>
</code></pre>
<blockquote>
<p>The above command returns a 204 response code</p>
</blockquote>

<p>Orders cannot be cancelled via the browser API. You MUST use the more secure REST API to do so.</p>

<p>Endpoint: <code>PATCH</code> <code>https://api.datacue.co/v1/orders/&lt;order_id&gt;/status</code></p>
<h3 id='request-json-fields-19'>Request JSON fields</h3>
<table><thead>
<tr>
<th>Field</th>
<th>Data Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>order_status</code></td>
<td>String</td>
<td>Yes</td>
<td>Can be <code>completed</code> or <code>cancelled</code></td>
</tr>
</tbody></table>
<h2 id='delete-order'>Delete Order</h2><pre class="highlight html tab-html"><code><span class="c">&lt;!--- backend only event (refer to the Python, PHP or Node tab) --&gt;</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$apikey</span> <span class="o">=</span> <span class="s2">"Your-API-Key-goes-here"</span><span class="p">;</span>
<span class="nv">$apisecret</span> <span class="o">=</span> <span class="s2">"Your-API-secret-goes-here"</span><span class="p">;</span>

<span class="nv">$datacue</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\DataCue\Client</span><span class="p">(</span><span class="nv">$apikey</span><span class="p">,</span> <span class="nv">$apisecret</span><span class="p">);</span>

<span class="c1">// replace $orderId with the actual value you want to delete
</span><span class="nv">$orderId</span> <span class="o">=</span> <span class="s1">'o1'</span><span class="p">;</span>

<span class="nv">$res</span> <span class="o">=</span> <span class="nv">$datacue</span><span class="o">-&gt;</span><span class="na">orders</span><span class="o">-&gt;</span><span class="na">delete</span><span class="p">(</span><span class="nv">$orderId</span><span class="p">);</span>

</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">requests</span>

<span class="c"># replace this value with the order id you want to delete</span>
<span class="n">orderId</span> <span class="o">=</span> <span class="s">"o1"</span>

<span class="n">url</span> <span class="o">=</span> <span class="n">f</span><span class="s">"https://api.datacue.co/v1/orders/{orderId}"</span>
<span class="n">apikey</span> <span class="o">=</span> <span class="s">"your-api-key-goes-here"</span>
<span class="n">apisecret</span> <span class="o">=</span> <span class="s">"your-api-secret-goes-here"</span>

<span class="n">checksum</span> <span class="o">=</span> <span class="n">hmac</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="nb">bytes</span><span class="p">(</span><span class="n">apisecret</span><span class="p">,</span><span class="s">'utf-8'</span><span class="p">),</span> <span class="nb">bytes</span><span class="p">(</span><span class="s">""</span><span class="p">,</span> <span class="s">'utf-8'</span><span class="p">),</span> <span class="n">hashlib</span><span class="o">.</span><span class="n">sha256</span><span class="p">)</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">auth</span><span class="o">=</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">checksum</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">()))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">axios</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"axios"</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">cryto</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"crypto"</span><span class="p">);</span>

<span class="c1">// replace this value with the order id you want to delete</span>
<span class="kr">const</span> <span class="nx">orderId</span> <span class="o">=</span> <span class="s2">"o1"</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">url</span> <span class="o">=</span> <span class="s2">`https://api.datacue.co/v1/orders/</span><span class="p">${</span><span class="nx">orderId</span><span class="p">}</span><span class="s2">`</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">apikey</span> <span class="o">=</span> <span class="s2">"your-api-key-goes-here"</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">apisecret</span> <span class="o">=</span> <span class="s2">"your-api-secret-goes-here"</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">hash</span> <span class="o">=</span> <span class="nx">crypto</span><span class="p">.</span><span class="nx">createHmac</span><span class="p">(</span><span class="s2">"sha256"</span><span class="p">,</span> <span class="nx">apisecret</span><span class="p">).</span><span class="nx">update</span><span class="p">(</span><span class="s2">""</span><span class="p">);</span>

<span class="c1">//add to default authentication header</span>
<span class="nx">axios</span><span class="p">.</span><span class="nx">defaults</span><span class="p">.</span><span class="nx">auth</span> <span class="o">=</span> <span class="p">{</span> <span class="na">username</span><span class="p">:</span> <span class="nx">apikey</span><span class="p">,</span> <span class="na">password</span><span class="p">:</span> <span class="nx">hash</span><span class="p">.</span><span class="nx">digest</span><span class="p">(</span><span class="s2">"hex"</span><span class="p">)</span> <span class="p">};</span>

<span class="nx">axios</span><span class="p">.</span><span class="k">delete</span><span class="p">(</span><span class="nx">url</span><span class="p">);</span>
</code></pre>
<blockquote>
<p>The above command returns a 204 response code</p>
</blockquote>

<p>Orders cannot be deleted via the browser or frontend. You MUST use the REST API to do so as it&#39;s more secure.</p>

<p>Endpoint: <code>DELETE</code> <code>https://api.datacue.co/v1/orders/&lt;order_id&gt;</code></p>

<p>When an order is deleted from your system.</p>
<h1 id='batch'>Batch</h1>
<blockquote>
<p>Best explained with an example: lets say you want to create 500 products in one go. As seen in the previous section, a product create payload looks like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"product_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"P1"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"variant_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"V2"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"category_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"jeans"</span><span class="p">],</span><span class="w">
  </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w">
  </span><span class="s2">"photo_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/products/p1.jpg"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/products/p1"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>To submit multiple, just send an array of product create requests like so:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"product_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"P1"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"variant_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"V2"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"category_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"jeans"</span><span class="p">],</span><span class="w">
    </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w">
    </span><span class="s2">"photo_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/products/p1.jpg"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/products/p1"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"product_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"P2"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"variant_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"V1"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"category_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"shirts"</span><span class="p">],</span><span class="w">
    </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w">
    </span><span class="s2">"photo_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/products/p2.jpg"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/products/p2"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Use the batch endpoint if you want to do a bulk import, typically when you first start using DataCue and you want to add your historical orders, products or users.</p>

<p>Send an array of the items in the payload, we accept a maximum of 500 items per request.</p>
<h2 id='create-update-products'>Create/Update Products</h2><pre class="highlight html tab-html"><code><span class="c">&lt;!--- backend only event (refer to the Python, PHP or Node tab) --&gt;</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$apikey</span> <span class="o">=</span> <span class="s2">"Your-API-Key-goes-here"</span><span class="p">;</span>
<span class="nv">$apisecret</span> <span class="o">=</span> <span class="s2">"Your-API-secret-goes-here"</span><span class="p">;</span>

<span class="nv">$datacue</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\DataCue\Client</span><span class="p">(</span><span class="nv">$apikey</span><span class="p">,</span> <span class="nv">$apisecret</span><span class="p">,</span> <span class="nv">$options</span><span class="p">,</span> <span class="nv">$env</span><span class="p">);</span>

<span class="c1">// batch create products
</span><span class="nv">$productDataList</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">[</span>
        <span class="s2">"product_id"</span> <span class="o">=&gt;</span> <span class="s2">"p1"</span><span class="p">,</span>
        <span class="s2">"variant_id"</span> <span class="o">=&gt;</span> <span class="s2">"v1"</span><span class="p">,</span>
        <span class="s2">"category_ids"</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s2">"jeans"</span><span class="p">,</span><span class="s2">"men"</span><span class="p">,</span><span class="s2">"summer"</span><span class="p">],</span>
        <span class="s2">"name"</span> <span class="o">=&gt;</span> <span class="s2">"cool jeans"</span><span class="p">,</span>
        <span class="s2">"brand"</span> <span class="o">=&gt;</span> <span class="s2">"zayra"</span><span class="p">,</span>
        <span class="s2">"description"</span> <span class="o">=&gt;</span> <span class="s2">"very fashionable jeans"</span><span class="p">,</span>
        <span class="s2">"color"</span> <span class="o">=&gt;</span> <span class="s2">"blue"</span><span class="p">,</span>
        <span class="s2">"size"</span> <span class="o">=&gt;</span> <span class="s2">"M"</span><span class="p">,</span>
        <span class="s2">"price"</span> <span class="o">=&gt;</span> <span class="mi">99</span><span class="p">,</span>
        <span class="s2">"full_price"</span> <span class="o">=&gt;</span> <span class="mi">119</span><span class="p">,</span>
        <span class="s2">"stock"</span> <span class="o">=&gt;</span> <span class="mi">5</span><span class="p">,</span>
        <span class="s2">"extra"</span> <span class="o">=&gt;</span> <span class="p">[</span>
            <span class="s2">"extra_feature"</span> <span class="o">=&gt;</span> <span class="s2">"details"</span>
        <span class="p">],</span>
        <span class="s2">"photo_url"</span> <span class="o">=&gt;</span> <span class="s2">"https://s3.amazon.com/image.png"</span><span class="p">,</span>
        <span class="s2">"link"</span> <span class="o">=&gt;</span> <span class="s2">"/product/p1"</span><span class="p">,</span>
        <span class="s2">"owner_id"</span> <span class="o">=&gt;</span> <span class="s2">"user_id_3"</span>
    <span class="p">],</span> <span class="p">[</span>
        <span class="s2">"product_id"</span> <span class="o">=&gt;</span> <span class="s2">"p2"</span><span class="p">,</span>
        <span class="s2">"variant_id"</span> <span class="o">=&gt;</span> <span class="s2">"v2"</span><span class="p">,</span>
        <span class="s2">"category_ids"</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s2">"hats"</span><span class="p">,</span><span class="s2">"women"</span><span class="p">,</span><span class="s2">"summer"</span><span class="p">],</span>
        <span class="s2">"name"</span> <span class="o">=&gt;</span> <span class="s2">"summer hat"</span><span class="p">,</span>
        <span class="s2">"brand"</span> <span class="o">=&gt;</span> <span class="s2">"zayra"</span><span class="p">,</span>
        <span class="s2">"description"</span> <span class="o">=&gt;</span> <span class="s2">"very fashionable hat"</span><span class="p">,</span>
        <span class="s2">"color"</span> <span class="o">=&gt;</span> <span class="s2">"black"</span><span class="p">,</span>
        <span class="s2">"size"</span> <span class="o">=&gt;</span> <span class="s2">""</span><span class="p">,</span>
        <span class="s2">"price"</span> <span class="o">=&gt;</span> <span class="mi">24</span><span class="p">,</span>
        <span class="s2">"full_price"</span> <span class="o">=&gt;</span> <span class="mi">30</span><span class="p">,</span>
        <span class="s2">"stock"</span> <span class="o">=&gt;</span> <span class="mi">5</span><span class="p">,</span>
        <span class="s2">"extra"</span> <span class="o">=&gt;</span> <span class="p">[</span>
            <span class="s2">"extra_feature"</span> <span class="o">=&gt;</span> <span class="s2">"details"</span>
        <span class="p">],</span>
        <span class="s2">"photo_url"</span> <span class="o">=&gt;</span> <span class="s2">"https://s3.amazon.com/image.png"</span><span class="p">,</span>
        <span class="s2">"link"</span> <span class="o">=&gt;</span> <span class="s2">"/product/p2"</span><span class="p">,</span>
        <span class="s2">"owner_id"</span> <span class="o">=&gt;</span> <span class="s2">"user_id_3"</span>
    <span class="p">]</span>
<span class="p">];</span>
<span class="nv">$res</span> <span class="o">=</span> <span class="nv">$datacue</span><span class="o">-&gt;</span><span class="na">products</span><span class="o">-&gt;</span><span class="na">batchCreate</span><span class="p">(</span><span class="nv">$productDataList</span><span class="p">);</span>

</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">requests</span>

<span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.datacue.co/v1/batch/products"</span>
<span class="n">apikey</span> <span class="o">=</span> <span class="s">"your-api-key-goes-here"</span>
<span class="n">apisecret</span> <span class="o">=</span> <span class="s">"your-api-secret-goes-here"</span>

<span class="n">data</span> <span class="o">=</span> <span class="p">[</span>
  <span class="p">{</span>
    <span class="s">"product_id"</span> <span class="p">:</span> <span class="s">"p1"</span><span class="p">,</span>
    <span class="s">"variant_id"</span> <span class="p">:</span> <span class="s">"v1"</span><span class="p">,</span>
    <span class="s">"category_ids"</span> <span class="p">:</span> <span class="p">[</span><span class="s">"jeans"</span><span class="p">,</span><span class="s">"men"</span><span class="p">,</span><span class="s">"summer"</span><span class="p">],</span>
    <span class="s">"name"</span> <span class="p">:</span> <span class="s">"cool jeans"</span><span class="p">,</span>
    <span class="s">"brand"</span> <span class="p">:</span> <span class="s">"zayra"</span><span class="p">,</span>
    <span class="s">"description"</span> <span class="p">:</span> <span class="s">"very fashionable jeans"</span><span class="p">,</span>
    <span class="s">"color"</span> <span class="p">:</span> <span class="s">"blue"</span><span class="p">,</span>
    <span class="s">"size"</span> <span class="p">:</span> <span class="s">"M"</span><span class="p">,</span>
    <span class="s">"price"</span> <span class="p">:</span> <span class="mi">99</span><span class="p">,</span>
    <span class="s">"full_price"</span> <span class="p">:</span> <span class="mi">119</span><span class="p">,</span>
    <span class="s">"stock"</span> <span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
    <span class="s">"extra"</span> <span class="p">:</span> <span class="p">{</span>
        <span class="s">"extra_feature"</span><span class="p">:</span> <span class="s">"details"</span>
    <span class="p">},</span>
    <span class="s">"photo_url"</span> <span class="p">:</span> <span class="s">"https://s3.amazonaws.com/image.png"</span><span class="p">,</span>
    <span class="s">"link"</span> <span class="p">:</span> <span class="s">"/product/p1"</span>
  <span class="p">},</span> <span class="p">{</span>
    <span class="s">"product_id"</span> <span class="p">:</span> <span class="s">"p2"</span><span class="p">,</span>
    <span class="s">"variant_id"</span> <span class="p">:</span> <span class="s">"v2"</span><span class="p">,</span>
    <span class="s">"category_ids"</span> <span class="p">:</span> <span class="p">[</span><span class="s">"hats"</span><span class="p">,</span><span class="s">"women"</span><span class="p">,</span><span class="s">"summer"</span><span class="p">],</span>
    <span class="s">"name"</span> <span class="p">:</span> <span class="s">"summer hat"</span><span class="p">,</span>
    <span class="s">"brand"</span> <span class="p">:</span> <span class="s">"zayra"</span><span class="p">,</span>
    <span class="s">"description"</span> <span class="p">:</span> <span class="s">"very fashionable hat"</span><span class="p">,</span>
    <span class="s">"color"</span> <span class="p">:</span> <span class="s">"black"</span><span class="p">,</span>
    <span class="s">"size"</span> <span class="p">:</span> <span class="s">""</span><span class="p">,</span>
    <span class="s">"price"</span> <span class="p">:</span> <span class="mi">24</span><span class="p">,</span>
    <span class="s">"full_price"</span> <span class="p">:</span> <span class="mi">30</span><span class="p">,</span>
    <span class="s">"stock"</span> <span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
    <span class="s">"extra"</span> <span class="p">:</span> <span class="p">{</span>
        <span class="s">"extra_feature"</span><span class="p">:</span> <span class="s">"details"</span>
    <span class="p">},</span>
    <span class="s">"photo_url"</span><span class="p">:</span> <span class="s">"https://s3.amazonaws.com/image.png"</span><span class="p">,</span>
    <span class="s">"link"</span><span class="p">:</span> <span class="s">"/product/p2"</span>
  <span class="p">}</span>
<span class="p">]</span>

<span class="n">jsonData</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="n">checksum</span> <span class="o">=</span> <span class="n">hmac</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="nb">bytes</span><span class="p">(</span><span class="n">apisecret</span><span class="p">,</span><span class="s">'utf-8'</span><span class="p">),</span>
  <span class="nb">bytes</span><span class="p">(</span><span class="n">jsonData</span><span class="p">,</span> <span class="s">'utf-8'</span><span class="p">),</span>
  <span class="n">hashlib</span><span class="o">.</span><span class="n">sha256</span><span class="p">)</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">jsonData</span><span class="p">,</span> <span class="n">auth</span><span class="o">=</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">checksum</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">()))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">axios</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"axios"</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">cryto</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"crypto"</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">url</span> <span class="o">=</span> <span class="s2">"https://api.datacue.co/v1/batch/products"</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">apikey</span> <span class="o">=</span> <span class="s2">"your-api-key-goes-here"</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">apisecret</span> <span class="o">=</span> <span class="s2">"your-api-secret-goes-here"</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">[</span>
  <span class="p">{</span>
    <span class="na">product_id</span><span class="p">:</span> <span class="s2">"p1"</span><span class="p">,</span>
    <span class="na">variant_id</span><span class="p">:</span> <span class="s2">"v1"</span><span class="p">,</span>
    <span class="na">category_ids</span><span class="p">:</span> <span class="p">[</span><span class="s2">"jeans"</span><span class="p">,</span> <span class="s2">"men"</span><span class="p">,</span> <span class="s2">"summer"</span><span class="p">],</span>
    <span class="na">name</span><span class="p">:</span> <span class="s2">"cool jeans"</span><span class="p">,</span>
    <span class="na">brand</span><span class="p">:</span> <span class="s2">"zayra"</span><span class="p">,</span>
    <span class="na">description</span><span class="p">:</span> <span class="s2">"very fashionable jeans"</span><span class="p">,</span>
    <span class="na">color</span><span class="p">:</span> <span class="s2">"blue"</span><span class="p">,</span>
    <span class="na">size</span><span class="p">:</span> <span class="s2">"M"</span><span class="p">,</span>
    <span class="na">price</span><span class="p">:</span> <span class="mi">99</span><span class="p">,</span>
    <span class="na">full_price</span><span class="p">:</span> <span class="mi">119</span><span class="p">,</span>
    <span class="na">stock</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
    <span class="na">extra</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">extra_feature</span><span class="p">:</span> <span class="s2">"details"</span>
    <span class="p">},</span>
    <span class="na">photo_url</span><span class="p">:</span> <span class="s2">"https://s3.amazonaws.com/image.png"</span><span class="p">,</span>
    <span class="na">link</span><span class="p">:</span> <span class="s2">"/product/p1"</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="na">product_id</span><span class="p">:</span> <span class="s2">"p2"</span><span class="p">,</span>
    <span class="na">variant_id</span><span class="p">:</span> <span class="s2">"v2"</span><span class="p">,</span>
    <span class="na">category_ids</span><span class="p">:</span> <span class="p">[</span><span class="s2">"hats"</span><span class="p">,</span> <span class="s2">"women"</span><span class="p">,</span> <span class="s2">"summer"</span><span class="p">],</span>
    <span class="na">name</span><span class="p">:</span> <span class="s2">"summer hat"</span><span class="p">,</span>
    <span class="na">brand</span><span class="p">:</span> <span class="s2">"zayra"</span><span class="p">,</span>
    <span class="na">description</span><span class="p">:</span> <span class="s2">"very fashionable hat"</span><span class="p">,</span>
    <span class="na">color</span><span class="p">:</span> <span class="s2">"black"</span><span class="p">,</span>
    <span class="na">size</span><span class="p">:</span> <span class="s2">""</span><span class="p">,</span>
    <span class="na">price</span><span class="p">:</span> <span class="mi">24</span><span class="p">,</span>
    <span class="na">full_price</span><span class="p">:</span> <span class="mi">30</span><span class="p">,</span>
    <span class="na">stock</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
    <span class="na">extra</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">extra_feature</span><span class="p">:</span> <span class="s2">"details"</span>
    <span class="p">},</span>
    <span class="na">photo_url</span><span class="p">:</span> <span class="s2">"https://s3.amazonaws.com/image.png"</span><span class="p">,</span>
    <span class="na">link</span><span class="p">:</span> <span class="s2">"/product/p2"</span>
  <span class="p">}</span>
<span class="p">];</span>

<span class="kd">var</span> <span class="nx">hash</span> <span class="o">=</span> <span class="nx">crypto</span><span class="p">.</span><span class="nx">createHmac</span><span class="p">(</span><span class="s2">"sha256"</span><span class="p">,</span> <span class="nx">apisecret</span><span class="p">).</span><span class="nx">update</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">Stringify</span><span class="p">(</span><span class="nx">data</span><span class="p">));</span>

<span class="c1">//add to default authentication header</span>
<span class="nx">axios</span><span class="p">.</span><span class="nx">defaults</span><span class="p">.</span><span class="nx">auth</span> <span class="o">=</span> <span class="p">{</span> <span class="na">username</span><span class="p">:</span> <span class="s2">"API-key"</span><span class="p">,</span> <span class="na">password</span><span class="p">:</span> <span class="nx">hash</span><span class="p">.</span><span class="nx">digest</span><span class="p">(</span><span class="s2">"hex"</span><span class="p">)</span> <span class="p">};</span>

<span class="nx">axios</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">data</span><span class="p">);</span>
</code></pre>
<p>Endpoint: <code>POST</code> <code>https://api.datacue.co/v1/batch/products</code></p>
<h3 id='request-json'>Request JSON</h3>
<p>An array of product objects</p>

<blockquote>
<p>The above command returns a 201 response code</p>
</blockquote>
<h2 id='create-update-categories'>Create/Update Categories</h2><pre class="highlight html tab-html"><code><span class="c">&lt;!--- backend only event (refer to the Python, PHP or Node tab) --&gt;</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$apikey</span> <span class="o">=</span> <span class="s2">"Your-API-Key-goes-here"</span><span class="p">;</span>
<span class="nv">$apisecret</span> <span class="o">=</span> <span class="s2">"Your-API-secret-goes-here"</span><span class="p">;</span>

<span class="nv">$datacue</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\DataCue\Client</span><span class="p">(</span><span class="nv">$apikey</span><span class="p">,</span> <span class="nv">$apisecret</span><span class="p">,</span> <span class="nv">$options</span><span class="p">,</span> <span class="nv">$env</span><span class="p">);</span>

<span class="c1">// batch create categories
</span><span class="nv">$categoryDataList</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">[</span>
        <span class="s2">"category_id"</span> <span class="o">=&gt;</span> <span class="s2">"c1"</span><span class="p">,</span>
        <span class="s2">"name"</span> <span class="o">=&gt;</span> <span class="s2">"jeans"</span><span class="p">,</span>
        <span class="s2">"link"</span> <span class="o">=&gt;</span> <span class="s2">"/category/jeans"</span>
    <span class="p">],</span> <span class="p">[</span>
        <span class="s2">"category_id"</span> <span class="o">=&gt;</span> <span class="s2">"c2"</span><span class="p">,</span>
        <span class="s2">"name"</span> <span class="o">=&gt;</span> <span class="s2">"shoes"</span><span class="p">,</span>
        <span class="s2">"link"</span> <span class="o">=&gt;</span> <span class="s2">"/category/shoes"</span>
    <span class="p">]</span>
<span class="p">];</span>
<span class="nv">$res</span> <span class="o">=</span> <span class="nv">$datacue</span><span class="o">-&gt;</span><span class="na">categories</span><span class="o">-&gt;</span><span class="na">batchCreate</span><span class="p">(</span><span class="nv">$categoryDataList</span><span class="p">);</span>

</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">requests</span>

<span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.datacue.co/v1/batch/categories"</span>
<span class="n">apikey</span> <span class="o">=</span> <span class="s">"your-api-key-goes-here"</span>
<span class="n">apisecret</span> <span class="o">=</span> <span class="s">"your-api-secret-goes-here"</span>

<span class="n">data</span> <span class="o">=</span> <span class="p">[</span>
  <span class="p">{</span>
    <span class="s">"category_id"</span> <span class="p">:</span> <span class="s">"c1"</span><span class="p">,</span>
    <span class="s">"name"</span> <span class="p">:</span> <span class="s">"jeans"</span><span class="p">,</span>
    <span class="s">"link"</span> <span class="p">:</span> <span class="s">"/categories/jeans"</span>
  <span class="p">},</span> <span class="p">{</span>
    <span class="s">"category_id"</span> <span class="p">:</span> <span class="s">"c2"</span><span class="p">,</span>
    <span class="s">"name"</span> <span class="p">:</span> <span class="s">"shoes"</span><span class="p">,</span>
    <span class="s">"link"</span> <span class="p">:</span> <span class="s">"/categories/shoes"</span>
  <span class="p">}</span>
<span class="p">]</span>

<span class="n">jsonData</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="n">checksum</span> <span class="o">=</span> <span class="n">hmac</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="nb">bytes</span><span class="p">(</span><span class="n">apisecret</span><span class="p">,</span><span class="s">'utf-8'</span><span class="p">),</span>
  <span class="nb">bytes</span><span class="p">(</span><span class="n">jsonData</span><span class="p">,</span> <span class="s">'utf-8'</span><span class="p">),</span>
  <span class="n">hashlib</span><span class="o">.</span><span class="n">sha256</span><span class="p">)</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">jsonData</span><span class="p">,</span> <span class="n">auth</span><span class="o">=</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">checksum</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">()))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">axios</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"axios"</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">cryto</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"crypto"</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">url</span> <span class="o">=</span> <span class="s2">"https://api.datacue.co/v1/batch/products"</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">apikey</span> <span class="o">=</span> <span class="s2">"your-api-key-goes-here"</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">apisecret</span> <span class="o">=</span> <span class="s2">"your-api-secret-goes-here"</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">[</span>
  <span class="p">{</span>
    <span class="na">category_id</span><span class="p">:</span> <span class="s2">"c1"</span><span class="p">,</span>
    <span class="na">name</span><span class="p">:</span> <span class="s2">"jeans"</span><span class="p">,</span>
    <span class="na">link</span><span class="p">:</span> <span class="s2">"/categories/jeans"</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="na">category_id</span><span class="p">:</span> <span class="s2">"c2"</span><span class="p">,</span>
    <span class="na">name</span><span class="p">:</span> <span class="s2">"shoes"</span><span class="p">,</span>
    <span class="na">link</span><span class="p">:</span> <span class="s2">"/categories/shoes"</span>
  <span class="p">}</span>
<span class="p">];</span>

<span class="kd">var</span> <span class="nx">hash</span> <span class="o">=</span> <span class="nx">crypto</span><span class="p">.</span><span class="nx">createHmac</span><span class="p">(</span><span class="s2">"sha256"</span><span class="p">,</span> <span class="nx">apisecret</span><span class="p">).</span><span class="nx">update</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">Stringify</span><span class="p">(</span><span class="nx">data</span><span class="p">));</span>

<span class="c1">//add to default authentication header</span>
<span class="nx">axios</span><span class="p">.</span><span class="nx">defaults</span><span class="p">.</span><span class="nx">auth</span> <span class="o">=</span> <span class="p">{</span> <span class="na">username</span><span class="p">:</span> <span class="s2">"API-key"</span><span class="p">,</span> <span class="na">password</span><span class="p">:</span> <span class="nx">hash</span><span class="p">.</span><span class="nx">digest</span><span class="p">(</span><span class="s2">"hex"</span><span class="p">)</span> <span class="p">};</span>

<span class="nx">axios</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">data</span><span class="p">);</span>
</code></pre>
<p>Endpoint: <code>POST</code> <code>https://api.datacue.co/v1/batch/categories</code></p>
<h3 id='request-json-fields-20'>Request JSON fields</h3>
<p>Array of categories</p>

<blockquote>
<p>The above command returns a 201 response code</p>
</blockquote>
<h2 id='create-orders'>Create Orders</h2><pre class="highlight html tab-html"><code><span class="c">&lt;!--- backend only event (refer to the Python, PHP or Node tab) --&gt;</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$apikey</span> <span class="o">=</span> <span class="s2">"Your-API-Key-goes-here"</span><span class="p">;</span>
<span class="nv">$apisecret</span> <span class="o">=</span> <span class="s2">"Your-API-secret-goes-here"</span><span class="p">;</span>

<span class="nv">$datacue</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\DataCue\Client</span><span class="p">(</span><span class="nv">$apikey</span><span class="p">,</span> <span class="nv">$apisecret</span><span class="p">,</span> <span class="nv">$options</span><span class="p">,</span> <span class="nv">$env</span><span class="p">);</span>

<span class="nv">$orderDataList</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">[</span>
        <span class="s2">"order_id"</span> <span class="o">=&gt;</span> <span class="s2">"o1"</span><span class="p">,</span>
        <span class="s2">"user_id"</span> <span class="o">=&gt;</span> <span class="s2">"u1"</span><span class="p">,</span>
        <span class="s2">"cart"</span> <span class="o">=&gt;</span> <span class="p">[</span>
            <span class="p">[</span><span class="s2">"product_id"</span> <span class="o">=&gt;</span> <span class="s2">"p1"</span><span class="p">,</span> <span class="s2">"variant_id"</span> <span class="o">=&gt;</span> <span class="s2">"v1"</span><span class="p">,</span> <span class="s2">"quantity"</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">"unit_price"</span> <span class="o">=&gt;</span> <span class="mi">24</span><span class="p">,</span> <span class="s2">"currency"</span> <span class="o">=&gt;</span> <span class="s2">"USD"</span><span class="p">],</span>
            <span class="p">[</span><span class="s2">"product_id"</span> <span class="o">=&gt;</span> <span class="s2">"p2"</span><span class="p">,</span> <span class="s2">"variant_id"</span> <span class="o">=&gt;</span> <span class="s2">"v2"</span><span class="p">,</span> <span class="s2">"quantity"</span> <span class="o">=&gt;</span> <span class="mi">9</span><span class="p">,</span> <span class="s2">"unit_price"</span> <span class="o">=&gt;</span> <span class="mi">42</span><span class="p">,</span> <span class="s2">"currency"</span> <span class="o">=&gt;</span> <span class="s2">"USD"</span><span class="p">],</span>
        <span class="p">],</span>
        <span class="s2">"timestamp"</span> <span class="o">=&gt;</span> <span class="s2">"2018-04-04 23:29:04Z"</span><span class="p">,</span>
    <span class="p">],</span> <span class="p">[</span>
        <span class="s2">"order_id"</span> <span class="o">=&gt;</span> <span class="s2">"o2"</span><span class="p">,</span>
        <span class="s2">"user_id"</span> <span class="o">=&gt;</span> <span class="s2">"u1"</span><span class="p">,</span>
        <span class="s2">"cart"</span> <span class="o">=&gt;</span> <span class="p">[</span>
            <span class="p">[</span><span class="s2">"product_id"</span> <span class="o">=&gt;</span> <span class="s2">"p1"</span><span class="p">,</span> <span class="s2">"variant_id"</span> <span class="o">=&gt;</span> <span class="s2">"v1"</span><span class="p">,</span> <span class="s2">"quantity"</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">"unit_price"</span> <span class="o">=&gt;</span> <span class="mi">24</span><span class="p">,</span> <span class="s2">"currency"</span> <span class="o">=&gt;</span> <span class="s2">"USD"</span><span class="p">],</span>
            <span class="p">[</span><span class="s2">"product_id"</span> <span class="o">=&gt;</span> <span class="s2">"p2"</span><span class="p">,</span> <span class="s2">"variant_id"</span> <span class="o">=&gt;</span> <span class="s2">"v2"</span><span class="p">,</span> <span class="s2">"quantity"</span> <span class="o">=&gt;</span> <span class="mi">9</span><span class="p">,</span> <span class="s2">"unit_price"</span> <span class="o">=&gt;</span> <span class="mi">42</span><span class="p">,</span> <span class="s2">"currency"</span> <span class="o">=&gt;</span> <span class="s2">"USD"</span><span class="p">],</span>
        <span class="p">],</span>
        <span class="s2">"timestamp"</span> <span class="o">=&gt;</span> <span class="s2">"2018-04-04 23:29:04Z"</span><span class="p">,</span>
    <span class="p">]</span>
<span class="p">];</span>
<span class="nv">$res</span> <span class="o">=</span> <span class="nv">$datacue</span><span class="o">-&gt;</span><span class="na">orders</span><span class="o">-&gt;</span><span class="na">batchCreate</span><span class="p">(</span><span class="nv">$orderDataList</span><span class="p">);</span>

</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">requests</span>

<span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.datacue.co/v1/batch/orders"</span>
<span class="n">apikey</span> <span class="o">=</span> <span class="s">"your-api-key-goes-here"</span>
<span class="n">apisecret</span> <span class="o">=</span> <span class="s">"your-api-secret-goes-here"</span>

<span class="n">data</span> <span class="o">=</span> <span class="p">[</span>
<span class="p">{</span>
  <span class="s">"order_id"</span> <span class="p">:</span> <span class="s">"o1"</span><span class="p">,</span>
  <span class="s">"user_id"</span> <span class="p">:</span> <span class="s">"u1"</span><span class="p">,</span>
  <span class="s">"cart"</span> <span class="p">:</span> <span class="p">[</span>
      <span class="p">{</span><span class="s">"product_id"</span><span class="p">:</span>  <span class="s">"p1"</span><span class="p">,</span> <span class="s">"variant_id"</span> <span class="p">:</span> <span class="s">"v1"</span><span class="p">,</span> <span class="s">"quantity"</span> <span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s">"unit_price"</span><span class="p">:</span>  <span class="mi">24</span><span class="p">,</span> <span class="s">"currency"</span> <span class="p">:</span> <span class="s">"USD"</span><span class="p">},</span>
      <span class="p">{</span><span class="s">"product_id"</span><span class="p">:</span>  <span class="s">"p2"</span><span class="p">,</span> <span class="s">"variant_id"</span> <span class="p">:</span> <span class="s">"v2"</span><span class="p">,</span> <span class="s">"quantity"</span> <span class="p">:</span> <span class="mi">9</span><span class="p">,</span> <span class="s">"unit_price"</span><span class="p">:</span>  <span class="mi">42</span><span class="p">,</span> <span class="s">"currency"</span> <span class="p">:</span> <span class="s">"USD"</span><span class="p">}</span>
  <span class="p">],</span>
  <span class="s">"timestamp"</span><span class="p">:</span> <span class="s">"2018-04-04 23:29:04Z"</span>
<span class="p">},</span> <span class="p">{</span>
  <span class="s">"order_id"</span> <span class="p">:</span> <span class="s">"o2"</span><span class="p">,</span>
  <span class="s">"user_id"</span> <span class="p">:</span> <span class="s">"u1"</span><span class="p">,</span>
  <span class="s">"cart"</span> <span class="p">:</span> <span class="p">[</span>
      <span class="p">{</span><span class="s">"product_id"</span> <span class="p">:</span> <span class="s">"p1"</span><span class="p">,</span> <span class="s">"variant_id"</span> <span class="p">:</span> <span class="s">"v1"</span><span class="p">,</span> <span class="s">"quantity"</span> <span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s">"unit_price"</span> <span class="p">:</span> <span class="mi">24</span><span class="p">,</span> <span class="s">"currency"</span> <span class="p">:</span> <span class="s">"USD"</span><span class="p">},</span>
      <span class="p">{</span><span class="s">"product_id"</span> <span class="p">:</span> <span class="s">"p2"</span><span class="p">,</span> <span class="s">"variant_id"</span> <span class="p">:</span> <span class="s">"v2"</span><span class="p">,</span> <span class="s">"quantity"</span> <span class="p">:</span> <span class="mi">9</span><span class="p">,</span> <span class="s">"unit_price"</span> <span class="p">:</span> <span class="mi">42</span><span class="p">,</span> <span class="s">"currency"</span> <span class="p">:</span> <span class="s">"USD"</span><span class="p">}</span>
  <span class="p">],</span>
  <span class="s">"timestamp"</span> <span class="p">:</span> <span class="s">"2018-04-04 23:29:04Z"</span>
<span class="p">}]</span>

<span class="n">jsonData</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="n">checksum</span> <span class="o">=</span> <span class="n">hmac</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="nb">bytes</span><span class="p">(</span><span class="n">apisecret</span><span class="p">,</span><span class="s">'utf-8'</span><span class="p">),</span>
  <span class="nb">bytes</span><span class="p">(</span><span class="n">jsonData</span><span class="p">,</span> <span class="s">'utf-8'</span><span class="p">),</span>
  <span class="n">hashlib</span><span class="o">.</span><span class="n">sha256</span><span class="p">)</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">jsonData</span><span class="p">,</span> <span class="n">auth</span><span class="o">=</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">checksum</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">()))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">axios</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"axios"</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">cryto</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"crypto"</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">url</span> <span class="o">=</span> <span class="s2">"https://api.datacue.co/v1/batch/orders"</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">apikey</span> <span class="o">=</span> <span class="s2">"your-api-key-goes-here"</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">apisecret</span> <span class="o">=</span> <span class="s2">"your-api-secret-goes-here"</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">[</span>
  <span class="p">{</span>
    <span class="na">order_id</span><span class="p">:</span> <span class="s2">"o1"</span><span class="p">,</span>
    <span class="na">user_id</span><span class="p">:</span> <span class="s2">"u1"</span><span class="p">,</span>
    <span class="na">cart</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">{</span>
        <span class="na">product_id</span><span class="p">:</span> <span class="s2">"p1"</span><span class="p">,</span>
        <span class="na">variant_id</span><span class="p">:</span> <span class="s2">"v1"</span><span class="p">,</span>
        <span class="na">quantity</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="na">unit_price</span><span class="p">:</span> <span class="mi">24</span><span class="p">,</span>
        <span class="na">currency</span><span class="p">:</span> <span class="s2">"USD"</span>
      <span class="p">},</span>
      <span class="p">{</span>
        <span class="na">product_id</span><span class="p">:</span> <span class="s2">"p2"</span><span class="p">,</span>
        <span class="na">variant_id</span><span class="p">:</span> <span class="s2">"v2"</span><span class="p">,</span>
        <span class="na">quantity</span><span class="p">:</span> <span class="mi">9</span><span class="p">,</span>
        <span class="na">unit_price</span><span class="p">:</span> <span class="mi">42</span><span class="p">,</span>
        <span class="na">currency</span><span class="p">:</span> <span class="s2">"USD"</span>
      <span class="p">}</span>
    <span class="p">],</span>
    <span class="na">timestamp</span><span class="p">:</span> <span class="s2">"2018-04-04 23:29:04Z"</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="na">order_id</span><span class="p">:</span> <span class="s2">"o2"</span><span class="p">,</span>
    <span class="na">user_id</span><span class="p">:</span> <span class="s2">"u1"</span><span class="p">,</span>
    <span class="na">cart</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">{</span>
        <span class="na">product_id</span><span class="p">:</span> <span class="s2">"p1"</span><span class="p">,</span>
        <span class="na">variant_id</span><span class="p">:</span> <span class="s2">"v1"</span><span class="p">,</span>
        <span class="na">quantity</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="na">unit_price</span><span class="p">:</span> <span class="mi">24</span><span class="p">,</span>
        <span class="na">currency</span><span class="p">:</span> <span class="s2">"USD"</span>
      <span class="p">},</span>
      <span class="p">{</span>
        <span class="na">product_id</span><span class="p">:</span> <span class="s2">"p2"</span><span class="p">,</span>
        <span class="na">variant_id</span><span class="p">:</span> <span class="s2">"v2"</span><span class="p">,</span>
        <span class="na">quantity</span><span class="p">:</span> <span class="mi">9</span><span class="p">,</span>
        <span class="na">unit_price</span><span class="p">:</span> <span class="mi">42</span><span class="p">,</span>
        <span class="na">currency</span><span class="p">:</span> <span class="s2">"USD"</span>
      <span class="p">}</span>
    <span class="p">],</span>
    <span class="na">timestamp</span><span class="p">:</span> <span class="s2">"2018-04-04 23:29:04Z"</span>
  <span class="p">}</span>
<span class="p">];</span>

<span class="kd">var</span> <span class="nx">hash</span> <span class="o">=</span> <span class="nx">crypto</span><span class="p">.</span><span class="nx">createHmac</span><span class="p">(</span><span class="s2">"sha256"</span><span class="p">,</span> <span class="nx">apisecret</span><span class="p">).</span><span class="nx">update</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">Stringify</span><span class="p">(</span><span class="nx">data</span><span class="p">));</span>

<span class="c1">//add to default authentication header</span>
<span class="nx">axios</span><span class="p">.</span><span class="nx">defaults</span><span class="p">.</span><span class="nx">auth</span> <span class="o">=</span> <span class="p">{</span> <span class="na">username</span><span class="p">:</span> <span class="s2">"API-key"</span><span class="p">,</span> <span class="na">password</span><span class="p">:</span> <span class="nx">hash</span><span class="p">.</span><span class="nx">digest</span><span class="p">(</span><span class="s2">"hex"</span><span class="p">)</span> <span class="p">};</span>

<span class="nx">axios</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">data</span><span class="p">);</span>
</code></pre>
<p>Endpoint: <code>POST</code> <code>https://api.datacue.co/v1/batch/orders</code></p>

<aside class="notice">If any order_id(s) already exists in DataCue, we will <strong>replace</strong> the existing order with what you send.</aside>
<h3 id='request-json-fields-21'>Request JSON fields</h3>
<p>Array of orders object</p>

<blockquote>
<p>The above command returns a 201 response code</p>
</blockquote>
<h2 id='create-update-users'>Create/Update Users</h2><pre class="highlight html tab-html"><code><span class="c">&lt;!--- backend only event (refer to the Python, PHP or Node tab) --&gt;</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$apikey</span> <span class="o">=</span> <span class="s2">"Your-API-Key-goes-here"</span><span class="p">;</span>
<span class="nv">$apisecret</span> <span class="o">=</span> <span class="s2">"Your-API-secret-goes-here"</span><span class="p">;</span>

<span class="nv">$datacue</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\DataCue\Client</span><span class="p">(</span><span class="nv">$apikey</span><span class="p">,</span> <span class="nv">$apisecret</span><span class="p">,</span> <span class="nv">$options</span><span class="p">,</span> <span class="nv">$env</span><span class="p">);</span>

<span class="nv">$userDataList</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">[</span>
      <span class="s2">"user_id"</span> <span class="o">=&gt;</span> <span class="s2">"u1"</span><span class="p">,</span>
      <span class="s2">"email"</span> <span class="o">=&gt;</span> <span class="s2">"spongebob@bikinibottom.com"</span><span class="p">,</span>
      <span class="s2">"title"</span> <span class="o">=&gt;</span> <span class="s2">"Mr"</span><span class="p">,</span>
      <span class="s2">"first_name"</span> <span class="o">=&gt;</span> <span class="s2">"Spongebob"</span><span class="p">,</span>
      <span class="s2">"last_name"</span> <span class="o">=&gt;</span> <span class="s2">"Squarepants"</span><span class="p">,</span>
      <span class="s2">"profile"</span> <span class="o">=&gt;</span> <span class="p">[</span>
        <span class="s2">"loyalty_plan"</span> <span class="o">=&gt;</span> <span class="s2">"platinum"</span>
      <span class="p">],</span>
      <span class="s2">"wishlist"</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s2">"p1"</span><span class="p">,</span> <span class="s2">"p3"</span><span class="p">,</span> <span class="s2">"p4"</span><span class="p">],</span> <span class="c1">//array of product ids
</span>      <span class="s2">"email_subscriber"</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
      <span class="s2">"guest_account"</span> <span class="o">=&gt;</span> <span class="kc">false</span><span class="p">,</span>
      <span class="s2">"timestamp"</span> <span class="o">=&gt;</span> <span class="s2">"2018-04-04 23:29:04-0300"</span>
    <span class="p">],</span> <span class="p">[</span>
      <span class="s2">"user_id"</span> <span class="o">=&gt;</span> <span class="s2">"u2"</span><span class="p">,</span>
      <span class="s2">"email"</span> <span class="o">=&gt;</span> <span class="s2">"patrick@bikinibottom.com"</span><span class="p">,</span>
      <span class="s2">"title"</span> <span class="o">=&gt;</span> <span class="s2">"Mr"</span><span class="p">,</span>
      <span class="s2">"first_name"</span> <span class="o">=&gt;</span> <span class="s2">"Patrick"</span><span class="p">,</span>
      <span class="s2">"last_name"</span> <span class="o">=&gt;</span> <span class="s2">"Starfish"</span><span class="p">,</span>
      <span class="s2">"profile"</span> <span class="o">=&gt;</span> <span class="p">[</span>
        <span class="s2">"loyalty_plan"</span> <span class="o">=&gt;</span> <span class="s2">"gold"</span>
      <span class="p">],</span>
      <span class="s2">"wishlist"</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s2">"p1"</span><span class="p">],</span> <span class="c1">//array of product ids
</span>      <span class="s2">"email_subscriber"</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
      <span class="s2">"guest_account"</span> <span class="o">=&gt;</span> <span class="kc">false</span><span class="p">,</span>
      <span class="s2">"timestamp"</span> <span class="o">=&gt;</span> <span class="s2">"2018-04-04 23:29:04Z"</span>
  <span class="p">]</span>
<span class="p">];</span>
<span class="nv">$res</span> <span class="o">=</span> <span class="nv">$datacue</span><span class="o">-&gt;</span><span class="na">users</span><span class="o">-&gt;</span><span class="na">batchCreate</span><span class="p">(</span><span class="nv">$userDataList</span><span class="p">);</span>

</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">requests</span>

<span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.datacue.co/v1/batch/users"</span>
<span class="n">apikey</span> <span class="o">=</span> <span class="s">"your-api-key-goes-here"</span>
<span class="n">apisecret</span> <span class="o">=</span> <span class="s">"your-api-secret-goes-here"</span>

<span class="n">data</span> <span class="o">=</span> <span class="p">[</span>
  <span class="p">{</span>
    <span class="s">"user_id"</span> <span class="p">:</span> <span class="s">"u1"</span><span class="p">,</span>
    <span class="s">"email"</span> <span class="p">:</span> <span class="s">"spongebob@bikinibottom.com"</span><span class="p">,</span>
    <span class="s">"title"</span> <span class="p">:</span> <span class="s">"Mr"</span><span class="p">,</span>
    <span class="s">"first_name"</span> <span class="p">:</span> <span class="s">"Spongebob"</span><span class="p">,</span>
    <span class="s">"last_name"</span> <span class="p">:</span> <span class="s">"Squarepants"</span><span class="p">,</span>
    <span class="s">"profile"</span> <span class="p">:</span> <span class="p">{</span>
      <span class="s">"loyalty_plan"</span> <span class="p">:</span> <span class="s">"platinum"</span>
    <span class="p">},</span>
    <span class="s">"wishlist"</span> <span class="p">:</span> <span class="p">[</span><span class="s">"p1"</span><span class="p">,</span> <span class="s">"p3"</span><span class="p">,</span> <span class="s">"p4"</span><span class="p">],</span> <span class="c"># array of product ids</span>
    <span class="s">"email_subscriber"</span> <span class="p">:</span> <span class="bp">True</span><span class="p">,</span>
    <span class="s">"guest_account"</span> <span class="p">:</span> <span class="bp">False</span><span class="p">,</span>
    <span class="s">"timestamp"</span> <span class="p">:</span> <span class="s">"2018-04-04 23:29:04-0300"</span>
  <span class="p">},</span> <span class="p">{</span>
    <span class="s">"user_id"</span> <span class="p">:</span> <span class="s">"u2"</span><span class="p">,</span>
    <span class="s">"email"</span> <span class="p">:</span> <span class="s">"patrick@bikinibottom.com"</span><span class="p">,</span>
    <span class="s">"title"</span> <span class="p">:</span> <span class="s">"Mr"</span><span class="p">,</span>
    <span class="s">"first_name"</span> <span class="p">:</span> <span class="s">"Patrick"</span><span class="p">,</span>
    <span class="s">"last_name"</span> <span class="p">:</span> <span class="s">"Starfish"</span><span class="p">,</span>
    <span class="s">"profile"</span> <span class="p">:</span> <span class="p">{</span>
      <span class="s">"loyalty_plan"</span> <span class="p">:</span> <span class="s">"gold"</span>
    <span class="p">},</span>
    <span class="s">"wishlist"</span> <span class="p">:</span> <span class="p">[</span><span class="s">"p1"</span><span class="p">],</span> <span class="c"># array of product ids</span>
    <span class="s">"email_subscriber"</span> <span class="p">:</span> <span class="bp">True</span><span class="p">,</span>
    <span class="s">"guest_account"</span> <span class="p">:</span> <span class="bp">False</span><span class="p">,</span>
    <span class="s">"timestamp"</span> <span class="p">:</span> <span class="s">"2018-04-04 23:29:04Z"</span>
  <span class="p">}</span>
<span class="p">]</span>

<span class="n">jsonData</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="n">checksum</span> <span class="o">=</span> <span class="n">hmac</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="nb">bytes</span><span class="p">(</span><span class="n">apisecret</span><span class="p">,</span><span class="s">'utf-8'</span><span class="p">),</span>
  <span class="nb">bytes</span><span class="p">(</span><span class="n">jsonData</span><span class="p">,</span> <span class="s">'utf-8'</span><span class="p">),</span>
  <span class="n">hashlib</span><span class="o">.</span><span class="n">sha256</span><span class="p">)</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">jsonData</span><span class="p">,</span> <span class="n">auth</span><span class="o">=</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">checksum</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">()))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">axios</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"axios"</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">cryto</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"crypto"</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">url</span> <span class="o">=</span> <span class="s2">"https://api.datacue.co/v1/batch/users"</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">apikey</span> <span class="o">=</span> <span class="s2">"your-api-key-goes-here"</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">apisecret</span> <span class="o">=</span> <span class="s2">"your-api-secret-goes-here"</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">[</span>
  <span class="p">{</span>
    <span class="na">user_id</span> <span class="p">:</span> <span class="s2">"u1"</span><span class="p">,</span>
    <span class="na">email</span> <span class="p">:</span> <span class="s2">"spongebob@bikinibottom.com"</span><span class="p">,</span>
    <span class="na">title</span> <span class="p">:</span> <span class="s2">"Mr"</span><span class="p">,</span>
    <span class="na">first_name</span> <span class="p">:</span> <span class="s2">"Spongebob"</span><span class="p">,</span>
    <span class="na">last_name</span> <span class="p">:</span> <span class="s2">"Squarepants"</span><span class="p">,</span>
    <span class="na">profile</span> <span class="p">:</span> <span class="p">{</span>
      <span class="na">loyalty_plan</span> <span class="p">:</span> <span class="s2">"platinum"</span>
    <span class="p">},</span>
    <span class="na">wishlist</span> <span class="p">:</span> <span class="p">[</span><span class="s2">"p1"</span><span class="p">,</span> <span class="s2">"p3"</span><span class="p">,</span> <span class="s2">"p4"</span><span class="p">],</span> <span class="c1">// array of product ids</span>
    <span class="na">email_subscriber</span> <span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="na">guest_account</span> <span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
    <span class="na">timestamp</span> <span class="p">:</span> <span class="s2">"2018-04-04 23:29:04-0300"</span>
  <span class="p">},</span> <span class="p">{</span>
    <span class="na">user_id</span> <span class="p">:</span> <span class="s2">"u2"</span><span class="p">,</span>
    <span class="na">email</span> <span class="p">:</span> <span class="s2">"patrick@bikinibottom.com"</span><span class="p">,</span>
    <span class="na">title</span> <span class="p">:</span> <span class="s2">"Mr"</span><span class="p">,</span>
    <span class="na">first_name</span> <span class="p">:</span> <span class="s2">"Patrick"</span><span class="p">,</span>
    <span class="na">last_name</span> <span class="p">:</span> <span class="s2">"Starfish"</span><span class="p">,</span>
    <span class="na">profile</span> <span class="p">:</span> <span class="p">{</span>
      <span class="na">loyalty_plan</span> <span class="p">:</span> <span class="s2">"gold"</span>
    <span class="p">},</span>
    <span class="na">wishlist</span> <span class="p">:</span> <span class="p">[</span><span class="s2">"p1"</span><span class="p">],</span> <span class="c1">// array of product ids</span>
    <span class="na">email_subscriber</span> <span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="na">guest_account</span> <span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
    <span class="na">timestamp</span> <span class="p">:</span> <span class="s2">"2018-04-04 23:29:04Z"</span>
  <span class="p">}</span>
<span class="p">];</span>

<span class="kd">var</span> <span class="nx">hash</span> <span class="o">=</span> <span class="nx">crypto</span><span class="p">.</span><span class="nx">createHmac</span><span class="p">(</span><span class="s2">"sha256"</span><span class="p">,</span> <span class="nx">apisecret</span><span class="p">).</span><span class="nx">update</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">Stringify</span><span class="p">(</span><span class="nx">data</span><span class="p">));</span>

<span class="c1">//add to default authentication header</span>
<span class="nx">axios</span><span class="p">.</span><span class="nx">defaults</span><span class="p">.</span><span class="nx">auth</span> <span class="o">=</span> <span class="p">{</span> <span class="na">username</span><span class="p">:</span> <span class="s2">"API-key"</span><span class="p">,</span> <span class="na">password</span><span class="p">:</span> <span class="nx">hash</span><span class="p">.</span><span class="nx">digest</span><span class="p">(</span><span class="s2">"hex"</span><span class="p">)</span> <span class="p">};</span>

<span class="nx">axios</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">data</span><span class="p">);</span>
</code></pre>
<p>Endpoint: <code>POST</code> <code>https://api.datacue.co/v1/batch/users</code></p>
<h3 id='request-json-fields-22'>Request JSON fields</h3>
<p>Array of users</p>

<blockquote>
<p>The above command returns a 201 response code</p>
</blockquote>
<h2 id='delete-multiple-products'>Delete Multiple Products</h2><pre class="highlight html tab-html"><code><span class="c">&lt;!--- backend only event (refer to the Python, PHP or Node tab) --&gt;</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$apikey</span> <span class="o">=</span> <span class="s2">"Your-API-Key-goes-here"</span><span class="p">;</span>
<span class="nv">$apisecret</span> <span class="o">=</span> <span class="s2">"Your-API-secret-goes-here"</span><span class="p">;</span>

<span class="nv">$datacue</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\DataCue\Client</span><span class="p">(</span><span class="nv">$apikey</span><span class="p">,</span> <span class="nv">$apisecret</span><span class="p">);</span>

<span class="c1">// batch delete products
</span><span class="nv">$productAndVariantIdList</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">[</span>
        <span class="s2">"product_id"</span> <span class="o">=&gt;</span> <span class="s2">"p1"</span><span class="p">,</span>
        <span class="s2">"variant_id"</span> <span class="o">=&gt;</span> <span class="s2">"v1"</span><span class="p">,</span>
    <span class="p">],</span> <span class="p">[</span>
        <span class="s2">"product_id"</span> <span class="o">=&gt;</span> <span class="s2">"p2"</span><span class="p">,</span>
        <span class="s2">"variant_id"</span> <span class="o">=&gt;</span> <span class="s2">"v2"</span><span class="p">,</span>
    <span class="p">]</span>
<span class="p">];</span>
<span class="nv">$res</span> <span class="o">=</span> <span class="nv">$datacue</span><span class="o">-&gt;</span><span class="na">products</span><span class="o">-&gt;</span><span class="na">batchDelete</span><span class="p">(</span><span class="nv">$productAndVariantIdList</span><span class="p">);</span>

</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">requests</span>

<span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.datacue.co/v1/batch/products"</span>
<span class="n">apikey</span> <span class="o">=</span> <span class="s">"your-api-key-goes-here"</span>
<span class="n">apisecret</span> <span class="o">=</span> <span class="s">"your-api-secret-goes-here"</span>

<span class="n">data</span> <span class="o">=</span> <span class="p">[</span>
  <span class="p">{</span>
    <span class="s">"product_id"</span><span class="p">:</span> <span class="s">"p1"</span><span class="p">,</span>
    <span class="s">"variant_id"</span><span class="p">:</span><span class="s">"v1"</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="s">"product_id"</span><span class="p">:</span> <span class="s">"p2"</span><span class="p">,</span>
    <span class="s">"variant_id"</span><span class="p">:</span><span class="s">"v1"</span>
  <span class="p">}</span>
<span class="p">]</span>

<span class="n">jsonData</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="n">checksum</span> <span class="o">=</span> <span class="n">hmac</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="nb">bytes</span><span class="p">(</span><span class="n">apisecret</span><span class="p">,</span><span class="s">'utf-8'</span><span class="p">),</span> <span class="nb">bytes</span><span class="p">(</span><span class="n">jsonData</span><span class="p">,</span> <span class="s">'utf-8'</span><span class="p">),</span> <span class="n">hashlib</span><span class="o">.</span><span class="n">sha256</span><span class="p">)</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">jsonData</span><span class="p">,</span> <span class="n">auth</span><span class="o">=</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">checksum</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">()))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">axios</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"axios"</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">url</span> <span class="o">=</span> <span class="s2">"https://api.datacue.co/v1/batch/products"</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">[</span>
  <span class="p">{</span>
    <span class="na">product_id</span><span class="p">:</span> <span class="s2">"p1"</span><span class="p">,</span>
    <span class="na">variant_id</span><span class="p">:</span> <span class="s2">"v1"</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="na">product_id</span><span class="p">:</span> <span class="s2">"p2"</span><span class="p">,</span>
    <span class="na">variant_id</span><span class="p">:</span> <span class="s2">"v1"</span>
  <span class="p">}</span>
<span class="p">];</span>

<span class="kd">var</span> <span class="nx">hash</span> <span class="o">=</span> <span class="nx">crypto</span><span class="p">.</span><span class="nx">createHmac</span><span class="p">(</span><span class="s2">"sha256"</span><span class="p">,</span> <span class="nx">apisecret</span><span class="p">).</span><span class="nx">update</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">Stringify</span><span class="p">(</span><span class="nx">data</span><span class="p">));</span>

<span class="c1">//add to default authentication header</span>
<span class="nx">axios</span><span class="p">.</span><span class="nx">defaults</span><span class="p">.</span><span class="nx">auth</span> <span class="o">=</span> <span class="p">{</span> <span class="na">username</span><span class="p">:</span> <span class="nx">apikey</span><span class="p">,</span> <span class="na">password</span><span class="p">:</span> <span class="nx">hash</span><span class="p">.</span><span class="nx">digest</span><span class="p">(</span><span class="s2">"hex"</span><span class="p">)</span> <span class="p">};</span>

<span class="nx">axios</span><span class="p">.</span><span class="k">delete</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">data</span><span class="p">);</span>
</code></pre>
<p>Endpoint: <code>DELETE</code> <code>https://api.datacue.co/v1/batch/products</code></p>

<p>Delete multiple products within one request. Batch DELETE requests only require an id field as follows.</p>
<h3 id='request-json-fields-23'>Request JSON fields</h3>
<p><code>product_id</code> and <code>variant_id</code></p>

<blockquote>
<p>The above command returns a 204 response code</p>
</blockquote>
<h2 id='delete-multiple-categories'>Delete Multiple Categories</h2><pre class="highlight html tab-html"><code><span class="c">&lt;!--- backend only event (refer to the Python, PHP or Node tab) --&gt;</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$apikey</span> <span class="o">=</span> <span class="s2">"Your-API-Key-goes-here"</span><span class="p">;</span>
<span class="nv">$apisecret</span> <span class="o">=</span> <span class="s2">"Your-API-secret-goes-here"</span><span class="p">;</span>

<span class="nv">$datacue</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\DataCue\Client</span><span class="p">(</span><span class="nv">$apikey</span><span class="p">,</span> <span class="nv">$apisecret</span><span class="p">);</span>

<span class="c1">// batch delete users
</span><span class="nv">$userIdList</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'c1'</span><span class="p">,</span> <span class="s1">'c2'</span><span class="p">];</span>
<span class="nv">$res</span> <span class="o">=</span> <span class="nv">$datacue</span><span class="o">-&gt;</span><span class="na">categories</span><span class="o">-&gt;</span><span class="na">batchDelete</span><span class="p">(</span><span class="nv">$categoryIdList</span><span class="p">);</span>

</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">requests</span>

<span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.datacue.co/v1/batch/categories"</span>
<span class="n">apikey</span> <span class="o">=</span> <span class="s">"your-api-key-goes-here"</span>
<span class="n">apisecret</span> <span class="o">=</span> <span class="s">"your-api-secret-goes-here"</span>

<span class="n">data</span> <span class="o">=</span> <span class="p">[</span>
  <span class="p">{</span>
    <span class="s">"category_id"</span><span class="p">:</span> <span class="s">"c1"</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="s">"category_id"</span><span class="p">:</span> <span class="s">"c2"</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="s">"category_id"</span><span class="p">:</span> <span class="s">"c3"</span>
  <span class="p">}</span>
<span class="p">];</span>

<span class="n">jsonData</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="n">checksum</span> <span class="o">=</span> <span class="n">hmac</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="nb">bytes</span><span class="p">(</span><span class="n">apisecret</span><span class="p">,</span><span class="s">'utf-8'</span><span class="p">),</span> <span class="nb">bytes</span><span class="p">(</span><span class="n">jsonData</span><span class="p">,</span> <span class="s">'utf-8'</span><span class="p">),</span> <span class="n">hashlib</span><span class="o">.</span><span class="n">sha256</span><span class="p">)</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">jsonData</span><span class="p">,</span> <span class="n">auth</span><span class="o">=</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">checksum</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">()))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">axios</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"axios"</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">url</span> <span class="o">=</span> <span class="s2">"https://api.datacue.co/v1/batch/categories"</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">[</span>
  <span class="p">{</span>
    <span class="na">category_id</span><span class="p">:</span> <span class="s2">"c1"</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="na">category_id</span><span class="p">:</span> <span class="s2">"c2"</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="na">category_id</span><span class="p">:</span> <span class="s2">"c3"</span>
  <span class="p">}</span>
<span class="p">];</span>

<span class="kd">var</span> <span class="nx">hash</span> <span class="o">=</span> <span class="nx">crypto</span><span class="p">.</span><span class="nx">createHmac</span><span class="p">(</span><span class="s2">"sha256"</span><span class="p">,</span> <span class="nx">apisecret</span><span class="p">).</span><span class="nx">update</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">Stringify</span><span class="p">(</span><span class="nx">data</span><span class="p">));</span>

<span class="c1">//add to default authentication header</span>
<span class="nx">axios</span><span class="p">.</span><span class="nx">defaults</span><span class="p">.</span><span class="nx">auth</span> <span class="o">=</span> <span class="p">{</span> <span class="na">username</span><span class="p">:</span> <span class="nx">apikey</span><span class="p">,</span> <span class="na">password</span><span class="p">:</span> <span class="nx">hash</span><span class="p">.</span><span class="nx">digest</span><span class="p">(</span><span class="s2">"hex"</span><span class="p">)</span> <span class="p">};</span>

<span class="nx">axios</span><span class="p">.</span><span class="k">delete</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">data</span><span class="p">);</span>
</code></pre>
<p>Endpoint: <code>DELETE</code> <code>https://api.datacue.co/v1/batch/categories</code></p>

<p>Delete multiple categories within one request. Batch DELETE requests only require an id field as follows.</p>
<h3 id='request-json-fields-24'>Request JSON fields</h3>
<p><code>category_id</code></p>

<blockquote>
<p>The above command returns a 204 response code</p>
</blockquote>
<h2 id='delete-multiple-users'>Delete Multiple Users</h2><pre class="highlight html tab-html"><code><span class="c">&lt;!--- backend only event (refer to the Python, PHP or Node tab) --&gt;</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$apikey</span> <span class="o">=</span> <span class="s2">"Your-API-Key-goes-here"</span><span class="p">;</span>
<span class="nv">$apisecret</span> <span class="o">=</span> <span class="s2">"Your-API-secret-goes-here"</span><span class="p">;</span>

<span class="nv">$datacue</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\DataCue\Client</span><span class="p">(</span><span class="nv">$apikey</span><span class="p">,</span> <span class="nv">$apisecret</span><span class="p">);</span>

<span class="c1">// batch delete users
</span><span class="nv">$userIdList</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'u1'</span><span class="p">,</span> <span class="s1">'u2'</span><span class="p">];</span>
<span class="nv">$res</span> <span class="o">=</span> <span class="nv">$datacue</span><span class="o">-&gt;</span><span class="na">users</span><span class="o">-&gt;</span><span class="na">batchDelete</span><span class="p">(</span><span class="nv">$userIdList</span><span class="p">);</span>

</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">requests</span>

<span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.datacue.co/v1/batch/users"</span>
<span class="n">apikey</span> <span class="o">=</span> <span class="s">"your-api-key-goes-here"</span>
<span class="n">apisecret</span> <span class="o">=</span> <span class="s">"your-api-secret-goes-here"</span>

<span class="n">data</span> <span class="o">=</span> <span class="p">[</span>
  <span class="p">{</span>
    <span class="s">"user_id"</span><span class="p">:</span> <span class="s">"u1"</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="s">"user_id"</span><span class="p">:</span> <span class="s">"u2"</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="s">"user_id"</span><span class="p">:</span> <span class="s">"u3"</span>
  <span class="p">}</span>
<span class="p">]</span>

<span class="n">jsonData</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="n">checksum</span> <span class="o">=</span> <span class="n">hmac</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="nb">bytes</span><span class="p">(</span><span class="n">apisecret</span><span class="p">,</span><span class="s">'utf-8'</span><span class="p">),</span> <span class="nb">bytes</span><span class="p">(</span><span class="n">jsonData</span><span class="p">,</span> <span class="s">'utf-8'</span><span class="p">),</span> <span class="n">hashlib</span><span class="o">.</span><span class="n">sha256</span><span class="p">)</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">jsonData</span><span class="p">,</span> <span class="n">auth</span><span class="o">=</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">checksum</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">()))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">axios</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"axios"</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">url</span> <span class="o">=</span> <span class="s2">"https://api.datacue.co/v1/batch/users"</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">[</span>
  <span class="p">{</span>
    <span class="na">user_id</span><span class="p">:</span> <span class="s2">"u1"</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="na">user_id</span><span class="p">:</span> <span class="s2">"u2"</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="na">user_id</span><span class="p">:</span> <span class="s2">"u3"</span>
  <span class="p">}</span>
<span class="p">];</span>

<span class="kd">var</span> <span class="nx">hash</span> <span class="o">=</span> <span class="nx">crypto</span><span class="p">.</span><span class="nx">createHmac</span><span class="p">(</span><span class="s2">"sha256"</span><span class="p">,</span> <span class="nx">apisecret</span><span class="p">).</span><span class="nx">update</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">Stringify</span><span class="p">(</span><span class="nx">data</span><span class="p">));</span>

<span class="c1">//add to default authentication header</span>
<span class="nx">axios</span><span class="p">.</span><span class="nx">defaults</span><span class="p">.</span><span class="nx">auth</span> <span class="o">=</span> <span class="p">{</span> <span class="na">username</span><span class="p">:</span> <span class="nx">apikey</span><span class="p">,</span> <span class="na">password</span><span class="p">:</span> <span class="nx">hash</span><span class="p">.</span><span class="nx">digest</span><span class="p">(</span><span class="s2">"hex"</span><span class="p">)</span> <span class="p">};</span>

<span class="nx">axios</span><span class="p">.</span><span class="k">delete</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">data</span><span class="p">);</span>
</code></pre>
<p>Endpoint: <code>DELETE</code> <code>https://api.datacue.co/v1/batch/users</code></p>

<p>Delete multiple users within one request. Batch DELETE requests only require an id field as follows.</p>
<h3 id='request-json-fields-25'>Request JSON fields</h3>
<p><code>user_id</code></p>

<blockquote>
<p>The above command returns a 204 response code</p>
</blockquote>
<h2 id='delete-multiple-orders'>Delete Multiple Orders</h2><pre class="highlight html tab-html"><code><span class="c">&lt;!--- backend only event (refer to the Python, PHP or Node tab) --&gt;</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$apikey</span> <span class="o">=</span> <span class="s2">"Your-API-Key-goes-here"</span><span class="p">;</span>
<span class="nv">$apisecret</span> <span class="o">=</span> <span class="s2">"Your-API-secret-goes-here"</span><span class="p">;</span>

<span class="nv">$datacue</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\DataCue\Client</span><span class="p">(</span><span class="nv">$apikey</span><span class="p">,</span> <span class="nv">$apisecret</span><span class="p">);</span>

<span class="nv">$orderIdList</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'o1'</span><span class="p">,</span> <span class="s1">'o2'</span><span class="p">];</span>
<span class="nv">$res</span> <span class="o">=</span> <span class="nv">$datacue</span><span class="o">-&gt;</span><span class="na">orders</span><span class="o">-&gt;</span><span class="na">batchCancel</span><span class="p">(</span><span class="nv">$orderIdList</span><span class="p">);</span>

</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">requests</span>

<span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.datacue.co/v1/batch/orders"</span>
<span class="n">apikey</span> <span class="o">=</span> <span class="s">"your-api-key-goes-here"</span>
<span class="n">apisecret</span> <span class="o">=</span> <span class="s">"your-api-secret-goes-here"</span>

<span class="n">data</span> <span class="o">=</span> <span class="p">[</span>
  <span class="p">{</span>
    <span class="s">"order_id"</span><span class="p">:</span> <span class="s">"o1"</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="s">"order_id"</span><span class="p">:</span> <span class="s">"o2"</span>
  <span class="p">}</span>
<span class="p">]</span>

<span class="n">jsonData</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="n">checksum</span> <span class="o">=</span> <span class="n">hmac</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="nb">bytes</span><span class="p">(</span><span class="n">apisecret</span><span class="p">,</span><span class="s">'utf-8'</span><span class="p">),</span> <span class="nb">bytes</span><span class="p">(</span><span class="n">jsonData</span><span class="p">,</span> <span class="s">'utf-8'</span><span class="p">),</span> <span class="n">hashlib</span><span class="o">.</span><span class="n">sha256</span><span class="p">)</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">jsonData</span><span class="p">,</span> <span class="n">auth</span><span class="o">=</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">checksum</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">()))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">axios</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"axios"</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">url</span> <span class="o">=</span> <span class="s2">"https://api.datacue.co/v1/batch/orders"</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">[</span>
  <span class="p">{</span>
    <span class="na">order_id</span><span class="p">:</span> <span class="s2">"o1"</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="na">order_id</span><span class="p">:</span> <span class="s2">"o2"</span>
  <span class="p">}</span>
<span class="p">];</span>

<span class="kd">var</span> <span class="nx">hash</span> <span class="o">=</span> <span class="nx">crypto</span><span class="p">.</span><span class="nx">createHmac</span><span class="p">(</span><span class="s2">"sha256"</span><span class="p">,</span> <span class="nx">apisecret</span><span class="p">).</span><span class="nx">update</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">Stringify</span><span class="p">(</span><span class="nx">data</span><span class="p">));</span>

<span class="c1">//add to default authentication header</span>
<span class="nx">axios</span><span class="p">.</span><span class="nx">defaults</span><span class="p">.</span><span class="nx">auth</span> <span class="o">=</span> <span class="p">{</span> <span class="na">username</span><span class="p">:</span> <span class="nx">apikey</span><span class="p">,</span> <span class="na">password</span><span class="p">:</span> <span class="nx">hash</span><span class="p">.</span><span class="nx">digest</span><span class="p">(</span><span class="s2">"hex"</span><span class="p">)</span> <span class="p">};</span>

<span class="nx">axios</span><span class="p">.</span><span class="k">delete</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">data</span><span class="p">);</span>
</code></pre>
<p>Endpoint: <code>DELETE</code> <code>https://api.datacue.co/v1/batch/orders</code></p>

<p>Delete multiple orders within one request. Batch DELETE requests only require an id field as follows.</p>
<h3 id='request-json-fields-26'>Request JSON fields</h3>
<p><code>order_id</code></p>

<blockquote>
<p>The above command returns a 207 multi status response code</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"order_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"o1"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OK"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"order_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"o2"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OK"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>We will send you a status for each item you sent, so you can handle and resend only items that had an error.</p>
<h2 id='delete-all-products'>Delete All Products</h2><pre class="highlight html tab-html"><code><span class="c">&lt;!--- backend only event (refer to the Python, PHP or Node tab) --&gt;</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$apikey</span> <span class="o">=</span> <span class="s2">"Your-API-Key-goes-here"</span><span class="p">;</span>
<span class="nv">$apisecret</span> <span class="o">=</span> <span class="s2">"Your-API-secret-goes-here"</span><span class="p">;</span>

<span class="nv">$datacue</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\DataCue\Client</span><span class="p">(</span><span class="nv">$apikey</span><span class="p">,</span> <span class="nv">$apisecret</span><span class="p">);</span>

<span class="nv">$res</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">client</span><span class="o">-&gt;</span><span class="na">products</span><span class="o">-&gt;</span><span class="na">deleteAll</span><span class="p">();</span>

</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">requests</span>

<span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.datacue.co/v1/batch/products/all"</span>
<span class="n">apikey</span> <span class="o">=</span> <span class="s">"your-api-key-goes-here"</span>
<span class="n">apisecret</span> <span class="o">=</span> <span class="s">"your-api-secret-goes-here"</span>

<span class="n">checksum</span> <span class="o">=</span> <span class="n">hmac</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="nb">bytes</span><span class="p">(</span><span class="n">apisecret</span><span class="p">,</span><span class="s">'utf-8'</span><span class="p">),</span> <span class="nb">bytes</span><span class="p">(</span><span class="s">""</span><span class="p">,</span> <span class="s">'utf-8'</span><span class="p">),</span> <span class="n">hashlib</span><span class="o">.</span><span class="n">sha256</span><span class="p">)</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">auth</span><span class="o">=</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">checksum</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">()))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">axios</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"axios"</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">url</span> <span class="o">=</span> <span class="s2">"https://api.datacue.co/v1/batch/products/all"</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">hash</span> <span class="o">=</span> <span class="nx">crypto</span><span class="p">.</span><span class="nx">createHmac</span><span class="p">(</span><span class="s2">"sha256"</span><span class="p">,</span> <span class="nx">apisecret</span><span class="p">).</span><span class="nx">update</span><span class="p">(</span><span class="s2">""</span><span class="p">);</span>

<span class="c1">//add to default authentication header</span>
<span class="nx">axios</span><span class="p">.</span><span class="nx">defaults</span><span class="p">.</span><span class="nx">auth</span> <span class="o">=</span> <span class="p">{</span> <span class="na">username</span><span class="p">:</span> <span class="nx">apikey</span><span class="p">,</span> <span class="na">password</span><span class="p">:</span> <span class="nx">hash</span><span class="p">.</span><span class="nx">digest</span><span class="p">(</span><span class="s2">"hex"</span><span class="p">)</span> <span class="p">};</span>

<span class="nx">axios</span><span class="p">.</span><span class="k">delete</span><span class="p">(</span><span class="nx">url</span><span class="p">);</span>
</code></pre>
<p>Endpoint: <code>DELETE</code> <code>https://api.datacue.co/v1/batch/products/all</code></p>

<p>Delete ALL products within one request.</p>
<h3 id='request-json-fields-27'>Request JSON fields</h3>
<p>None</p>

<blockquote>
<p>The above command returns a 204 response code</p>
</blockquote>
<h2 id='delete-all-categories'>Delete All Categories</h2><pre class="highlight html tab-html"><code><span class="c">&lt;!--- backend only event (refer to the Python, PHP or Node tab) --&gt;</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$apikey</span> <span class="o">=</span> <span class="s2">"Your-API-Key-goes-here"</span><span class="p">;</span>
<span class="nv">$apisecret</span> <span class="o">=</span> <span class="s2">"Your-API-secret-goes-here"</span><span class="p">;</span>

<span class="nv">$datacue</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\DataCue\Client</span><span class="p">(</span><span class="nv">$apikey</span><span class="p">,</span> <span class="nv">$apisecret</span><span class="p">);</span>

<span class="c1">// batch delete categories
</span><span class="nv">$res</span> <span class="o">=</span> <span class="nv">$datacue</span><span class="o">-&gt;</span><span class="na">categories</span><span class="o">-&gt;</span><span class="na">deleteAll</span><span class="p">();</span>

</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">requests</span>

<span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.datacue.co/v1/batch/categories/all"</span>
<span class="n">apikey</span> <span class="o">=</span> <span class="s">"your-api-key-goes-here"</span>
<span class="n">apisecret</span> <span class="o">=</span> <span class="s">"your-api-secret-goes-here"</span>


<span class="n">checksum</span> <span class="o">=</span> <span class="n">hmac</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="nb">bytes</span><span class="p">(</span><span class="n">apisecret</span><span class="p">,</span><span class="s">'utf-8'</span><span class="p">),</span> <span class="nb">bytes</span><span class="p">(</span><span class="s">""</span><span class="p">,</span> <span class="s">'utf-8'</span><span class="p">),</span> <span class="n">hashlib</span><span class="o">.</span><span class="n">sha256</span><span class="p">)</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">auth</span><span class="o">=</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">checksum</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">()))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">axios</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"axios"</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">url</span> <span class="o">=</span> <span class="s2">"https://api.datacue.co/v1/batch/categories/all"</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">hash</span> <span class="o">=</span> <span class="nx">crypto</span><span class="p">.</span><span class="nx">createHmac</span><span class="p">(</span><span class="s2">"sha256"</span><span class="p">,</span> <span class="nx">apisecret</span><span class="p">).</span><span class="nx">update</span><span class="p">(</span><span class="s2">""</span><span class="p">);</span>

<span class="c1">//add to default authentication header</span>
<span class="nx">axios</span><span class="p">.</span><span class="nx">defaults</span><span class="p">.</span><span class="nx">auth</span> <span class="o">=</span> <span class="p">{</span> <span class="na">username</span><span class="p">:</span> <span class="nx">apikey</span><span class="p">,</span> <span class="na">password</span><span class="p">:</span> <span class="nx">hash</span><span class="p">.</span><span class="nx">digest</span><span class="p">(</span><span class="s2">"hex"</span><span class="p">)</span> <span class="p">};</span>

<span class="nx">axios</span><span class="p">.</span><span class="k">delete</span><span class="p">(</span><span class="nx">url</span><span class="p">);</span>
</code></pre>
<p>Endpoint: <code>DELETE</code> <code>https://api.datacue.co/v1/batch/categories/all</code></p>

<p>Delete ALL categories within one request.</p>

<blockquote>
<p>The above command returns a 204 response code</p>
</blockquote>
<h2 id='delete-all-users'>Delete All Users</h2><pre class="highlight html tab-html"><code><span class="c">&lt;!--- backend only event (refer to the Python, PHP or Node tab) --&gt;</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$apikey</span> <span class="o">=</span> <span class="s2">"Your-API-Key-goes-here"</span><span class="p">;</span>
<span class="nv">$apisecret</span> <span class="o">=</span> <span class="s2">"Your-API-secret-goes-here"</span><span class="p">;</span>

<span class="nv">$datacue</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\DataCue\Client</span><span class="p">(</span><span class="nv">$apikey</span><span class="p">,</span> <span class="nv">$apisecret</span><span class="p">);</span>

<span class="c1">// batch delete users
</span><span class="nv">$res</span> <span class="o">=</span> <span class="nv">$datacue</span><span class="o">-&gt;</span><span class="na">users</span><span class="o">-&gt;</span><span class="na">deleteAll</span><span class="p">();</span>

</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">requests</span>

<span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.datacue.co/v1/batch/users/all"</span>
<span class="n">apikey</span> <span class="o">=</span> <span class="s">"your-api-key-goes-here"</span>
<span class="n">apisecret</span> <span class="o">=</span> <span class="s">"your-api-secret-goes-here"</span>


<span class="n">checksum</span> <span class="o">=</span> <span class="n">hmac</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="nb">bytes</span><span class="p">(</span><span class="n">apisecret</span><span class="p">,</span><span class="s">'utf-8'</span><span class="p">),</span> <span class="nb">bytes</span><span class="p">(</span><span class="s">""</span><span class="p">,</span> <span class="s">'utf-8'</span><span class="p">),</span> <span class="n">hashlib</span><span class="o">.</span><span class="n">sha256</span><span class="p">)</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">auth</span><span class="o">=</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">checksum</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">()))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">axios</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"axios"</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">url</span> <span class="o">=</span> <span class="s2">"https://api.datacue.co/v1/batch/users/all"</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">hash</span> <span class="o">=</span> <span class="nx">crypto</span><span class="p">.</span><span class="nx">createHmac</span><span class="p">(</span><span class="s2">"sha256"</span><span class="p">,</span> <span class="nx">apisecret</span><span class="p">).</span><span class="nx">update</span><span class="p">(</span><span class="s2">""</span><span class="p">);</span>

<span class="c1">//add to default authentication header</span>
<span class="nx">axios</span><span class="p">.</span><span class="nx">defaults</span><span class="p">.</span><span class="nx">auth</span> <span class="o">=</span> <span class="p">{</span> <span class="na">username</span><span class="p">:</span> <span class="nx">apikey</span><span class="p">,</span> <span class="na">password</span><span class="p">:</span> <span class="nx">hash</span><span class="p">.</span><span class="nx">digest</span><span class="p">(</span><span class="s2">"hex"</span><span class="p">)</span> <span class="p">};</span>

<span class="nx">axios</span><span class="p">.</span><span class="k">delete</span><span class="p">(</span><span class="nx">url</span><span class="p">);</span>
</code></pre>
<p>Endpoint: <code>DELETE</code> <code>https://api.datacue.co/v1/batch/users/all</code></p>

<p>Delete ALL users within one request.</p>

<blockquote>
<p>The above command returns a 204 response code</p>
</blockquote>
<h2 id='delete-all-orders'>Delete All Orders</h2><pre class="highlight html tab-html"><code><span class="c">&lt;!--- backend only event (refer to the Python, PHP or Node tab) --&gt;</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$apikey</span> <span class="o">=</span> <span class="s2">"Your-API-Key-goes-here"</span><span class="p">;</span>
<span class="nv">$apisecret</span> <span class="o">=</span> <span class="s2">"Your-API-secret-goes-here"</span><span class="p">;</span>

<span class="nv">$datacue</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\DataCue\Client</span><span class="p">(</span><span class="nv">$apikey</span><span class="p">,</span> <span class="nv">$apisecret</span><span class="p">);</span>

<span class="c1">// batch delete orders
</span><span class="nv">$res</span> <span class="o">=</span> <span class="nv">$datacue</span><span class="o">-&gt;</span><span class="na">orders</span><span class="o">-&gt;</span><span class="na">deleteAll</span><span class="p">();</span>

</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">requests</span>

<span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.datacue.co/v1/batch/orders/all"</span>
<span class="n">apikey</span> <span class="o">=</span> <span class="s">"your-api-key-goes-here"</span>
<span class="n">apisecret</span> <span class="o">=</span> <span class="s">"your-api-secret-goes-here"</span>


<span class="n">checksum</span> <span class="o">=</span> <span class="n">hmac</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="nb">bytes</span><span class="p">(</span><span class="n">apisecret</span><span class="p">,</span><span class="s">'utf-8'</span><span class="p">),</span> <span class="nb">bytes</span><span class="p">(</span><span class="s">""</span><span class="p">,</span> <span class="s">'utf-8'</span><span class="p">),</span> <span class="n">hashlib</span><span class="o">.</span><span class="n">sha256</span><span class="p">)</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">auth</span><span class="o">=</span><span class="p">(</span><span class="n">apikey</span><span class="p">,</span> <span class="n">checksum</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">()))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">axios</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"axios"</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">url</span> <span class="o">=</span> <span class="s2">"https://api.datacue.co/v1/batch/orders/all"</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">hash</span> <span class="o">=</span> <span class="nx">crypto</span><span class="p">.</span><span class="nx">createHmac</span><span class="p">(</span><span class="s2">"sha256"</span><span class="p">,</span> <span class="nx">apisecret</span><span class="p">).</span><span class="nx">update</span><span class="p">(</span><span class="s2">""</span><span class="p">);</span>

<span class="c1">//add to default authentication header</span>
<span class="nx">axios</span><span class="p">.</span><span class="nx">defaults</span><span class="p">.</span><span class="nx">auth</span> <span class="o">=</span> <span class="p">{</span> <span class="na">username</span><span class="p">:</span> <span class="nx">apikey</span><span class="p">,</span> <span class="na">password</span><span class="p">:</span> <span class="nx">hash</span><span class="p">.</span><span class="nx">digest</span><span class="p">(</span><span class="s2">"hex"</span><span class="p">)</span> <span class="p">};</span>

<span class="nx">axios</span><span class="p">.</span><span class="k">delete</span><span class="p">(</span><span class="nx">url</span><span class="p">);</span>
</code></pre>
<p>Endpoint: <code>DELETE</code> <code>https://api.datacue.co/v1/batch/orders/all</code></p>

<p>Delete ALL orders within one request.</p>

<blockquote>
<p>The above command returns a 204 response code</p>
</blockquote>
<h1 id='errors'>Errors</h1>
<p>The API returns 3 types of error codes:</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request -- Your request is invalid. With a payload that has a descriptive error message. We&#39;re always trying to improve so let us know if you encounter any issues interpreting the error message.</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized -- Specified the wrong API key or API secret. Incorrectly formatted authorization header. Specifying an API secret in an endpoint that only requires an API key</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error -- We had a problem with our server. Try again later.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="html">Browser</a>
                <a href="#" data-language-name="javascript">Node.js</a>
                <a href="#" data-language-name="python">Python</a>
                <a href="#" data-language-name="php">PHP</a>
          </div>
      </div>
    </div>
  </body>
</html>
