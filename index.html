
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;php&quot;,&quot;python&quot;,&quot;javascript&quot;]">
    <a href="#" id="nav-button">
      <span>
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo.png" class="logo" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="php">php</a>
              <a href="#" data-language-name="python">python</a>
              <a href="#" data-language-name="javascript">javascript</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc" class="toc-list-h1">
          <li>
            <a href="#introduction" class="toc-h1 toc-link" data-title="introduction">Introduction</a>
          </li>
          <li>
            <a href="#headers" class="toc-h1 toc-link" data-title="headers">Headers</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#authentication" class="toc-h2 toc-link" data-title="authentication">Authentication</a>
                  </li>
                  <li>
                    <a href="#content-type" class="toc-h2 toc-link" data-title="content-type">Content-Type</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#events" class="toc-h1 toc-link" data-title="events">Events</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#home-page-view" class="toc-h2 toc-link" data-title="home-page-view">Home Page View</a>
                  </li>
                  <li>
                    <a href="#product-page-view" class="toc-h2 toc-link" data-title="product-page-view">Product Page View</a>
                  </li>
                  <li>
                    <a href="#shopping-cart-view-cart-add-remove-item" class="toc-h2 toc-link" data-title="shopping-cart-view-cart-add-remove-item">Shopping Cart (View Cart, Add/Remove Item)</a>
                  </li>
                  <li>
                    <a href="#search-page-view" class="toc-h2 toc-link" data-title="search-page-view">Search Page View</a>
                  </li>
                  <li>
                    <a href="#update-wishlist" class="toc-h2 toc-link" data-title="update-wishlist">Update Wishlist</a>
                  </li>
                  <li>
                    <a href="#banner-click" class="toc-h2 toc-link" data-title="banner-click">Banner Click</a>
                  </li>
                  <li>
                    <a href="#product-click" class="toc-h2 toc-link" data-title="product-click">Product Click</a>
                  </li>
                  <li>
                    <a href="#check-out-start-order" class="toc-h2 toc-link" data-title="check-out-start-order">Check Out (Start Order)</a>
                  </li>
                  <li>
                    <a href="#complete-order" class="toc-h2 toc-link" data-title="complete-order">Complete Order</a>
                  </li>
                  <li>
                    <a href="#user-login" class="toc-h2 toc-link" data-title="user-login">User Login</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#product-management" class="toc-h1 toc-link" data-title="product-management">Product Management</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#create-product" class="toc-h2 toc-link" data-title="create-product">Create Product</a>
                  </li>
                  <li>
                    <a href="#update-product" class="toc-h2 toc-link" data-title="update-product">Update Product</a>
                  </li>
                  <li>
                    <a href="#delete-product" class="toc-h2 toc-link" data-title="delete-product">Delete Product</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#banner-management" class="toc-h1 toc-link" data-title="banner-management">Banner Management</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#create-banner" class="toc-h2 toc-link" data-title="create-banner">Create Banner</a>
                  </li>
                  <li>
                    <a href="#update-banner" class="toc-h2 toc-link" data-title="update-banner">Update Banner</a>
                  </li>
                  <li>
                    <a href="#delete-banner" class="toc-h2 toc-link" data-title="delete-banner">Delete Banner</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#user-management" class="toc-h1 toc-link" data-title="user-management">User Management</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#create-user" class="toc-h2 toc-link" data-title="create-user">Create User</a>
                  </li>
                  <li>
                    <a href="#update-user" class="toc-h2 toc-link" data-title="update-user">Update User</a>
                  </li>
                  <li>
                    <a href="#delete-banner-2" class="toc-h2 toc-link" data-title="delete-banner">Delete Banner</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#errors" class="toc-h1 toc-link" data-title="errors">Errors</a>
          </li>
      </div>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='introduction'>Introduction</h1>
<p>Welcome to the DataCue API. This API documentation is to help get your e-commerce store setup to apply real time personalization to your website.</p>

<p>We have language bindings in Javascript, PHP, and Python! You can view code examples in the dark area to the right, and you can switch the programming language of the examples with the tabs in the top right.</p>
<h1 id='headers'>Headers</h1><h2 id='authentication'>Authentication</h2>
<blockquote>
<p>To authorize, use this code:</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?</span>
<span class="nv">$encode</span> <span class="o">=</span> <span class="nb">base64_encode</span><span class="p">(</span><span class="s2">"API-key:"</span><span class="p">);</span> <span class="c1"># only API key for events endpoint
</span>
<span class="nv">$encode</span> <span class="o">=</span> <span class="nb">base64_encode</span><span class="p">(</span><span class="s2">"API-key:API-secret"</span><span class="p">);</span> <span class="c1"># apikey:apisecret for all other endpoints
</span>
<span class="nv">$auth</span> <span class="o">=</span> <span class="s2">"Basic </span><span class="nv">$encode</span><span class="s2">"</span><span class="p">;</span>
<span class="cp">?&gt;</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">base64</span>
<span class="c"># for events endpoint, use apikey:</span>
<span class="n">auth</span> <span class="o">=</span> <span class="s">"Basic {}"</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">b64encode</span><span class="p">(</span><span class="n">b</span><span class="s">"API-key:"</span><span class="p">)</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"ascii"</span><span class="p">))</span>

<span class="c"># for other endpoints, use apikey:apisecret</span>
<span class="n">auth</span> <span class="o">=</span> <span class="s">"Basic {}"</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">b64encode</span><span class="p">(</span><span class="n">b</span><span class="s">"API-key:API-secret"</span><span class="p">)</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"ascii"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="err">#</span> <span class="k">for</span> <span class="nx">events</span> <span class="nx">endpoint</span><span class="p">,</span> <span class="nx">use</span> <span class="nx">apikey</span><span class="p">:</span>
<span class="kd">let</span> <span class="nx">auth</span> <span class="o">=</span> <span class="s2">`Basic </span><span class="p">${</span><span class="nx">btoa</span><span class="p">(</span><span class="s2">"API-key:"</span><span class="p">)}</span><span class="s2">`</span><span class="p">;</span>

<span class="err">#</span> <span class="k">for</span> <span class="nx">other</span> <span class="nx">endpoints</span><span class="p">,</span> <span class="nx">use</span> <span class="nx">apikey</span><span class="p">:</span><span class="nx">apisecret</span>
<span class="kd">let</span> <span class="nx">auth</span> <span class="o">=</span> <span class="s2">`Basic </span><span class="p">${</span><span class="nx">btoa</span><span class="p">(</span><span class="s2">"API-key:APi-secret"</span><span class="p">)}</span><span class="s2">`</span><span class="p">;</span>
</code></pre>
<blockquote>
<p>Make sure to replace <code>API-key</code> with your API key.</p>

<p>Sample Headers</p>
</blockquote>
<pre class="highlight plaintext"><code>  "Authorization": "Basic VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw=="
</code></pre>
<p>You will receive a API key and an API secret. Each end-point requires either just an API key or both key and secret to authenticate.
We use HTTP Basic Authentication, which is in the format <code>apikey:apisecret</code> that is base64 encoded and prepended with the string &quot;Basic &quot;.</p>

<p>For example if the end requires only an API Key:
Leave the api secret field empty.
Base64 encode &quot;abc123:&quot;, no password after the colon, and the final result will be &quot;YWJjMTIzOg==&quot;.</p>

<p>This is passed in the authorization header like so <code>Authorization: Basic YWJjMTIzOg==</code>.</p>

<p>For API endpoints requiring API key and secret, do the same as above, except in step 1 the api secret must be filled.</p>
<h2 id='content-type'>Content-Type</h2>
<p>You must set a content-type header to &quot;application/json&quot;.
<code>Content-Type: application/json</code></p>
<h1 id='events'>Events</h1>
<p>All events are registered in a similar format. There are 4 main objects in each request.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>user</td>
<td>true</td>
<td>All data that we know about the current user at the time.</td>
</tr>
<tr>
<td>event</td>
<td>true</td>
<td>Details about the event</td>
</tr>
<tr>
<td>context</td>
<td>false</td>
<td>Details about the user’s device and location</td>
</tr>
<tr>
<td>timestamp</td>
<td>false</td>
<td>An ISO-8601 date string in UTC time for when the event happened</td>
</tr>
</tbody></table>

<aside class="success">
  Parameter breakdown
</aside>
<h4 id='user'>User</h4>
<p>User Identification (one of the two is mandatory, we will take <code>user_id</code> if you send both)</p>

<ul>
<li><p><code>user_id</code> : the user_id of the user if he/she has logged in</p></li>
<li><p><code>anonymous_id</code>: an automatically generated visitor id if the user has not logged in.</p></li>
<li><p><code>profile</code>: any information you’ve collected about the user. For instance, if you run a fashion store and ask the user whether they want to see a men/women version of the store. Please add this information under the profile.</p></li>
</ul>
<h4 id='event'>Event</h4>
<ul>
<li><p><code>type</code>: a mandatory field: it can be &quot;pageview&quot;, &quot;viewcart&quot;, &quot;search&quot;, &quot;wishlist&quot;, &quot;click&quot;, &quot;order&quot; or &quot;login&quot;</p></li>
<li><p><code>subtype</code>: required depending on the event type. For instance, pageview, wishlist and click require a subtype.</p></li>
</ul>
<h4 id='context'>Context</h4>
<ul>
<li><p><code>ip</code>: the users IP. If you don’t specify one, we will store the IP sent from the request header.</p></li>
<li><p><code>user_agent</code>: If you don’t specify one, we will store the user_agent from the request header.
NOTE: This only applies if you are registering events from client side or frontend code running on a browser, typically in a single page application. If your store is rendered on the server for instance with PHP, you must specify these fields as the request IP and user_agent we receive will be from your server.</p></li>
</ul>
<h4 id='timestamp'>Timestamp</h4>
<ul>
<li>  <code>timestamp</code>: An ISO-8601 date string in UTC time for when the event happened (OPTIONAL)
If you don’t specify this, we will log the event at current UTC time. It is recommended to only specify this field if you are sending us any historical data.</li>
</ul>
<h2 id='home-page-view'>Home Page View</h2>
<p>Request banner and product recommendations when a user visits your home page</p>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?</span>
<span class="nv">$url</span> <span class="o">=</span> <span class="s2">"https://api.datacue.co/v1/events"</span><span class="p">;</span>
<span class="nv">$data</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s2">"user"</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s2">"user_id"</span> <span class="o">=&gt;</span>  <span class="s2">"019mr8mf4r"</span><span class="p">,</span>
    <span class="s2">"anonymous_id"</span> <span class="o">=&gt;</span> <span class="s2">"a1"</span><span class="p">,</span>
    <span class="s2">"profile"</span> <span class="o">=&gt;</span>  <span class="k">array</span><span class="p">(</span>
      <span class="s2">"sex"</span> <span class="o">=&gt;</span> <span class="s2">"female"</span><span class="p">,</span>
      <span class="s2">"location"</span> <span class="o">=&gt;</span> <span class="s2">"Santiago"</span><span class="p">,</span>
      <span class="s2">"dob"</span> <span class="o">=&gt;</span> <span class="s2">"1980-01-23"</span><span class="p">,</span>
      <span class="s2">"income"</span> <span class="o">=&gt;</span> <span class="s2">"high"</span><span class="p">,</span>
      <span class="s2">"occupation"</span> <span class="o">=&gt;</span> <span class="s2">"engineer"</span><span class="p">,</span>
      <span class="s2">"marital_status"</span> <span class="o">=&gt;</span> <span class="s2">"married"</span>
    <span class="p">)</span>
  <span class="p">),</span>
  <span class="s2">"event"</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s2">"type"</span> <span class="o">=&gt;</span> <span class="s2">"pageview"</span><span class="p">,</span>
    <span class="s2">"subtype"</span> <span class="o">=&gt;</span> <span class="s2">"home"</span>
  <span class="p">),</span>
  <span class="s2">"context"</span> <span class="o">=&gt;</span>  <span class="k">array</span><span class="p">(</span>
    <span class="s2">"ip"</span> <span class="o">=&gt;</span> <span class="s2">"24.5.68.47"</span><span class="p">,</span>
    <span class="s2">"user-agent"</span> <span class="o">=&gt;</span> <span class="s2">"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_6) AppleWebKit/604.5.6 (KHTML, like Gecko) Version/11.0.3 Safari/604.5.6"</span>
  <span class="p">),</span>
  <span class="s2">"timestamp"</span> <span class="o">=&gt;</span> <span class="s2">"2012-12-02T00 =&gt; 30 =&gt; 08.276Z"</span>
<span class="p">);</span>

<span class="nv">$content</span> <span class="o">=</span> <span class="nb">json_encode</span><span class="p">(</span><span class="nv">$data</span><span class="p">);</span>

<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">(</span><span class="nv">$url</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_HEADER</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_RETURNTRANSFER</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_HTTPHEADER</span><span class="p">,</span>
        <span class="k">array</span><span class="p">(</span>
          <span class="s2">"Content-type: application/json"</span><span class="p">,</span>
          <span class="s2">"Authorization"</span><span class="o">:</span> <span class="s2">"Basic VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw=="</span>
        <span class="p">));</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_POST</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_POSTFIELDS</span><span class="p">,</span> <span class="nv">$content</span><span class="p">);</span>

<span class="nv">$json_response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.datacue.co/v1/events"</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">"Content-type"</span><span class="p">:</span> <span class="s">"application/json"</span><span class="p">,</span>
  <span class="s">"Authorization"</span><span class="p">:</span> <span class="s">"Basic VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw=="</span>
<span class="p">}</span>
<span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">"user"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">"user_id"</span><span class="p">:</span> <span class="s">"019mr8mf4r"</span><span class="p">,</span>
    <span class="s">"anonymous_id"</span><span class="p">:</span> <span class="s">"a1"</span><span class="p">,</span>
    <span class="s">"profile"</span><span class="p">:</span> <span class="p">{</span>
      <span class="s">"sex"</span><span class="p">:</span> <span class="s">"female"</span><span class="p">,</span>
      <span class="s">"location"</span><span class="p">:</span> <span class="s">"Santiago"</span><span class="p">,</span>
      <span class="s">"dob"</span><span class="p">:</span> <span class="s">"1980-01-23"</span><span class="p">,</span>
      <span class="s">"income"</span><span class="p">:</span> <span class="s">"high"</span><span class="p">,</span>
      <span class="s">"occupation"</span><span class="p">:</span> <span class="s">"engineer"</span><span class="p">,</span>
      <span class="s">"marital_status"</span><span class="p">:</span> <span class="s">"married"</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="s">"event"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">"type"</span><span class="p">:</span> <span class="s">"pageview"</span><span class="p">,</span>
    <span class="s">"subtype"</span><span class="p">:</span> <span class="s">"home"</span>
  <span class="p">},</span>
  <span class="s">"context"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">"ip"</span><span class="p">:</span> <span class="s">"24.5.68.47"</span><span class="p">,</span>
    <span class="s">"user-agent"</span><span class="p">:</span> <span class="s">"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_6) AppleWebKit/604.5.6 (KHTML, like Gecko) Version/11.0.3 Safari/604.5.6"</span>
  <span class="p">},</span>
  <span class="s">"timestamp"</span><span class="p">:</span> <span class="s">"2012-12-02T00:30:08.276Z"</span>
<span class="p">}</span>


<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">url</span> <span class="o">=</span> <span class="s2">"https://api.datacue.co/v1/events"</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"user"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"user_id"</span><span class="p">:</span> <span class="s2">"019mr8mf4r"</span><span class="p">,</span>
    <span class="s2">"anonymous_id"</span><span class="p">:</span> <span class="s2">"a1"</span><span class="p">,</span>
    <span class="s2">"profile"</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">"sex"</span><span class="p">:</span> <span class="s2">"female"</span><span class="p">,</span>
      <span class="s2">"location"</span><span class="p">:</span> <span class="s2">"Santiago"</span><span class="p">,</span>
      <span class="s2">"dob"</span><span class="p">:</span> <span class="s2">"1980-01-23"</span><span class="p">,</span>
      <span class="s2">"income"</span><span class="p">:</span> <span class="s2">"high"</span><span class="p">,</span>
      <span class="s2">"occupation"</span><span class="p">:</span> <span class="s2">"engineer"</span><span class="p">,</span>
      <span class="s2">"marital_status"</span><span class="p">:</span> <span class="s2">"married"</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="s2">"event"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"pageview"</span><span class="p">,</span>
    <span class="s2">"subtype"</span><span class="p">:</span> <span class="s2">"home"</span>
  <span class="p">},</span>
  <span class="s2">"context"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"ip"</span><span class="p">:</span> <span class="s2">"24.5.68.47"</span><span class="p">,</span>
    <span class="s2">"user-agent"</span><span class="p">:</span> <span class="s2">"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_6) AppleWebKit/604.5.6 (KHTML, like Gecko) Version/11.0.3 Safari/604.5.6"</span>
  <span class="p">},</span>
  <span class="s2">"timestamp"</span><span class="p">:</span> <span class="s2">"2012-12-02T00:30:08.276Z"</span>
<span class="p">}</span>
<span class="c1">// The parameters we are gonna pass to the fetch function</span>
<span class="kd">let</span> <span class="nx">fetchData</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">method</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
    <span class="na">body</span><span class="p">:</span> <span class="nx">data</span><span class="p">,</span>
    <span class="na">headers</span><span class="p">:</span> <span class="k">new</span> <span class="nx">Headers</span><span class="p">(</span>
      <span class="s2">"Content-Type"</span><span class="p">,</span> <span class="s2">"application/json"</span><span class="p">,</span>
      <span class="s2">"Authorization"</span><span class="p">:</span> <span class="s2">"Basic VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw=="</span>
    <span class="p">)</span>
<span class="p">}</span>
<span class="nx">fetch</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">fetchData</span><span class="p">)</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">res</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">())</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">data</span><span class="p">)</span> <span class="o">=&gt;</span>  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">))</span>
<span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">))</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"main_banners"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"banner_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"B4"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"photo_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/banners/living-room/livingroom-min.jpeg"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Living Room"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/category/living-room"</span><span class="w">
    </span><span class="p">},</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"sub_banners"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"banner_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"B16"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"photo_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/banners/living-room/subbanner_lamps.jpeg"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Lamps"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/category/living-room/lamps"</span><span class="w">
    </span><span class="p">},</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"related_product_skus"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">       
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"product_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"48"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"variant_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="w">
      </span><span class="s2">"category_1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"kitchen"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"category_2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dining-table"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"category_3"</span><span class="p">:</span><span class="w"> </span><span class="s2">"scandinavian"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"category_4"</span><span class="p">:</span><span class="w"> </span><span class="s2">"modern"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Modern Table"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/table-1"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"219"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"photo_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/products/48.jpg"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h2 id='product-page-view'>Product Page View</h2>
<p>Request product recommendations when a user visits a product page</p>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?</span>
<span class="nv">$url</span> <span class="o">=</span> <span class="s2">"https://api.datacue.co/v1/events"</span><span class="p">;</span>
<span class="nv">$data</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s2">"user"</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s2">"user_id"</span> <span class="o">=&gt;</span>  <span class="s2">"019mr8mf4r"</span><span class="p">,</span>
    <span class="s2">"anonymous_id"</span> <span class="o">=&gt;</span> <span class="s2">"a1"</span><span class="p">,</span>
    <span class="s2">"profile"</span> <span class="o">=&gt;</span>  <span class="k">array</span><span class="p">(</span>
      <span class="s2">"sex"</span> <span class="o">=&gt;</span> <span class="s2">"female"</span><span class="p">,</span>
      <span class="s2">"location"</span> <span class="o">=&gt;</span> <span class="s2">"Santiago"</span><span class="p">,</span>
      <span class="s2">"dob"</span> <span class="o">=&gt;</span> <span class="s2">"1980-01-23"</span><span class="p">,</span>
      <span class="s2">"income"</span> <span class="o">=&gt;</span> <span class="s2">"high"</span><span class="p">,</span>
      <span class="s2">"occupation"</span> <span class="o">=&gt;</span> <span class="s2">"engineer"</span><span class="p">,</span>
      <span class="s2">"marital_status"</span> <span class="o">=&gt;</span> <span class="s2">"married"</span>
    <span class="p">)</span>
  <span class="p">),</span>
  <span class="s2">"event"</span> <span class="o">=&gt;</span>  <span class="k">array</span><span class="p">(</span>
    <span class="s2">"type"</span> <span class="o">=&gt;</span>  <span class="s2">"pageview"</span><span class="p">,</span>
    <span class="s2">"subtype"</span> <span class="o">=&gt;</span>  <span class="s2">"product"</span><span class="p">,</span>
    <span class="s2">"product_id"</span> <span class="o">=&gt;</span> <span class="s2">"p1"</span><span class="p">,</span>
    <span class="s2">"variant_id"</span> <span class="o">=&gt;</span> <span class="s2">"v1"</span>
  <span class="p">),</span>
  <span class="s2">"context"</span> <span class="o">=&gt;</span>  <span class="k">array</span><span class="p">(</span>
    <span class="s2">"ip"</span> <span class="o">=&gt;</span>  <span class="s2">"24.5.68.47"</span><span class="p">,</span>
    <span class="s2">"user-agent"</span> <span class="o">=&gt;</span>  <span class="s2">"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_6) AppleWebKit/604.5.6 (KHTML, like Gecko) Version/11.0.3 Safari/604.5.6"</span>
  <span class="p">),</span>
  <span class="s2">"timestamp"</span> <span class="o">=&gt;</span>  <span class="s2">"2012-12-02T00 =&gt; 30 =&gt; 08.276Z"</span>
<span class="p">);</span>

<span class="nv">$content</span> <span class="o">=</span> <span class="nb">json_encode</span><span class="p">(</span><span class="nv">$data</span><span class="p">);</span>

<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">(</span><span class="nv">$url</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_HEADER</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_RETURNTRANSFER</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_HTTPHEADER</span><span class="p">,</span>
        <span class="k">array</span><span class="p">(</span>
          <span class="s2">"Content-type: application/json"</span><span class="p">,</span>
          <span class="s2">"Authorization"</span><span class="o">:</span> <span class="s2">"Basic VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw=="</span>
        <span class="p">));</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_POST</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_POSTFIELDS</span><span class="p">,</span> <span class="nv">$content</span><span class="p">);</span>

<span class="nv">$json_response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.datacue.co/v1/events"</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">"Content-type"</span><span class="p">:</span> <span class="s">"application/json"</span><span class="p">,</span>
  <span class="s">"Authorization"</span><span class="p">:</span> <span class="s">"Basic VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw=="</span>
<span class="p">}</span>
<span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">"user"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">"user_id"</span><span class="p">:</span> <span class="s">"019mr8mf4r"</span><span class="p">,</span>
    <span class="s">"anonymous_id"</span><span class="p">:</span> <span class="s">"a1"</span><span class="p">,</span>
    <span class="s">"profile"</span><span class="p">:</span> <span class="p">{</span>
      <span class="s">"sex"</span><span class="p">:</span> <span class="s">"female"</span><span class="p">,</span>
      <span class="s">"location"</span><span class="p">:</span> <span class="s">"Santiago"</span><span class="p">,</span>
      <span class="s">"dob"</span><span class="p">:</span> <span class="s">"1980-01-23"</span><span class="p">,</span>
      <span class="s">"income"</span><span class="p">:</span> <span class="s">"high"</span><span class="p">,</span>
      <span class="s">"occupation"</span><span class="p">:</span> <span class="s">"engineer"</span><span class="p">,</span>
      <span class="s">"marital_status"</span><span class="p">:</span> <span class="s">"married"</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="s">"event"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">"type"</span><span class="p">:</span> <span class="s">"pageview"</span><span class="p">,</span>
    <span class="s">"subtype"</span><span class="p">:</span> <span class="s">"product"</span><span class="p">,</span>
    <span class="s">"product_id"</span><span class="p">:</span> <span class="s">"p1"</span><span class="p">,</span>
    <span class="s">"variant_id"</span><span class="p">:</span> <span class="s">"v1"</span>
  <span class="p">},</span>
  <span class="s">"context"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">"ip"</span><span class="p">:</span> <span class="s">"24.5.68.47"</span><span class="p">,</span>
    <span class="s">"user-agent"</span><span class="p">:</span> <span class="s">"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_6) AppleWebKit/604.5.6 (KHTML, like Gecko) Version/11.0.3 Safari/604.5.6"</span>
  <span class="p">},</span>
  <span class="s">"timestamp"</span><span class="p">:</span> <span class="s">"2012-12-02T00:30:08.276Z"</span>
<span class="p">}</span>


<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">url</span> <span class="o">=</span> <span class="s2">"https://api.datacue.co/v1/events"</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"user"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"user_id"</span><span class="p">:</span> <span class="s2">"019mr8mf4r"</span><span class="p">,</span>
    <span class="s2">"anonymous_id"</span><span class="p">:</span> <span class="s2">"a1"</span><span class="p">,</span>
    <span class="s2">"profile"</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">"sex"</span><span class="p">:</span> <span class="s2">"female"</span><span class="p">,</span>
      <span class="s2">"location"</span><span class="p">:</span> <span class="s2">"Santiago"</span><span class="p">,</span>
      <span class="s2">"dob"</span><span class="p">:</span> <span class="s2">"1980-01-23"</span><span class="p">,</span>
      <span class="s2">"income"</span><span class="p">:</span> <span class="s2">"high"</span><span class="p">,</span>
      <span class="s2">"occupation"</span><span class="p">:</span> <span class="s2">"engineer"</span><span class="p">,</span>
      <span class="s2">"marital_status"</span><span class="p">:</span> <span class="s2">"married"</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="s2">"event"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"pageview"</span><span class="p">,</span>
    <span class="s2">"subtype"</span><span class="p">:</span> <span class="s2">"product"</span><span class="p">,</span>
    <span class="s2">"product_id"</span><span class="p">:</span> <span class="s2">"p1"</span><span class="p">,</span>
    <span class="s2">"variant_id"</span><span class="p">:</span> <span class="s2">"v1"</span>
  <span class="p">},</span>
  <span class="s2">"context"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"ip"</span><span class="p">:</span> <span class="s2">"24.5.68.47"</span><span class="p">,</span>
    <span class="s2">"user-agent"</span><span class="p">:</span> <span class="s2">"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_6) AppleWebKit/604.5.6 (KHTML, like Gecko) Version/11.0.3 Safari/604.5.6"</span>
  <span class="p">},</span>
  <span class="s2">"timestamp"</span><span class="p">:</span> <span class="s2">"2012-12-02T00:30:08.276Z"</span>
<span class="p">}</span>
<span class="c1">// The parameters we are gonna pass to the fetch function</span>
<span class="kd">let</span> <span class="nx">fetchData</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">method</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
    <span class="na">body</span><span class="p">:</span> <span class="nx">data</span><span class="p">,</span>
    <span class="na">headers</span><span class="p">:</span> <span class="k">new</span> <span class="nx">Headers</span><span class="p">(</span>
      <span class="s2">"Content-Type"</span><span class="p">,</span> <span class="s2">"application/json"</span><span class="p">,</span>
      <span class="s2">"Authorization"</span><span class="p">:</span> <span class="s2">"Basic VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw=="</span>
      <span class="p">)</span>
<span class="p">}</span>
<span class="nx">fetch</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">fetchData</span><span class="p">)</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">res</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">())</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">data</span><span class="p">)</span> <span class="o">=&gt;</span>  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">))</span>
<span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">))</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"related_product_skus"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">       
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"product_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"48"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"variant_id"</span><span class="p">:</span><span class="s2">"1"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"category_1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"kitchen"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"category_2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dining-table"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"category_3"</span><span class="p">:</span><span class="w"> </span><span class="s2">"scandinavian"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"category_4"</span><span class="p">:</span><span class="w"> </span><span class="s2">"modern"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Modern Table"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/table-1"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"219"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"photo_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/products/48.jpg"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"extras"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="s2">"discount"</span><span class="p">:</span><span class="s2">"10%"</span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"similar_product_skus"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"product_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"37"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"variant_id"</span><span class="p">:</span><span class="s2">"1"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"category_1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"outdoors"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"category_2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sofa"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"category_3"</span><span class="p">:</span><span class="w"> </span><span class="s2">"scandinavian"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"category_4"</span><span class="p">:</span><span class="w"> </span><span class="s2">"modern"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Outdoor Armchair"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/outdoor-sofa-2"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"199"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"photo_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/products/37.jpg"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"extras"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="s2">"promotion"</span><span class="p">:</span><span class="kc">true</span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h2 id='shopping-cart-view-cart-add-remove-item'>Shopping Cart (View Cart, Add/Remove Item)</h2>
<p>Record activity on a users shopping cart, typically when the cart is viewed, or an item is added or removed.</p>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?</span>
<span class="nv">$url</span> <span class="o">=</span> <span class="s2">"https://api.datacue.co/v1/events"</span><span class="p">;</span>
<span class="nv">$data</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s2">"user"</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s2">"user_id"</span> <span class="o">=&gt;</span>  <span class="s2">"019mr8mf4r"</span><span class="p">,</span>
    <span class="s2">"anonymous_id"</span> <span class="o">=&gt;</span> <span class="s2">"a1"</span><span class="p">,</span>
    <span class="s2">"profile"</span> <span class="o">=&gt;</span>  <span class="k">array</span><span class="p">(</span>
      <span class="s2">"sex"</span> <span class="o">=&gt;</span> <span class="s2">"female"</span>
    <span class="p">)</span>
  <span class="p">),</span>
  <span class="s2">"event"</span> <span class="o">=&gt;</span>  <span class="k">array</span><span class="p">(</span>
    <span class="s2">"type"</span> <span class="o">=&gt;</span> <span class="s2">"viewcart"</span><span class="p">,</span>
      <span class="s2">"cart"</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s2">"p1"</span><span class="p">,</span><span class="s2">"p2"</span><span class="p">,</span><span class="s2">"p3"</span><span class="p">)</span>
  <span class="p">),</span>
  <span class="s2">"context"</span> <span class="o">=&gt;</span>  <span class="k">array</span><span class="p">(</span>
    <span class="s2">"ip"</span> <span class="o">=&gt;</span>  <span class="s2">"24.5.68.47"</span><span class="p">,</span>
    <span class="s2">"user-agent"</span> <span class="o">=&gt;</span>  <span class="s2">"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_6) AppleWebKit/604.5.6 (KHTML, like Gecko) Version/11.0.3 Safari/604.5.6"</span>
  <span class="p">),</span>
  <span class="s2">"timestamp"</span> <span class="o">=&gt;</span>  <span class="s2">"2012-12-02T00 =&gt; 30 =&gt; 08.276Z"</span>
<span class="p">);</span>

<span class="nv">$content</span> <span class="o">=</span> <span class="nb">json_encode</span><span class="p">(</span><span class="nv">$data</span><span class="p">);</span>

<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">(</span><span class="nv">$url</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_HEADER</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_RETURNTRANSFER</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_HTTPHEADER</span><span class="p">,</span>
        <span class="k">array</span><span class="p">(</span>
          <span class="s2">"Content-type: application/json"</span><span class="p">,</span>
          <span class="s2">"Authorization"</span><span class="o">:</span> <span class="s2">"Basic VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw=="</span>
      <span class="p">));</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_POST</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_POSTFIELDS</span><span class="p">,</span> <span class="nv">$content</span><span class="p">);</span>

<span class="nv">$json_response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.datacue.co/v1/events"</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">"Content-type"</span><span class="p">:</span> <span class="s">"application/json"</span><span class="p">,</span>
  <span class="s">"Authorization"</span><span class="p">:</span> <span class="s">"Basic VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw=="</span>
<span class="p">}</span>
<span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">"user"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">"user_id"</span><span class="p">:</span> <span class="s">"019mr8mf4r"</span><span class="p">,</span>
    <span class="s">"anonymous_id"</span><span class="p">:</span> <span class="s">"a1"</span><span class="p">,</span>
    <span class="s">"profile"</span><span class="p">:</span> <span class="p">{</span>
      <span class="s">"sex"</span><span class="p">:</span> <span class="s">"female"</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="s">"event"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">"type"</span><span class="p">:</span> <span class="s">"viewcart"</span><span class="p">,</span>
    <span class="s">"cart"</span><span class="p">:</span> <span class="p">[</span><span class="s">"p1"</span><span class="p">,</span><span class="s">"p2"</span><span class="p">,</span><span class="s">"p3"</span><span class="p">]</span>
  <span class="p">},</span>
  <span class="s">"context"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">"ip"</span><span class="p">:</span> <span class="s">"24.5.68.47"</span><span class="p">,</span>
    <span class="s">"user-agent"</span><span class="p">:</span> <span class="s">"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_6) AppleWebKit/604.5.6 (KHTML, like Gecko) Version/11.0.3 Safari/604.5.6"</span>
  <span class="p">},</span>
  <span class="s">"timestamp"</span><span class="p">:</span> <span class="s">"2012-12-02T00:30:08.276Z"</span>
<span class="p">}</span>


<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">url</span> <span class="o">=</span> <span class="s2">"https://api.datacue.co/v1/events"</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"user"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"user_id"</span><span class="p">:</span> <span class="s2">"019mr8mf4r"</span><span class="p">,</span>
    <span class="s2">"anonymous_id"</span><span class="p">:</span> <span class="s2">"a1"</span><span class="p">,</span>
    <span class="s2">"profile"</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">"sex"</span><span class="p">:</span> <span class="s2">"female"</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="s2">"event"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"viewcart"</span><span class="p">,</span>
    <span class="s2">"cart"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"p1"</span><span class="p">,</span><span class="s2">"p2"</span><span class="p">,</span><span class="s2">"p3"</span><span class="p">]</span>
  <span class="p">},</span>
  <span class="s2">"context"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"ip"</span><span class="p">:</span> <span class="s2">"24.5.68.47"</span><span class="p">,</span>
    <span class="s2">"user-agent"</span><span class="p">:</span> <span class="s2">"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_6) AppleWebKit/604.5.6 (KHTML, like Gecko) Version/11.0.3 Safari/604.5.6"</span>
  <span class="p">},</span>
  <span class="s2">"timestamp"</span><span class="p">:</span> <span class="s2">"2012-12-02T00:30:08.276Z"</span>
<span class="p">}</span>
<span class="c1">// The parameters we are gonna pass to the fetch function</span>
<span class="kd">let</span> <span class="nx">fetchData</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">method</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
    <span class="na">body</span><span class="p">:</span> <span class="nx">data</span><span class="p">,</span>
    <span class="na">headers</span><span class="p">:</span> <span class="k">new</span> <span class="nx">Headers</span><span class="p">(</span>
      <span class="s2">"Content-Type"</span><span class="p">,</span> <span class="s2">"application/json"</span><span class="p">,</span>
      <span class="s2">"Authorization"</span><span class="p">:</span> <span class="s2">"Basic VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw=="</span>
      <span class="p">)</span>
<span class="p">}</span>
<span class="nx">fetch</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">fetchData</span><span class="p">)</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">res</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">())</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">data</span><span class="p">)</span> <span class="o">=&gt;</span>  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">))</span>
<span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">))</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"related_product_skus"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"product_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"37"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"variant_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"v1"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"category_1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"outdoors"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"category_2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sofa"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"category_3"</span><span class="p">:</span><span class="w"> </span><span class="s2">"scandinavian"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"category_4"</span><span class="p">:</span><span class="w"> </span><span class="s2">"modern"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Outdoor Armchair"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/outdoor-sofa-2"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"199"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"photo_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/products/37.jpg"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"extras"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="s2">"discount"</span><span class="p">:</span><span class="s2">"10%"</span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h2 id='search-page-view'>Search Page View</h2>
<p>Record when performs a search on your website</p>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?</span>
<span class="nv">$url</span> <span class="o">=</span> <span class="s2">"https://api.datacue.co/v1/events"</span><span class="p">;</span>
<span class="nv">$data</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s2">"user"</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s2">"user_id"</span> <span class="o">=&gt;</span>  <span class="s2">"019mr8mf4r"</span><span class="p">,</span>
    <span class="s2">"anonymous_id"</span> <span class="o">=&gt;</span> <span class="s2">"a1"</span><span class="p">,</span>
    <span class="s2">"profile"</span> <span class="o">=&gt;</span>  <span class="k">array</span><span class="p">(</span>
      <span class="s2">"sex"</span> <span class="o">=&gt;</span> <span class="s2">"female"</span>
    <span class="p">)</span>
  <span class="p">),</span>
  <span class="s2">"event"</span> <span class="o">=&gt;</span>  <span class="k">array</span><span class="p">(</span>
    <span class="s2">"type"</span> <span class="o">=&gt;</span> <span class="s2">"search"</span><span class="p">,</span>
    <span class="s2">"term"</span> <span class="o">=&gt;</span> <span class="s2">"tables"</span>
  <span class="p">),</span>
  <span class="s2">"context"</span> <span class="o">=&gt;</span>  <span class="k">array</span><span class="p">(</span>
    <span class="s2">"ip"</span> <span class="o">=&gt;</span>  <span class="s2">"24.5.68.47"</span><span class="p">,</span>
    <span class="s2">"user-agent"</span> <span class="o">=&gt;</span>  <span class="s2">"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_6) AppleWebKit/604.5.6 (KHTML, like Gecko) Version/11.0.3 Safari/604.5.6"</span>
  <span class="p">),</span>
  <span class="s2">"timestamp"</span> <span class="o">=&gt;</span>  <span class="s2">"2012-12-02T00 =&gt; 30 =&gt; 08.276Z"</span>
<span class="p">);</span>

<span class="nv">$content</span> <span class="o">=</span> <span class="nb">json_encode</span><span class="p">(</span><span class="nv">$data</span><span class="p">);</span>

<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">(</span><span class="nv">$url</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_HEADER</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_RETURNTRANSFER</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_HTTPHEADER</span><span class="p">,</span>
        <span class="k">array</span><span class="p">(</span>
          <span class="s2">"Content-type: application/json"</span><span class="p">,</span>
          <span class="s2">"Authorization"</span><span class="o">:</span> <span class="s2">"Basic VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw=="</span>
        <span class="p">));</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_POST</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_POSTFIELDS</span><span class="p">,</span> <span class="nv">$content</span><span class="p">);</span>

<span class="nv">$json_response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.datacue.co/v1/events"</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">"Content-type"</span><span class="p">:</span> <span class="s">"application/json"</span><span class="p">,</span>
  <span class="s">"Authorization"</span><span class="p">:</span> <span class="s">"Basic VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw=="</span>
<span class="p">}</span>
<span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">"user"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">"user_id"</span><span class="p">:</span> <span class="s">"019mr8mf4r"</span><span class="p">,</span>
    <span class="s">"anonymous_id"</span><span class="p">:</span> <span class="s">"a1"</span><span class="p">,</span>
    <span class="s">"profile"</span><span class="p">:</span> <span class="p">{</span>
      <span class="s">"sex"</span><span class="p">:</span> <span class="s">"female"</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="s">"event"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">"type"</span><span class="p">:</span> <span class="s">"search"</span><span class="p">,</span>
    <span class="s">"term"</span><span class="p">:</span> <span class="s">"tables"</span>
  <span class="p">},</span>
  <span class="s">"context"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">"ip"</span><span class="p">:</span> <span class="s">"24.5.68.47"</span><span class="p">,</span>
    <span class="s">"user-agent"</span><span class="p">:</span> <span class="s">"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_6) AppleWebKit/604.5.6 (KHTML, like Gecko) Version/11.0.3 Safari/604.5.6"</span>
  <span class="p">},</span>
  <span class="s">"timestamp"</span><span class="p">:</span> <span class="s">"2012-12-02T00:30:08.276Z"</span>
<span class="p">}</span>


<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">url</span> <span class="o">=</span> <span class="s2">"https://api.datacue.co/v1/events"</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"user"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"user_id"</span><span class="p">:</span> <span class="s2">"019mr8mf4r"</span><span class="p">,</span>
    <span class="s2">"anonymous_id"</span><span class="p">:</span> <span class="s2">"a1"</span><span class="p">,</span>
    <span class="s2">"profile"</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">"sex"</span><span class="p">:</span> <span class="s2">"female"</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="s2">"event"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"search"</span><span class="p">,</span>
    <span class="s2">"term"</span><span class="p">:</span> <span class="s2">"tables"</span>
  <span class="p">},</span>
  <span class="s2">"context"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"ip"</span><span class="p">:</span> <span class="s2">"24.5.68.47"</span><span class="p">,</span>
    <span class="s2">"user-agent"</span><span class="p">:</span> <span class="s2">"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_6) AppleWebKit/604.5.6 (KHTML, like Gecko) Version/11.0.3 Safari/604.5.6"</span>
  <span class="p">},</span>
  <span class="s2">"timestamp"</span><span class="p">:</span> <span class="s2">"2012-12-02T00:30:08.276Z"</span>
<span class="p">}</span>
<span class="c1">// The parameters we are gonna pass to the fetch function</span>
<span class="kd">let</span> <span class="nx">fetchData</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">method</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
    <span class="na">body</span><span class="p">:</span> <span class="nx">data</span><span class="p">,</span>
    <span class="na">headers</span><span class="p">:</span> <span class="k">new</span> <span class="nx">Headers</span><span class="p">(</span>
      <span class="s2">"Content-Type"</span><span class="p">,</span> <span class="s2">"application/json"</span><span class="p">,</span>
      <span class="s2">"Authorization"</span><span class="p">:</span> <span class="s2">"Basic VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw=="</span>
      <span class="p">)</span>
<span class="p">}</span>
<span class="nx">fetch</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">fetchData</span><span class="p">)</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">res</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">())</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">data</span><span class="p">)</span> <span class="o">=&gt;</span>  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">))</span>
<span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">))</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"related_product_skus"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"product_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"37"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"variant_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"category_1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"outdoors"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"category_2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sofa"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"category_3"</span><span class="p">:</span><span class="w"> </span><span class="s2">"scandinavian"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"category_4"</span><span class="p">:</span><span class="w"> </span><span class="s2">"modern"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Outdoor Armchair"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/outdoor-sofa-2"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"199"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"photo_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/products/37.jpg"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"extras"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="s2">"discount"</span><span class="p">:</span><span class="s2">"10%"</span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h2 id='update-wishlist'>Update Wishlist</h2>
<p>Record changes to users wishlist, typically when the wishlist is viewed, or a product is added or removed from the wishlist.</p>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?</span>
<span class="nv">$url</span> <span class="o">=</span> <span class="s2">"https://api.datacue.co/v1/events"</span><span class="p">;</span>
<span class="nv">$data</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s2">"user"</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s2">"user_id"</span> <span class="o">=&gt;</span>  <span class="s2">"019mr8mf4r"</span><span class="p">,</span>
    <span class="s2">"anonymous_id"</span> <span class="o">=&gt;</span> <span class="s2">"a1"</span><span class="p">,</span>
    <span class="s2">"profile"</span> <span class="o">=&gt;</span>  <span class="k">array</span><span class="p">(</span>
      <span class="s2">"sex"</span> <span class="o">=&gt;</span> <span class="s2">"female"</span>
    <span class="p">)</span>
  <span class="p">),</span>
  <span class="s2">"event"</span> <span class="o">=&gt;</span>  <span class="k">array</span><span class="p">(</span>
    <span class="s2">"type"</span> <span class="o">=&gt;</span> <span class="s2">"wishlist"</span><span class="p">,</span>
    <span class="s2">"wishlist"</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
      <span class="k">array</span><span class="p">(</span>
        <span class="s2">"product_id"</span> <span class="o">=&gt;</span> <span class="s2">"p1"</span><span class="p">,</span>
        <span class="s2">"variant_id"</span> <span class="o">=&gt;</span> <span class="s2">"v1"</span>
      <span class="p">),</span>
      <span class="k">array</span><span class="p">(</span>
        <span class="s2">"product_id"</span> <span class="o">=&gt;</span> <span class="s2">"p2"</span><span class="p">,</span>
        <span class="s2">"variant_id"</span> <span class="o">=&gt;</span> <span class="s2">"v2"</span>
      <span class="p">)</span>
    <span class="p">)</span>
  <span class="p">),</span>
  <span class="s2">"context"</span> <span class="o">=&gt;</span>  <span class="k">array</span><span class="p">(</span>
    <span class="s2">"ip"</span> <span class="o">=&gt;</span>  <span class="s2">"24.5.68.47"</span><span class="p">,</span>
    <span class="s2">"user-agent"</span> <span class="o">=&gt;</span>  <span class="s2">"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_6) AppleWebKit/604.5.6 (KHTML, like Gecko) Version/11.0.3 Safari/604.5.6"</span>
  <span class="p">),</span>
  <span class="s2">"timestamp"</span> <span class="o">=&gt;</span>  <span class="s2">"2012-12-02T00 =&gt; 30 =&gt; 08.276Z"</span>
<span class="p">);</span>

<span class="nv">$content</span> <span class="o">=</span> <span class="nb">json_encode</span><span class="p">(</span><span class="nv">$data</span><span class="p">);</span>

<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">(</span><span class="nv">$url</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_HEADER</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_RETURNTRANSFER</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_HTTPHEADER</span><span class="p">,</span>
        <span class="k">array</span><span class="p">(</span>
          <span class="s2">"Content-type: application/json"</span><span class="p">,</span>
          <span class="s2">"Authorization"</span><span class="o">:</span> <span class="s2">"Basic VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw=="</span>
        <span class="p">));</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_CUSTOMREQUEST</span><span class="p">,</span> <span class="s2">"PUT"</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_POSTFIELDS</span><span class="p">,</span> <span class="nv">$content</span><span class="p">);</span>

<span class="nv">$json_response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.datacue.co/v1/events"</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">"Content-type"</span><span class="p">:</span> <span class="s">"application/json"</span><span class="p">,</span>
  <span class="s">"Authorization"</span><span class="p">:</span> <span class="s">"Basic VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw=="</span>
<span class="p">}</span>
<span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">"user"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">"user_id"</span><span class="p">:</span> <span class="s">"019mr8mf4r"</span><span class="p">,</span>
    <span class="s">"anonymous_id"</span><span class="p">:</span> <span class="s">"a1"</span><span class="p">,</span>
    <span class="s">"profile"</span><span class="p">:</span> <span class="p">{</span>
      <span class="s">"sex"</span><span class="p">:</span> <span class="s">"female"</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="s">"event"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">"type"</span><span class="p">:</span> <span class="s">"wishlist"</span><span class="p">,</span>
    <span class="s">"wishlist"</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">{</span>
        <span class="s">"product_id"</span><span class="p">:</span> <span class="s">"p1"</span><span class="p">,</span>
        <span class="s">"variant_id"</span><span class="p">:</span> <span class="s">"v1"</span>
      <span class="p">},</span>
      <span class="p">{</span>
        <span class="s">"product_id"</span><span class="p">:</span> <span class="s">"p2"</span><span class="p">,</span>
        <span class="s">"variant_id"</span><span class="p">:</span> <span class="s">"v2"</span>
      <span class="p">}</span>
    <span class="p">]</span>
  <span class="p">},</span>
  <span class="s">"context"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">"ip"</span><span class="p">:</span> <span class="s">"24.5.68.47"</span><span class="p">,</span>
    <span class="s">"user-agent"</span><span class="p">:</span> <span class="s">"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_6) AppleWebKit/604.5.6 (KHTML, like Gecko) Version/11.0.3 Safari/604.5.6"</span>
  <span class="p">},</span>
  <span class="s">"timestamp"</span><span class="p">:</span> <span class="s">"2012-12-02T00:30:08.276Z"</span>
<span class="p">}</span>


<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">url</span> <span class="o">=</span> <span class="s2">"https://api.datacue.co/v1/events"</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"user"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"user_id"</span><span class="p">:</span> <span class="s2">"019mr8mf4r"</span><span class="p">,</span>
    <span class="s2">"anonymous_id"</span><span class="p">:</span> <span class="s2">"a1"</span><span class="p">,</span>
    <span class="s2">"profile"</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">"sex"</span><span class="p">:</span> <span class="s2">"female"</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="s2">"event"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"wishlist"</span><span class="p">,</span>
    <span class="s2">"wishlist"</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">{</span>
        <span class="s2">"product_id"</span><span class="p">:</span> <span class="s2">"p1"</span><span class="p">,</span>
        <span class="s2">"variant_id"</span><span class="p">:</span> <span class="s2">"v1"</span>
      <span class="p">},</span>
      <span class="p">{</span>
        <span class="s2">"product_id"</span><span class="p">:</span> <span class="s2">"p2"</span><span class="p">,</span>
        <span class="s2">"variant_id"</span><span class="p">:</span> <span class="s2">"v2"</span>
      <span class="p">}</span>
    <span class="p">]</span>
  <span class="p">},</span>
  <span class="s2">"context"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"ip"</span><span class="p">:</span> <span class="s2">"24.5.68.47"</span><span class="p">,</span>
    <span class="s2">"user-agent"</span><span class="p">:</span> <span class="s2">"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_6) AppleWebKit/604.5.6 (KHTML, like Gecko) Version/11.0.3 Safari/604.5.6"</span>
  <span class="p">},</span>
  <span class="s2">"timestamp"</span><span class="p">:</span> <span class="s2">"2012-12-02T00:30:08.276Z"</span>
<span class="p">}</span>
<span class="c1">// The parameters we are gonna pass to the fetch function</span>
<span class="kd">let</span> <span class="nx">fetchData</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">method</span><span class="p">:</span> <span class="s2">"PUT"</span><span class="p">,</span>
    <span class="na">body</span><span class="p">:</span> <span class="nx">data</span><span class="p">,</span>
    <span class="na">headers</span><span class="p">:</span> <span class="k">new</span> <span class="nx">Headers</span><span class="p">(</span>
      <span class="s2">"Content-Type"</span><span class="p">,</span> <span class="s2">"application/json"</span><span class="p">,</span>
      <span class="s2">"Authorization"</span><span class="p">:</span> <span class="s2">"Basic VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw=="</span>
      <span class="p">)</span>
<span class="p">}</span>
<span class="nx">fetch</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">fetchData</span><span class="p">)</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">res</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">())</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">data</span><span class="p">)</span> <span class="o">=&gt;</span>  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">))</span>
<span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">))</span>
</code></pre>
<blockquote>
<p>The above command returns a 204 response code</p>
</blockquote>
<h2 id='banner-click'>Banner Click</h2>
<p>Record clicks to a banner or a sub banner, typically on your home page</p>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?</span>
<span class="nv">$url</span> <span class="o">=</span> <span class="s2">"https://api.datacue.co/v1/events"</span><span class="p">;</span>
<span class="nv">$data</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s2">"user"</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s2">"user_id"</span> <span class="o">=&gt;</span>  <span class="s2">"019mr8mf4r"</span><span class="p">,</span>
    <span class="s2">"anonymous_id"</span> <span class="o">=&gt;</span> <span class="s2">"a1"</span><span class="p">,</span>
    <span class="s2">"profile"</span> <span class="o">=&gt;</span>  <span class="k">array</span><span class="p">(</span>
      <span class="s2">"sex"</span> <span class="o">=&gt;</span> <span class="s2">"mujer"</span>
    <span class="p">)</span>
  <span class="p">),</span>
  <span class="s2">"event"</span> <span class="o">=&gt;</span>  <span class="k">array</span><span class="p">(</span>
    <span class="s2">"type"</span> <span class="o">=&gt;</span> <span class="s2">"click"</span><span class="p">,</span>
    <span class="s2">"subtype"</span> <span class="o">=&gt;</span> <span class="s2">"banner"</span><span class="p">,</span>
    <span class="s2">"banner_id"</span> <span class="o">=&gt;</span> <span class="s2">"b1"</span>
  <span class="p">),</span>
  <span class="s2">"context"</span> <span class="o">=&gt;</span>  <span class="k">array</span><span class="p">(</span>
    <span class="s2">"ip"</span> <span class="o">=&gt;</span>  <span class="s2">"24.5.68.47"</span><span class="p">,</span>
    <span class="s2">"user-agent"</span> <span class="o">=&gt;</span>  <span class="s2">"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_6) AppleWebKit/604.5.6 (KHTML, like Gecko) Version/11.0.3 Safari/604.5.6"</span>
  <span class="p">),</span>
  <span class="s2">"timestamp"</span> <span class="o">=&gt;</span>  <span class="s2">"2012-12-02T00 =&gt; 30 =&gt; 08.276Z"</span>
<span class="p">);</span>

<span class="nv">$content</span> <span class="o">=</span> <span class="nb">json_encode</span><span class="p">(</span><span class="nv">$data</span><span class="p">);</span>

<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">(</span><span class="nv">$url</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_HEADER</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_RETURNTRANSFER</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_HTTPHEADER</span><span class="p">,</span>
        <span class="k">array</span><span class="p">(</span>
          <span class="s2">"Content-type: application/json"</span><span class="p">,</span>
          <span class="s2">"Authorization"</span><span class="o">:</span> <span class="s2">"Basic VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw=="</span>
        <span class="p">));</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_POST</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_POSTFIELDS</span><span class="p">,</span> <span class="nv">$content</span><span class="p">);</span>

<span class="nv">$json_response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.datacue.co/v1/events"</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">"Content-type"</span><span class="p">:</span> <span class="s">"application/json"</span><span class="p">,</span>
  <span class="s">"Authorization"</span><span class="p">:</span> <span class="s">"Basic VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw=="</span>
<span class="p">}</span>
<span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">"user"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">"user_id"</span><span class="p">:</span> <span class="s">"019mr8mf4r"</span><span class="p">,</span>
    <span class="s">"anonymous_id"</span><span class="p">:</span> <span class="s">"a1"</span><span class="p">,</span>
    <span class="s">"profile"</span><span class="p">:</span> <span class="p">{</span>
      <span class="s">"sex"</span><span class="p">:</span> <span class="s">"mujer"</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="s">"event"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">"type"</span><span class="p">:</span> <span class="s">"click"</span><span class="p">,</span>
    <span class="s">"subtype"</span><span class="p">:</span> <span class="s">"banner"</span><span class="p">,</span>
    <span class="s">"banner_id"</span><span class="p">:</span> <span class="s">"b1"</span>
  <span class="p">},</span>
  <span class="s">"context"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">"ip"</span><span class="p">:</span> <span class="s">"24.5.68.47"</span><span class="p">,</span>
    <span class="s">"user-agent"</span><span class="p">:</span> <span class="s">"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_6) AppleWebKit/604.5.6 (KHTML, like Gecko) Version/11.0.3 Safari/604.5.6"</span>
  <span class="p">},</span>
  <span class="s">"timestamp"</span><span class="p">:</span> <span class="s">"2012-12-02T00:30:08.276Z"</span>
<span class="p">}</span>


<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">url</span> <span class="o">=</span> <span class="s2">"https://api.datacue.co/v1/events"</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"user"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"user_id"</span><span class="p">:</span> <span class="s2">"019mr8mf4r"</span><span class="p">,</span>
    <span class="s2">"anonymous_id"</span><span class="p">:</span> <span class="s2">"a1"</span><span class="p">,</span>
    <span class="s2">"profile"</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">"sex"</span><span class="p">:</span> <span class="s2">"mujer"</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="s2">"event"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"click"</span><span class="p">,</span>
    <span class="s2">"subtype"</span><span class="p">:</span> <span class="s2">"banner"</span><span class="p">,</span>
    <span class="s2">"banner_id"</span><span class="p">:</span> <span class="s2">"b1"</span>
  <span class="p">},</span>
  <span class="s2">"context"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"ip"</span><span class="p">:</span> <span class="s2">"24.5.68.47"</span><span class="p">,</span>
    <span class="s2">"user-agent"</span><span class="p">:</span> <span class="s2">"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_6) AppleWebKit/604.5.6 (KHTML, like Gecko) Version/11.0.3 Safari/604.5.6"</span>
  <span class="p">},</span>
  <span class="s2">"timestamp"</span><span class="p">:</span> <span class="s2">"2012-12-02T00:30:08.276Z"</span>
<span class="p">}</span>
<span class="c1">// The parameters we are gonna pass to the fetch function</span>
<span class="kd">let</span> <span class="nx">fetchData</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">method</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
    <span class="na">body</span><span class="p">:</span> <span class="nx">data</span><span class="p">,</span>
    <span class="na">headers</span><span class="p">:</span> <span class="k">new</span> <span class="nx">Headers</span><span class="p">(</span>
      <span class="s2">"Content-Type"</span><span class="p">,</span> <span class="s2">"application/json"</span><span class="p">,</span>
      <span class="s2">"Authorization"</span><span class="p">:</span> <span class="s2">"Basic VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw=="</span>
      <span class="p">)</span>
<span class="p">}</span>
<span class="nx">fetch</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">fetchData</span><span class="p">)</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">res</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">())</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">data</span><span class="p">)</span> <span class="o">=&gt;</span>  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">))</span>
<span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">))</span>
</code></pre>
<blockquote>
<p>The above command returns a 204 response code</p>
</blockquote>
<h2 id='product-click'>Product Click</h2>
<p>Record clicks on a product anywhere on your website.</p>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?</span>
<span class="nv">$url</span> <span class="o">=</span> <span class="s2">"https://api.datacue.co/v1/events"</span><span class="p">;</span>
<span class="nv">$data</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s2">"user"</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s2">"user_id"</span> <span class="o">=&gt;</span>  <span class="s2">"019mr8mf4r"</span><span class="p">,</span>
    <span class="s2">"anonymous_id"</span> <span class="o">=&gt;</span> <span class="s2">"a1"</span><span class="p">,</span>
    <span class="s2">"profile"</span> <span class="o">=&gt;</span>  <span class="k">array</span><span class="p">(</span>
      <span class="s2">"sex"</span> <span class="o">=&gt;</span> <span class="s2">"mujer"</span>
    <span class="p">)</span>
  <span class="p">),</span>
  <span class="s2">"event"</span> <span class="o">=&gt;</span>  <span class="k">array</span><span class="p">(</span>
    <span class="s2">"type"</span> <span class="o">=&gt;</span> <span class="s2">"click"</span><span class="p">,</span>
    <span class="s2">"subtype"</span> <span class="o">=&gt;</span> <span class="s2">"product"</span><span class="p">,</span>
    <span class="s2">"product_id"</span> <span class="o">=&gt;</span> <span class="s2">"p2"</span>
  <span class="p">),</span>
  <span class="s2">"context"</span> <span class="o">=&gt;</span>  <span class="k">array</span><span class="p">(</span>
    <span class="s2">"ip"</span> <span class="o">=&gt;</span>  <span class="s2">"24.5.68.47"</span><span class="p">,</span>
    <span class="s2">"user-agent"</span> <span class="o">=&gt;</span>  <span class="s2">"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_6) AppleWebKit/604.5.6 (KHTML, like Gecko) Version/11.0.3 Safari/604.5.6"</span>
  <span class="p">),</span>
  <span class="s2">"timestamp"</span> <span class="o">=&gt;</span>  <span class="s2">"2012-12-02T00 =&gt; 30 =&gt; 08.276Z"</span>
<span class="p">);</span>

<span class="nv">$content</span> <span class="o">=</span> <span class="nb">json_encode</span><span class="p">(</span><span class="nv">$data</span><span class="p">);</span>

<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">(</span><span class="nv">$url</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_HEADER</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_RETURNTRANSFER</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_HTTPHEADER</span><span class="p">,</span>
        <span class="k">array</span><span class="p">(</span>
          <span class="s2">"Content-type: application/json"</span><span class="p">,</span>
          <span class="s2">"Authorization"</span><span class="o">:</span> <span class="s2">"Basic VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw=="</span>
        <span class="p">));</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_POST</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_POSTFIELDS</span><span class="p">,</span> <span class="nv">$content</span><span class="p">);</span>

<span class="nv">$json_response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.datacue.co/v1/events"</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">"Content-type"</span><span class="p">:</span> <span class="s">"application/json"</span><span class="p">,</span>
  <span class="s">"Authorization"</span><span class="p">:</span> <span class="s">"Basic VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw=="</span>
<span class="p">}</span>
<span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">"user"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">"user_id"</span><span class="p">:</span> <span class="s">"019mr8mf4r"</span><span class="p">,</span>
    <span class="s">"anonymous_id"</span><span class="p">:</span> <span class="s">"a1"</span><span class="p">,</span>
    <span class="s">"profile"</span><span class="p">:</span> <span class="p">{</span>
      <span class="s">"sex"</span><span class="p">:</span> <span class="s">"mujer"</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="s">"event"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">"type"</span><span class="p">:</span> <span class="s">"click"</span><span class="p">,</span>
    <span class="s">"subtype"</span><span class="p">:</span> <span class="s">"product"</span><span class="p">,</span>
    <span class="s">"product_id"</span><span class="p">:</span> <span class="s">"p2"</span>
  <span class="p">},</span>
  <span class="s">"context"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">"ip"</span><span class="p">:</span> <span class="s">"24.5.68.47"</span><span class="p">,</span>
    <span class="s">"user-agent"</span><span class="p">:</span> <span class="s">"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_6) AppleWebKit/604.5.6 (KHTML, like Gecko) Version/11.0.3 Safari/604.5.6"</span>
  <span class="p">},</span>
  <span class="s">"timestamp"</span><span class="p">:</span> <span class="s">"2012-12-02T00:30:08.276Z"</span>
<span class="p">}</span>


<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">url</span> <span class="o">=</span> <span class="s2">"https://api.datacue.co/v1/events"</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"user"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"user_id"</span><span class="p">:</span> <span class="s2">"019mr8mf4r"</span><span class="p">,</span>
    <span class="s2">"anonymous_id"</span><span class="p">:</span> <span class="s2">"a1"</span><span class="p">,</span>
    <span class="s2">"profile"</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">"sex"</span><span class="p">:</span> <span class="s2">"mujer"</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="s2">"event"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"click"</span><span class="p">,</span>
    <span class="s2">"subtype"</span><span class="p">:</span> <span class="s2">"product"</span><span class="p">,</span>
    <span class="s2">"product_id"</span><span class="p">:</span> <span class="s2">"p2"</span>
  <span class="p">},</span>
  <span class="s2">"context"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"ip"</span><span class="p">:</span> <span class="s2">"24.5.68.47"</span><span class="p">,</span>
    <span class="s2">"user-agent"</span><span class="p">:</span> <span class="s2">"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_6) AppleWebKit/604.5.6 (KHTML, like Gecko) Version/11.0.3 Safari/604.5.6"</span>
  <span class="p">},</span>
  <span class="s2">"timestamp"</span><span class="p">:</span> <span class="s2">"2012-12-02T00:30:08.276Z"</span>
<span class="p">}</span>
<span class="c1">// The parameters we are gonna pass to the fetch function</span>
<span class="kd">let</span> <span class="nx">fetchData</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">method</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
    <span class="na">body</span><span class="p">:</span> <span class="nx">data</span><span class="p">,</span>
    <span class="na">headers</span><span class="p">:</span> <span class="k">new</span> <span class="nx">Headers</span><span class="p">(</span>
      <span class="s2">"Content-Type"</span><span class="p">,</span> <span class="s2">"application/json"</span><span class="p">,</span>
      <span class="s2">"Authorization"</span><span class="p">:</span> <span class="s2">"Basic VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw=="</span>
      <span class="p">)</span>
<span class="p">}</span>
<span class="nx">fetch</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">fetchData</span><span class="p">)</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">res</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">())</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">data</span><span class="p">)</span> <span class="o">=&gt;</span>  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">))</span>
<span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">))</span>
</code></pre>
<blockquote>
<p>The above command returns a 204 response code</p>
</blockquote>
<h2 id='check-out-start-order'>Check Out (Start Order)</h2>
<p>Record the moment the user initiates the check out process, typically from their shopping cart.</p>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?</span>
<span class="nv">$url</span> <span class="o">=</span> <span class="s2">"https://api.datacue.co/v1/events"</span><span class="p">;</span>
<span class="nv">$data</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s2">"user"</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s2">"user_id"</span> <span class="o">=&gt;</span>  <span class="s2">"019mr8mf4r"</span><span class="p">,</span>
    <span class="s2">"anonymous_id"</span> <span class="o">=&gt;</span> <span class="s2">"a1"</span><span class="p">,</span>
    <span class="s2">"profile"</span> <span class="o">=&gt;</span>  <span class="k">array</span><span class="p">(</span>
      <span class="s2">"sex"</span> <span class="o">=&gt;</span> <span class="s2">"female"</span>
    <span class="p">)</span>
  <span class="p">),</span>
  <span class="s2">"event"</span> <span class="o">=&gt;</span>  <span class="k">array</span><span class="p">(</span>
    <span class="s2">"type"</span> <span class="o">=&gt;</span> <span class="s2">"order"</span><span class="p">,</span>
    <span class="s2">"subtype"</span> <span class="o">=&gt;</span> <span class="s2">"started"</span><span class="p">,</span>
    <span class="s2">"order_id"</span> <span class="o">=&gt;</span> <span class="s2">"o1"</span><span class="p">,</span>
    <span class="s2">"cart"</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
      <span class="k">array</span><span class="p">(</span>
        <span class="s2">"product_id"</span> <span class="o">=&gt;</span> <span class="s2">"p1"</span><span class="p">,</span>
        <span class="s2">"variant"</span> <span class="o">=&gt;</span> <span class="s2">"v1"</span><span class="p">,</span>
        <span class="s2">"quantity"</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>
        <span class="s2">"price"</span> <span class="o">=&gt;</span> <span class="mi">24</span><span class="p">,</span>
        <span class="s2">"currency"</span> <span class="o">=&gt;</span> <span class="s2">"USD"</span>
      <span class="p">)</span>
    <span class="p">)</span>
  <span class="p">),</span>
  <span class="s2">"context"</span> <span class="o">=&gt;</span>  <span class="k">array</span><span class="p">(</span>
    <span class="s2">"ip"</span> <span class="o">=&gt;</span>  <span class="s2">"24.5.68.47"</span><span class="p">,</span>
    <span class="s2">"user-agent"</span> <span class="o">=&gt;</span>  <span class="s2">"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_6) AppleWebKit/604.5.6 (KHTML, like Gecko) Version/11.0.3 Safari/604.5.6"</span>
  <span class="p">),</span>
  <span class="s2">"timestamp"</span> <span class="o">=&gt;</span>  <span class="s2">"2012-12-02T00 =&gt; 30 =&gt; 08.276Z"</span>
<span class="p">);</span>

<span class="nv">$content</span> <span class="o">=</span> <span class="nb">json_encode</span><span class="p">(</span><span class="nv">$data</span><span class="p">);</span>

<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">(</span><span class="nv">$url</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_HEADER</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_RETURNTRANSFER</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_HTTPHEADER</span><span class="p">,</span>
        <span class="k">array</span><span class="p">(</span>
          <span class="s2">"Content-type: application/json"</span><span class="p">,</span>
          <span class="s2">"Authorization"</span><span class="o">:</span> <span class="s2">"Basic VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw=="</span>
        <span class="p">));</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_POST</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_POSTFIELDS</span><span class="p">,</span> <span class="nv">$content</span><span class="p">);</span>

<span class="nv">$json_response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.datacue.co/v1/events"</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">"Content-type"</span><span class="p">:</span> <span class="s">"application/json"</span><span class="p">,</span>
  <span class="s">"Authorization"</span><span class="p">:</span> <span class="s">"Basic VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw=="</span>
<span class="p">}</span>
<span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">"user"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">"user_id"</span><span class="p">:</span> <span class="s">"019mr8mf4r"</span><span class="p">,</span>
    <span class="s">"anonymous_id"</span><span class="p">:</span> <span class="s">"a1"</span><span class="p">,</span>
    <span class="s">"profile"</span><span class="p">:</span> <span class="p">{</span>
      <span class="s">"sex"</span><span class="p">:</span> <span class="s">"female"</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="s">"event"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">"type"</span><span class="p">:</span> <span class="s">"order"</span><span class="p">,</span>
    <span class="s">"subtype"</span><span class="p">:</span> <span class="s">"started"</span><span class="p">,</span>
    <span class="s">"order_id"</span><span class="p">:</span> <span class="s">"o1"</span><span class="p">,</span>
    <span class="s">"cart"</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">{</span>
        <span class="s">"product_id"</span><span class="p">:</span> <span class="s">"p1"</span><span class="p">,</span>
        <span class="s">"variant"</span><span class="p">:</span> <span class="s">"v1"</span><span class="p">,</span>
        <span class="s">"quantity"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="s">"price"</span><span class="p">:</span> <span class="mi">24</span><span class="p">,</span>
        <span class="s">"currency"</span><span class="p">:</span> <span class="s">"USD"</span>
      <span class="p">}</span>
    <span class="p">]</span>
  <span class="p">},</span>
  <span class="s">"context"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">"ip"</span><span class="p">:</span> <span class="s">"24.5.68.47"</span><span class="p">,</span>
    <span class="s">"user-agent"</span><span class="p">:</span> <span class="s">"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_6) AppleWebKit/604.5.6 (KHTML, like Gecko) Version/11.0.3 Safari/604.5.6"</span>
  <span class="p">},</span>
  <span class="s">"timestamp"</span><span class="p">:</span> <span class="s">"2012-12-02T00:30:08.276Z"</span>
<span class="p">}</span>


<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">url</span> <span class="o">=</span> <span class="s2">"https://api.datacue.co/v1/events"</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"user"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"user_id"</span><span class="p">:</span> <span class="s2">"019mr8mf4r"</span><span class="p">,</span>
    <span class="s2">"anonymous_id"</span><span class="p">:</span> <span class="s2">"a1"</span><span class="p">,</span>
    <span class="s2">"profile"</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">"sex"</span><span class="p">:</span> <span class="s2">"female"</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="s2">"event"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"order"</span><span class="p">,</span>
    <span class="s2">"subtype"</span><span class="p">:</span> <span class="s2">"started"</span><span class="p">,</span>
    <span class="s2">"order_id"</span><span class="p">:</span> <span class="s2">"o1"</span><span class="p">,</span>
    <span class="s2">"cart"</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">{</span>
        <span class="s2">"product_id"</span><span class="p">:</span> <span class="s2">"p1"</span><span class="p">,</span>
        <span class="s2">"variant"</span><span class="p">:</span> <span class="s2">"v1"</span><span class="p">,</span>
        <span class="s2">"quantity"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="s2">"price"</span><span class="p">:</span> <span class="mi">24</span><span class="p">,</span>
        <span class="s2">"currency"</span><span class="p">:</span> <span class="s2">"USD"</span>
      <span class="p">}</span>
    <span class="p">]</span>
  <span class="p">},</span>
  <span class="s2">"context"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"ip"</span><span class="p">:</span> <span class="s2">"24.5.68.47"</span><span class="p">,</span>
    <span class="s2">"user-agent"</span><span class="p">:</span> <span class="s2">"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_6) AppleWebKit/604.5.6 (KHTML, like Gecko) Version/11.0.3 Safari/604.5.6"</span>
  <span class="p">},</span>
  <span class="s2">"timestamp"</span><span class="p">:</span> <span class="s2">"2012-12-02T00:30:08.276Z"</span>
<span class="p">}</span>
<span class="c1">// The parameters we are gonna pass to the fetch function</span>
<span class="kd">let</span> <span class="nx">fetchData</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">method</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
    <span class="na">body</span><span class="p">:</span> <span class="nx">data</span><span class="p">,</span>
    <span class="na">headers</span><span class="p">:</span> <span class="k">new</span> <span class="nx">Headers</span><span class="p">(</span>
      <span class="s2">"Content-Type"</span><span class="p">,</span> <span class="s2">"application/json"</span><span class="p">,</span>
      <span class="s2">"Authorization"</span><span class="p">:</span> <span class="s2">"Basic VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw=="</span>
      <span class="p">)</span>
<span class="p">}</span>
<span class="nx">fetch</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">fetchData</span><span class="p">)</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">res</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">())</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">data</span><span class="p">)</span> <span class="o">=&gt;</span>  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">))</span>
<span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">))</span>
</code></pre>
<blockquote>
<p>The above command returns a 204 response code</p>
</blockquote>
<h2 id='complete-order'>Complete Order</h2>
<p>Record the moment the order (or checkout) is completed.</p>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?</span>
<span class="nv">$url</span> <span class="o">=</span> <span class="s2">"https://api.datacue.co/v1/events"</span><span class="p">;</span>
<span class="nv">$data</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s2">"user"</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s2">"user_id"</span> <span class="o">=&gt;</span>  <span class="s2">"019mr8mf4r"</span><span class="p">,</span>
    <span class="s2">"anonymous_id"</span> <span class="o">=&gt;</span> <span class="s2">"a1"</span><span class="p">,</span>
    <span class="s2">"profile"</span> <span class="o">=&gt;</span>  <span class="k">array</span><span class="p">(</span>
      <span class="s2">"sex"</span> <span class="o">=&gt;</span> <span class="s2">"female"</span>
    <span class="p">)</span>
  <span class="p">),</span>
  <span class="s2">"event"</span> <span class="o">=&gt;</span>  <span class="k">array</span><span class="p">(</span>
    <span class="s2">"type"</span> <span class="o">=&gt;</span> <span class="s2">"order"</span><span class="p">,</span>
    <span class="s2">"subtype"</span> <span class="o">=&gt;</span> <span class="s2">"completed"</span><span class="p">,</span>
    <span class="s2">"order_id"</span> <span class="o">=&gt;</span> <span class="s2">"o1"</span><span class="p">,</span>
    <span class="s2">"buyer_id"</span> <span class="o">=&gt;</span> <span class="s2">""</span><span class="p">,</span>
    <span class="s2">"payment_method"</span> <span class="o">=&gt;</span> <span class="s2">""</span><span class="p">,</span>
    <span class="s2">"cart"</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
      <span class="k">array</span><span class="p">(</span>
        <span class="s2">"product_id"</span> <span class="o">=&gt;</span> <span class="s2">"p1"</span><span class="p">,</span>
        <span class="s2">"variant_id"</span> <span class="o">=&gt;</span> <span class="s2">"v1"</span><span class="p">,</span>
        <span class="s2">"quantity"</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>
        <span class="s2">"unit_price"</span> <span class="o">=&gt;</span> <span class="mi">24000</span><span class="p">,</span>
        <span class="s2">"currency"</span> <span class="o">=&gt;</span> <span class="s2">"USD"</span>
      <span class="p">)</span>
    <span class="p">)</span>
  <span class="p">),</span>
  <span class="s2">"context"</span> <span class="o">=&gt;</span>  <span class="k">array</span><span class="p">(</span>
    <span class="s2">"ip"</span> <span class="o">=&gt;</span>  <span class="s2">"24.5.68.47"</span><span class="p">,</span>
    <span class="s2">"user-agent"</span> <span class="o">=&gt;</span>  <span class="s2">"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_6) AppleWebKit/604.5.6 (KHTML, like Gecko) Version/11.0.3 Safari/604.5.6"</span>
  <span class="p">),</span>
  <span class="s2">"timestamp"</span> <span class="o">=&gt;</span>  <span class="s2">"2012-12-02T00 =&gt; 30 =&gt; 08.276Z"</span>
<span class="p">);</span>

<span class="nv">$content</span> <span class="o">=</span> <span class="nb">json_encode</span><span class="p">(</span><span class="nv">$data</span><span class="p">);</span>

<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">(</span><span class="nv">$url</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_HEADER</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_RETURNTRANSFER</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_HTTPHEADER</span><span class="p">,</span>
        <span class="k">array</span><span class="p">(</span>
          <span class="s2">"Content-type: application/json"</span><span class="p">,</span>
          <span class="s2">"Authorization"</span><span class="o">:</span> <span class="s2">"Basic VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw=="</span>
        <span class="p">));</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_POST</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_POSTFIELDS</span><span class="p">,</span> <span class="nv">$content</span><span class="p">);</span>

<span class="nv">$json_response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.datacue.co/v1/events"</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">"Content-type"</span><span class="p">:</span> <span class="s">"application/json"</span><span class="p">,</span>
  <span class="s">"Authorization"</span><span class="p">:</span> <span class="s">"Basic VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw=="</span>
<span class="p">}</span>
<span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">"user"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">"user_id"</span><span class="p">:</span> <span class="s">"019mr8mf4r"</span><span class="p">,</span>
    <span class="s">"anonymous_id"</span><span class="p">:</span> <span class="s">"a1"</span><span class="p">,</span>
    <span class="s">"profile"</span><span class="p">:</span> <span class="p">{</span>
      <span class="s">"sex"</span><span class="p">:</span> <span class="s">"female"</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="s">"event"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">"type"</span><span class="p">:</span> <span class="s">"order"</span><span class="p">,</span>
    <span class="s">"subtype"</span><span class="p">:</span> <span class="s">"completed"</span><span class="p">,</span>
    <span class="s">"order_id"</span><span class="p">:</span> <span class="s">"o1"</span><span class="p">,</span>
    <span class="s">"buyer_id"</span><span class="p">:</span> <span class="s">""</span><span class="p">,</span>
    <span class="s">"payment_method"</span><span class="p">:</span> <span class="s">""</span><span class="p">,</span>
    <span class="s">"cart"</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">{</span>
        <span class="s">"product_id"</span><span class="p">:</span> <span class="s">"p1"</span><span class="p">,</span>
        <span class="s">"variant_id"</span><span class="p">:</span> <span class="s">"v1"</span><span class="p">,</span>
        <span class="s">"quantity"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="s">"unit_price"</span><span class="p">:</span> <span class="mi">24000</span><span class="p">,</span>
        <span class="s">"currency"</span><span class="p">:</span> <span class="s">"USD"</span>
      <span class="p">}</span>
    <span class="p">]</span>
  <span class="p">},</span>
  <span class="s">"context"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">"ip"</span><span class="p">:</span> <span class="s">"24.5.68.47"</span><span class="p">,</span>
    <span class="s">"user-agent"</span><span class="p">:</span> <span class="s">"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_6) AppleWebKit/604.5.6 (KHTML, like Gecko) Version/11.0.3 Safari/604.5.6"</span>
  <span class="p">},</span>
  <span class="s">"timestamp"</span><span class="p">:</span> <span class="s">"2012-12-02T00:30:08.276Z"</span>
<span class="p">}</span>


<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">url</span> <span class="o">=</span> <span class="s2">"https://api.datacue.co/v1/events"</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"user"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"user_id"</span><span class="p">:</span> <span class="s2">"019mr8mf4r"</span><span class="p">,</span>
    <span class="s2">"anonymous_id"</span><span class="p">:</span> <span class="s2">"a1"</span><span class="p">,</span>
    <span class="s2">"profile"</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">"sex"</span><span class="p">:</span> <span class="s2">"female"</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="s2">"event"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"order"</span><span class="p">,</span>
    <span class="s2">"subtype"</span><span class="p">:</span> <span class="s2">"completed"</span><span class="p">,</span>
    <span class="s2">"order_id"</span><span class="p">:</span> <span class="s2">"o1"</span><span class="p">,</span>
    <span class="s2">"buyer_id"</span><span class="p">:</span> <span class="s2">""</span><span class="p">,</span>
    <span class="s2">"payment_method"</span><span class="p">:</span> <span class="s2">""</span><span class="p">,</span>
    <span class="s2">"cart"</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">{</span>
        <span class="s2">"product_id"</span><span class="p">:</span> <span class="s2">"p1"</span><span class="p">,</span>
        <span class="s2">"variant_id"</span><span class="p">:</span> <span class="s2">"v1"</span><span class="p">,</span>
        <span class="s2">"quantity"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="s2">"unit_price"</span><span class="p">:</span> <span class="mi">24000</span><span class="p">,</span>
        <span class="s2">"currency"</span><span class="p">:</span> <span class="s2">"USD"</span>
      <span class="p">}</span>
    <span class="p">]</span>
  <span class="p">},</span>
  <span class="s2">"context"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"ip"</span><span class="p">:</span> <span class="s2">"24.5.68.47"</span><span class="p">,</span>
    <span class="s2">"user-agent"</span><span class="p">:</span> <span class="s2">"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_6) AppleWebKit/604.5.6 (KHTML, like Gecko) Version/11.0.3 Safari/604.5.6"</span>
  <span class="p">},</span>
  <span class="s2">"timestamp"</span><span class="p">:</span> <span class="s2">"2012-12-02T00:30:08.276Z"</span>
<span class="p">}</span>
<span class="c1">// The parameters we are gonna pass to the fetch function</span>
<span class="kd">let</span> <span class="nx">fetchData</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">method</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
    <span class="na">body</span><span class="p">:</span> <span class="nx">data</span><span class="p">,</span>
    <span class="na">headers</span><span class="p">:</span> <span class="k">new</span> <span class="nx">Headers</span><span class="p">(</span>
      <span class="s2">"Content-Type"</span><span class="p">,</span> <span class="s2">"application/json"</span><span class="p">,</span>
      <span class="s2">"Authorization"</span><span class="p">:</span> <span class="s2">"Basic VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw=="</span>
      <span class="p">)</span>
<span class="p">}</span>
<span class="nx">fetch</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">fetchData</span><span class="p">)</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">res</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">())</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">data</span><span class="p">)</span> <span class="o">=&gt;</span>  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">))</span>
<span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">))</span>
</code></pre>
<blockquote>
<p>The above command returns a 204 response code</p>
</blockquote>
<h2 id='user-login'>User Login</h2>
<p>Record logins by a user on your website, if the user login is cached, you do not need to fire this event when the user returns.</p>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?</span>
<span class="nv">$url</span> <span class="o">=</span> <span class="s2">"https://api.datacue.co/v1/events"</span><span class="p">;</span>
<span class="nv">$data</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s2">"user"</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s2">"user_id"</span> <span class="o">=&gt;</span>  <span class="s2">"019mr8mf4r"</span><span class="p">,</span>
    <span class="s2">"anonymous_id"</span> <span class="o">=&gt;</span> <span class="s2">"a1"</span><span class="p">,</span>
    <span class="s2">"profile"</span> <span class="o">=&gt;</span>  <span class="k">array</span><span class="p">(</span>
      <span class="s2">"sex"</span> <span class="o">=&gt;</span> <span class="s2">"female"</span>
    <span class="p">)</span>
  <span class="p">),</span>
  <span class="s2">"event"</span> <span class="o">=&gt;</span>  <span class="k">array</span><span class="p">(</span>
    <span class="s2">"type"</span> <span class="o">=&gt;</span> <span class="s2">"login"</span>
  <span class="p">),</span>
  <span class="s2">"context"</span> <span class="o">=&gt;</span>  <span class="k">array</span><span class="p">(</span>
    <span class="s2">"ip"</span> <span class="o">=&gt;</span>  <span class="s2">"24.5.68.47"</span><span class="p">,</span>
    <span class="s2">"user-agent"</span> <span class="o">=&gt;</span>  <span class="s2">"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_6) AppleWebKit/604.5.6 (KHTML, like Gecko) Version/11.0.3 Safari/604.5.6"</span>
  <span class="p">),</span>
  <span class="s2">"timestamp"</span> <span class="o">=&gt;</span>  <span class="s2">"2012-12-02T00 =&gt; 30 =&gt; 08.276Z"</span>
<span class="p">);</span>

<span class="nv">$content</span> <span class="o">=</span> <span class="nb">json_encode</span><span class="p">(</span><span class="nv">$data</span><span class="p">);</span>

<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">(</span><span class="nv">$url</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_HEADER</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_RETURNTRANSFER</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_HTTPHEADER</span><span class="p">,</span>
        <span class="k">array</span><span class="p">(</span>
          <span class="s2">"Content-type: application/json"</span><span class="p">,</span>
          <span class="s2">"Authorization"</span><span class="o">:</span> <span class="s2">"Basic VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw=="</span>
        <span class="p">));</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_POST</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_POSTFIELDS</span><span class="p">,</span> <span class="nv">$content</span><span class="p">);</span>

<span class="nv">$json_response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.datacue.co/v1/events"</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">"Content-type"</span><span class="p">:</span> <span class="s">"application/json"</span><span class="p">,</span>
  <span class="s">"Authorization"</span><span class="p">:</span> <span class="s">"Basic VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw=="</span>
<span class="p">}</span>
<span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">"user"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">"user_id"</span><span class="p">:</span> <span class="s">"019mr8mf4r"</span><span class="p">,</span>
    <span class="s">"anonymous_id"</span><span class="p">:</span> <span class="s">"a1"</span><span class="p">,</span>
    <span class="s">"profile"</span><span class="p">:</span> <span class="p">{</span>
      <span class="s">"sex"</span><span class="p">:</span> <span class="s">"female"</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="s">"event"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">"type"</span><span class="p">:</span> <span class="s">"login"</span>
  <span class="p">},</span>
  <span class="s">"context"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">"ip"</span><span class="p">:</span> <span class="s">"24.5.68.47"</span><span class="p">,</span>
    <span class="s">"user-agent"</span><span class="p">:</span> <span class="s">"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_6) AppleWebKit/604.5.6 (KHTML, like Gecko) Version/11.0.3 Safari/604.5.6"</span>
  <span class="p">},</span>
  <span class="s">"timestamp"</span><span class="p">:</span> <span class="s">"2012-12-02T00:30:08.276Z"</span>
<span class="p">}</span>


<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">url</span> <span class="o">=</span> <span class="s2">"https://api.datacue.co/v1/events"</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"user"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"user_id"</span><span class="p">:</span> <span class="s2">"019mr8mf4r"</span><span class="p">,</span>
    <span class="s2">"anonymous_id"</span><span class="p">:</span> <span class="s2">"a1"</span><span class="p">,</span>
    <span class="s2">"profile"</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">"sex"</span><span class="p">:</span> <span class="s2">"female"</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="s2">"event"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"login"</span>
  <span class="p">},</span>
  <span class="s2">"context"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"ip"</span><span class="p">:</span> <span class="s2">"24.5.68.47"</span><span class="p">,</span>
    <span class="s2">"user-agent"</span><span class="p">:</span> <span class="s2">"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_6) AppleWebKit/604.5.6 (KHTML, like Gecko) Version/11.0.3 Safari/604.5.6"</span>
  <span class="p">},</span>
  <span class="s2">"timestamp"</span><span class="p">:</span> <span class="s2">"2012-12-02T00:30:08.276Z"</span>
<span class="p">}</span>
<span class="c1">// The parameters we are gonna pass to the fetch function</span>
<span class="kd">let</span> <span class="nx">fetchData</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">method</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
    <span class="na">body</span><span class="p">:</span> <span class="nx">data</span><span class="p">,</span>
    <span class="na">headers</span><span class="p">:</span> <span class="k">new</span> <span class="nx">Headers</span><span class="p">(</span>
      <span class="s2">"Content-Type"</span><span class="p">,</span> <span class="s2">"application/json"</span><span class="p">,</span>
      <span class="s2">"Authorization"</span><span class="p">:</span> <span class="s2">"Basic VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw=="</span>
      <span class="p">)</span>
<span class="p">}</span>
<span class="nx">fetch</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">fetchData</span><span class="p">)</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">res</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">())</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">data</span><span class="p">)</span> <span class="o">=&gt;</span>  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">))</span>
<span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">))</span>
</code></pre>
<blockquote>
<p>The above command returns a 204 response code</p>
</blockquote>
<h1 id='product-management'>Product Management</h1><h2 id='create-product'>Create Product</h2>
<p>Whenever a new product is created, send this request from your backend.</p>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?</span>
<span class="nv">$url</span> <span class="o">=</span> <span class="s2">"https://api.datacue.co/v1/products"</span><span class="p">;</span>
<span class="nv">$data</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s2">"product_id"</span> <span class="o">=&gt;</span> <span class="s2">"p1"</span><span class="p">,</span>
  <span class="s2">"variant_id"</span> <span class="o">=&gt;</span> <span class="s2">"v1"</span><span class="p">,</span>
  <span class="s2">"category_1"</span> <span class="o">=&gt;</span> <span class="s2">"men"</span><span class="p">,</span>
  <span class="s2">"category_2"</span> <span class="o">=&gt;</span> <span class="s2">"jeans"</span><span class="p">,</span>
  <span class="s2">"category_3"</span> <span class="o">=&gt;</span> <span class="s2">"skinny"</span><span class="p">,</span>
  <span class="s2">"category_4"</span> <span class="o">=&gt;</span> <span class="s2">"c4"</span><span class="p">,</span>
  <span class="s2">"category_extra"</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s2">"category_5"</span> <span class="o">=&gt;</span> <span class="s2">"c5"</span>
  <span class="p">),</span>
  <span class="s2">"name"</span> <span class="o">=&gt;</span> <span class="s2">"cool jeans"</span><span class="p">,</span>
  <span class="s2">"brand"</span> <span class="o">=&gt;</span> <span class="s2">"zara"</span><span class="p">,</span>
  <span class="s2">"description"</span> <span class="o">=&gt;</span> <span class="s2">"very fashionable jeans"</span><span class="p">,</span>
  <span class="s2">"color"</span> <span class="o">=&gt;</span> <span class="s2">"blue"</span>
  <span class="s2">"size"</span> <span class="o">=&gt;</span> <span class="s2">"M"</span><span class="p">,</span>
  <span class="s2">"price"</span> <span class="o">=&gt;</span> <span class="mi">25000</span><span class="p">,</span>
  <span class="s2">"stock"</span> <span class="o">=&gt;</span> <span class="mi">5</span><span class="p">,</span>
  <span class="s2">"extra"</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s2">"extra_feature"</span> <span class="o">=&gt;</span> <span class="s2">"details"</span>
  <span class="p">),</span>
  <span class="s2">"photo_url"</span> <span class="o">=&gt;</span> <span class="s2">"https://s3.amazon.com/image.png"</span><span class="p">,</span>
  <span class="s2">"link"</span> <span class="o">=&gt;</span> <span class="s2">"/product/p1"</span><span class="p">,</span>
  <span class="s2">"owner_id"</span> <span class="o">=&gt;</span> <span class="s2">"user_id_3"</span>
<span class="p">);</span>

<span class="nv">$content</span> <span class="o">=</span> <span class="nb">json_encode</span><span class="p">(</span><span class="nv">$data</span><span class="p">);</span>

<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">(</span><span class="nv">$url</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_HEADER</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_RETURNTRANSFER</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_HTTPHEADER</span><span class="p">,</span>
        <span class="k">array</span><span class="p">(</span>
          <span class="s2">"Content-type: application/json"</span><span class="p">,</span>
          <span class="s2">"Authorization"</span><span class="o">:</span> <span class="s2">"Basic VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw=="</span>
        <span class="p">));</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_POST</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_POSTFIELDS</span><span class="p">,</span> <span class="nv">$content</span><span class="p">);</span>

<span class="nv">$json_response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.datacue.co/v1/products"</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">"Content-type"</span><span class="p">:</span> <span class="s">"application/json"</span><span class="p">,</span>
  <span class="s">"Authorization"</span><span class="p">:</span> <span class="s">"Basic VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw=="</span>
<span class="p">}</span>
<span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s">"product_id"</span><span class="p">:</span> <span class="s">"p1"</span><span class="p">,</span>
   <span class="s">"variant_id"</span><span class="p">:</span> <span class="s">"v1"</span><span class="p">,</span>
   <span class="s">"category_1"</span><span class="p">:</span> <span class="s">"men"</span><span class="p">,</span>
   <span class="s">"category_2"</span><span class="p">:</span> <span class="s">"jeans"</span><span class="p">,</span>
   <span class="s">"category_3"</span><span class="p">:</span> <span class="s">"skinny"</span><span class="p">,</span>
   <span class="s">"category_4"</span><span class="p">:</span> <span class="s">"c4"</span><span class="p">,</span>
   <span class="s">"category_extra"</span><span class="p">:</span> <span class="p">{</span>
     <span class="s">"category_5"</span><span class="p">:</span> <span class="s">"c5"</span>
   <span class="p">},</span>
   <span class="s">"name"</span><span class="p">:</span> <span class="s">"cool jeans"</span><span class="p">,</span>
   <span class="s">"brand"</span><span class="p">:</span> <span class="s">"zara"</span><span class="p">,</span>
   <span class="s">"description"</span><span class="p">:</span> <span class="s">"very fashionable jeans"</span><span class="p">,</span>
   <span class="s">"color"</span><span class="p">:</span> <span class="s">"blue"</span>
   <span class="s">"size"</span><span class="p">:</span> <span class="s">"M"</span><span class="p">,</span>
   <span class="s">"price"</span><span class="p">:</span> <span class="mi">25000</span><span class="p">,</span>
   <span class="s">"stock"</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
   <span class="s">"extra"</span><span class="p">:</span> <span class="p">{</span>
     <span class="s">"extra_feature"</span><span class="p">:</span> <span class="s">"details"</span>
   <span class="p">},</span>
   <span class="s">"photo_url"</span><span class="p">:</span> <span class="s">"https://s3.amazon.com/image.png"</span><span class="p">,</span>
   <span class="s">"link"</span><span class="p">:</span> <span class="s">"/product/p1"</span><span class="p">,</span>
   <span class="s">"owner_id"</span><span class="p">:</span> <span class="s">"user_id_3"</span>
 <span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">url</span> <span class="o">=</span> <span class="s2">"https://api.datacue.co/v1/products"</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s2">"product_id"</span><span class="p">:</span> <span class="s2">"p1"</span><span class="p">,</span>
   <span class="s2">"variant_id"</span><span class="p">:</span> <span class="s2">"v1"</span><span class="p">,</span>
   <span class="s2">"category_1"</span><span class="p">:</span> <span class="s2">"men"</span><span class="p">,</span>
   <span class="s2">"category_2"</span><span class="p">:</span> <span class="s2">"jeans"</span><span class="p">,</span>
   <span class="s2">"category_3"</span><span class="p">:</span> <span class="s2">"skinny"</span><span class="p">,</span>
   <span class="s2">"category_4"</span><span class="p">:</span> <span class="s2">"c4"</span><span class="p">,</span>
   <span class="s2">"category_extra"</span><span class="p">:</span> <span class="p">{</span>
     <span class="s2">"category_5"</span><span class="p">:</span> <span class="s2">"c5"</span>
   <span class="p">},</span>
   <span class="s2">"name"</span><span class="p">:</span> <span class="s2">"cool jeans"</span><span class="p">,</span>
   <span class="s2">"brand"</span><span class="p">:</span> <span class="s2">"zara"</span><span class="p">,</span>
   <span class="s2">"description"</span><span class="p">:</span> <span class="s2">"very fashionable jeans"</span><span class="p">,</span>
   <span class="s2">"color"</span><span class="p">:</span> <span class="s2">"blue"</span>
   <span class="s2">"size"</span><span class="p">:</span> <span class="s2">"M"</span><span class="p">,</span>
   <span class="s2">"price"</span><span class="p">:</span> <span class="mi">25000</span><span class="p">,</span>
   <span class="s2">"stock"</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
   <span class="s2">"extra"</span><span class="p">:</span> <span class="p">{</span>
     <span class="s2">"extra_feature"</span><span class="p">:</span> <span class="s2">"details"</span>
   <span class="p">},</span>
   <span class="s2">"photo_url"</span><span class="p">:</span> <span class="s2">"https://s3.amazon.com/image.png"</span><span class="p">,</span>
   <span class="s2">"link"</span><span class="p">:</span> <span class="s2">"/product/p1"</span><span class="p">,</span>
   <span class="s2">"owner_id"</span><span class="p">:</span> <span class="s2">"user_id_3"</span>
 <span class="p">}</span>
<span class="c1">// The parameters we are gonna pass to the fetch function</span>
<span class="kd">let</span> <span class="nx">fetchData</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">method</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
    <span class="na">body</span><span class="p">:</span> <span class="nx">data</span><span class="p">,</span>
    <span class="na">headers</span><span class="p">:</span> <span class="k">new</span> <span class="nx">Headers</span><span class="p">(</span>
      <span class="s2">"Content-Type"</span><span class="p">,</span> <span class="s2">"application/json"</span><span class="p">,</span>
      <span class="s2">"Authorization"</span><span class="p">:</span> <span class="s2">"Basic VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw=="</span>
      <span class="p">)</span>
<span class="p">}</span>
<span class="nx">fetch</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">fetchData</span><span class="p">)</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">res</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">())</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">data</span><span class="p">)</span> <span class="o">=&gt;</span>  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">))</span>
<span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">))</span>
</code></pre>
<blockquote>
<p>The above command returns a 201 response code</p>
</blockquote>
<h2 id='update-product'>Update Product</h2>
<p>Whenever an existing product is updated such as image, name, price or new discounts, send this request from your backend.</p>

<p>Remember that when an order is completed this is also a product update as the stock level of the product will change. Sending us a product update after an order will ensure that if a product is out of stock, it is no longer recommended to other users.</p>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?</span>
<span class="nv">$url</span> <span class="o">=</span> <span class="s2">"https://api.datacue.co/v1/products/:product_id/:variant_id"</span><span class="p">;</span>
<span class="nv">$data</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s2">"category_1"</span> <span class="o">=&gt;</span> <span class="s2">"men"</span><span class="p">,</span>
  <span class="s2">"category_2"</span> <span class="o">=&gt;</span> <span class="s2">"jeans"</span><span class="p">,</span>
  <span class="s2">"category_3"</span> <span class="o">=&gt;</span> <span class="s2">"skinny"</span><span class="p">,</span>
  <span class="s2">"stock"</span> <span class="o">=&gt;</span> <span class="mi">6</span>
<span class="p">);</span>

<span class="nv">$content</span> <span class="o">=</span> <span class="nb">json_encode</span><span class="p">(</span><span class="nv">$data</span><span class="p">);</span>

<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">(</span><span class="nv">$url</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_HEADER</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_RETURNTRANSFER</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_HTTPHEADER</span><span class="p">,</span>
        <span class="k">array</span><span class="p">(</span>
          <span class="s2">"Content-type: application/json"</span><span class="p">,</span>
          <span class="s2">"Authorization"</span><span class="o">:</span> <span class="s2">"Basic VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw=="</span>
        <span class="p">));</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_CUSTOMREQUEST</span><span class="p">,</span> <span class="s2">"PUT"</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_POSTFIELDS</span><span class="p">,</span> <span class="nv">$content</span><span class="p">);</span>

<span class="nv">$json_response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.datacue.co/v1/products/:product_id/:variant_id"</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">"Content-type"</span><span class="p">:</span> <span class="s">"application/json"</span><span class="p">,</span>
  <span class="s">"Authorization"</span><span class="p">:</span> <span class="s">"Basic VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw=="</span>
<span class="p">}</span>
<span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s">"category_1"</span><span class="p">:</span> <span class="s">"men"</span><span class="p">,</span>
   <span class="s">"category_2"</span><span class="p">:</span> <span class="s">"jeans"</span><span class="p">,</span>
   <span class="s">"category_3"</span><span class="p">:</span> <span class="s">"skinny"</span><span class="p">,</span>
   <span class="s">"stock"</span><span class="p">:</span> <span class="mi">6</span>
 <span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">url</span> <span class="o">=</span> <span class="s2">"https://api.datacue.co/v1/products/:product_id/:variant_id"</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s2">"category_1"</span><span class="p">:</span> <span class="s2">"men"</span><span class="p">,</span>
   <span class="s2">"category_2"</span><span class="p">:</span> <span class="s2">"jeans"</span><span class="p">,</span>
   <span class="s2">"category_3"</span><span class="p">:</span> <span class="s2">"skinny"</span>
   <span class="s2">"stock"</span><span class="p">:</span> <span class="mi">6</span>
 <span class="p">}</span>
<span class="c1">// The parameters we are gonna pass to the fetch function</span>
<span class="kd">let</span> <span class="nx">fetchData</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">method</span><span class="p">:</span> <span class="s2">"PUT"</span><span class="p">,</span>
    <span class="na">body</span><span class="p">:</span> <span class="nx">data</span><span class="p">,</span>
    <span class="na">headers</span><span class="p">:</span> <span class="k">new</span> <span class="nx">Headers</span><span class="p">(</span>
      <span class="s2">"Content-Type"</span><span class="p">,</span> <span class="s2">"application/json"</span><span class="p">,</span>
      <span class="s2">"Authorization"</span><span class="p">:</span> <span class="s2">"Basic VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw=="</span>
      <span class="p">)</span>
<span class="p">}</span>
<span class="nx">fetch</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">fetchData</span><span class="p">)</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">res</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">())</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">data</span><span class="p">)</span> <span class="o">=&gt;</span>  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">))</span>
<span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">))</span>
</code></pre>
<blockquote>
<p>The above command returns a 204 response code</p>
</blockquote>
<h2 id='delete-product'>Delete Product</h2>
<p>When you delete a banner on your system. Does not apply if you&#39;re using DataCue to manage your banners.</p>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?</span>
<span class="nv">$url</span> <span class="o">=</span> <span class="s2">"https://api.datacue.co/v1/products/:product_id/:variant_id"</span><span class="p">;</span>

<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">(</span><span class="nv">$url</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_HEADER</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_RETURNTRANSFER</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_HTTPHEADER</span><span class="p">,</span>
        <span class="k">array</span><span class="p">(</span>
          <span class="s2">"Content-type: application/json"</span><span class="p">,</span>
          <span class="s2">"Authorization"</span><span class="o">:</span> <span class="s2">"Basic VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw=="</span>
        <span class="p">));</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_CUSTOMREQUEST</span><span class="p">,</span> <span class="s2">"DELETE"</span><span class="p">);</span>

<span class="nv">$json_response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.datacue.co/v1/products/:product_id/:variant_id"</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">"Content-type"</span><span class="p">:</span> <span class="s">"application/json"</span><span class="p">,</span>
  <span class="s">"Authorization"</span><span class="p">:</span> <span class="s">"Basic VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw=="</span>
<span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">url</span> <span class="o">=</span> <span class="s2">"https://api.datacue.co/v1/products/:product_id/:variant_id"</span><span class="p">;</span>

<span class="c1">// The parameters we are gonna pass to the fetch function</span>
<span class="kd">let</span> <span class="nx">fetchData</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="s2">"DELETE"</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="k">new</span> <span class="nx">Headers</span><span class="p">(</span>
    <span class="s2">"Content-Type"</span><span class="p">,</span> <span class="s2">"application/json"</span><span class="p">,</span>
    <span class="s2">"Authorization"</span><span class="p">:</span> <span class="s2">"Basic VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw=="</span>
  <span class="p">)</span>
<span class="p">}</span>
<span class="nx">fetch</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">fetchData</span><span class="p">)</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">res</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">())</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">data</span><span class="p">)</span> <span class="o">=&gt;</span>  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">))</span>
<span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">))</span>
</code></pre>
<blockquote>
<p>The above command returns a 204 response code</p>
</blockquote>
<h1 id='banner-management'>Banner Management</h1><h2 id='create-banner'>Create Banner</h2>
<p>When you create a new banner on your system. Does not apply if you&#39;re using DataCue to manage your banners.</p>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?</span>
<span class="nv">$url</span> <span class="o">=</span> <span class="s2">"https://api.datacue.co/v1/banners"</span><span class="p">;</span>
<span class="nv">$data</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s2">"banner_id"</span> <span class="o">=&gt;</span> <span class="s2">"b1"</span><span class="p">,</span>
  <span class="s2">"type"</span> <span class="o">=&gt;</span> <span class="s2">"sub"</span><span class="p">,</span>
  <span class="s2">"title"</span> <span class="o">=&gt;</span> <span class="s2">"friendly name for b1"</span><span class="p">,</span>
  <span class="s2">"category_1"</span> <span class="o">=&gt;</span> <span class="s2">"women"</span><span class="p">,</span>
  <span class="s2">"category_2"</span> <span class="o">=&gt;</span> <span class="s2">"summer"</span><span class="p">,</span>
  <span class="s2">"category_3"</span> <span class="o">=&gt;</span> <span class="s2">"dresses"</span><span class="p">,</span>
  <span class="s2">"category_4"</span> <span class="o">=&gt;</span> <span class="s2">"casual"</span><span class="p">,</span>
  <span class="s2">"photos"</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s2">"mobile"</span> <span class="o">=&gt;</span> <span class="s2">"http://s3.amazon.com/photoMobile.png"</span><span class="p">,</span>
    <span class="s2">"desktop"</span> <span class="o">=&gt;</span> <span class="s2">"http://s3.amazon.com/photoDesktop.png"</span>
  <span class="p">),</span>
  <span class="s2">"link"</span> <span class="o">=&gt;</span> <span class="s2">"path/to/anything"</span>
<span class="p">);</span>

<span class="nv">$content</span> <span class="o">=</span> <span class="nb">json_encode</span><span class="p">(</span><span class="nv">$data</span><span class="p">);</span>

<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">(</span><span class="nv">$url</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_HEADER</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_RETURNTRANSFER</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_HTTPHEADER</span><span class="p">,</span>
        <span class="k">array</span><span class="p">(</span>
          <span class="s2">"Content-type: application/json"</span><span class="p">,</span>
          <span class="s2">"Authorization"</span><span class="o">:</span> <span class="s2">"Basic VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw=="</span>
        <span class="p">));</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_POST</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_POSTFIELDS</span><span class="p">,</span> <span class="nv">$content</span><span class="p">);</span>

<span class="nv">$json_response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.datacue.co/v1/banners"</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">"Content-type"</span><span class="p">:</span> <span class="s">"application/json"</span><span class="p">,</span>
  <span class="s">"Authorization"</span><span class="p">:</span> <span class="s">"Basic VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw=="</span>
<span class="p">}</span>
<span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s">"banner_id"</span><span class="p">:</span> <span class="s">"b1"</span><span class="p">,</span>
   <span class="s">"type"</span><span class="p">:</span> <span class="s">"sub"</span><span class="p">,</span>
   <span class="s">"title"</span><span class="p">:</span> <span class="s">"friendly name for b1"</span><span class="p">,</span>
   <span class="s">"category_1"</span><span class="p">:</span> <span class="s">"women"</span><span class="p">,</span>
   <span class="s">"category_2"</span><span class="p">:</span> <span class="s">"summer"</span><span class="p">,</span>
   <span class="s">"category_3"</span><span class="p">:</span> <span class="s">"dresses"</span><span class="p">,</span>
   <span class="s">"category_4"</span><span class="p">:</span> <span class="s">"casual"</span><span class="p">,</span>
   <span class="s">"photos"</span><span class="p">:</span> <span class="p">{</span>
     <span class="s">"mobile"</span><span class="p">:</span> <span class="s">"http://s3.amazon.com/photoMobile.png"</span><span class="p">,</span>
     <span class="s">"desktop"</span><span class="p">:</span> <span class="s">"http://s3.amazon.com/photoDesktop.png"</span><span class="p">,</span>
   <span class="p">},</span>
   <span class="s">"link"</span><span class="p">:</span> <span class="s">"path/to/anything"</span>
 <span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">url</span> <span class="o">=</span> <span class="s2">"https://api.datacue.co/v1/banners"</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s2">"banner_id"</span><span class="p">:</span> <span class="s2">"b1"</span><span class="p">,</span>
   <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"sub"</span><span class="p">,</span>
   <span class="s2">"title"</span><span class="p">:</span> <span class="s2">"friendly name for b1"</span><span class="p">,</span>
   <span class="s2">"category_1"</span><span class="p">:</span> <span class="s2">"women"</span><span class="p">,</span>
   <span class="s2">"category_2"</span><span class="p">:</span> <span class="s2">"summer"</span><span class="p">,</span>
   <span class="s2">"category_3"</span><span class="p">:</span> <span class="s2">"dresses"</span><span class="p">,</span>
   <span class="s2">"category_4"</span><span class="p">:</span> <span class="s2">"casual"</span><span class="p">,</span>
   <span class="s2">"photos"</span><span class="p">:</span> <span class="p">{</span>
     <span class="s2">"mobile"</span><span class="p">:</span> <span class="s2">"http://s3.amazon.com/photoMobile.png"</span><span class="p">,</span>
     <span class="s2">"desktop"</span><span class="p">:</span> <span class="s2">"http://s3.amazon.com/photoDesktop.png"</span><span class="p">,</span>
   <span class="p">},</span>
   <span class="s2">"link"</span><span class="p">:</span> <span class="s2">"path/to/anything"</span>
 <span class="p">}</span>

<span class="c1">// The parameters we are gonna pass to the fetch function</span>
<span class="kd">let</span> <span class="nx">fetchData</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">method</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
    <span class="na">body</span><span class="p">:</span> <span class="nx">data</span><span class="p">,</span>
    <span class="na">headers</span><span class="p">:</span> <span class="k">new</span> <span class="nx">Headers</span><span class="p">(</span>
      <span class="s2">"Content-Type"</span><span class="p">,</span> <span class="s2">"application/json"</span><span class="p">,</span>
      <span class="s2">"Authorization"</span><span class="p">:</span> <span class="s2">"Basic VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw=="</span>
      <span class="p">)</span>
<span class="p">}</span>
<span class="nx">fetch</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">fetchData</span><span class="p">)</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">res</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">())</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">data</span><span class="p">)</span> <span class="o">=&gt;</span>  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">))</span>
<span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">))</span>
</code></pre>
<blockquote>
<p>The above command returns a 201 response code</p>
</blockquote>
<h2 id='update-banner'>Update Banner</h2>
<p>When you update your banner in any way like changing the banner image, link or assigned categories on your system. Does not apply if you&#39;re using DataCue to manage your banners.</p>

<p>Only send fields to be updated</p>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?</span>
<span class="nv">$url</span> <span class="o">=</span> <span class="s2">"https://api.datacue.co/v1/banners/:banner_id"</span><span class="p">;</span>
<span class="nv">$data</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s2">"link"</span> <span class="o">=&gt;</span> <span class="s2">"/new-link"</span>
<span class="p">);</span>

<span class="nv">$content</span> <span class="o">=</span> <span class="nb">json_encode</span><span class="p">(</span><span class="nv">$data</span><span class="p">);</span>

<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">(</span><span class="nv">$url</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_HEADER</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_RETURNTRANSFER</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_HTTPHEADER</span><span class="p">,</span>
        <span class="k">array</span><span class="p">(</span>
          <span class="s2">"Content-type: application/json"</span><span class="p">,</span>
          <span class="s2">"Authorization"</span><span class="o">:</span> <span class="s2">"Basic VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw=="</span>
        <span class="p">));</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_CUSTOMREQUEST</span><span class="p">,</span> <span class="s2">"PUT"</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_POSTFIELDS</span><span class="p">,</span> <span class="nv">$content</span><span class="p">);</span>

<span class="nv">$json_response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.datacue.co/v1/banners/:banner_id"</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">"Content-type"</span><span class="p">:</span> <span class="s">"application/json"</span><span class="p">,</span>
  <span class="s">"Authorization"</span><span class="p">:</span> <span class="s">"Basic VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw=="</span>
<span class="p">}</span>
<span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s">"link"</span><span class="p">:</span> <span class="s">"/new-link"</span>
 <span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">url</span> <span class="o">=</span> <span class="s2">"https://api.datacue.co/v1/banners/:banner_id"</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s2">"link"</span><span class="p">:</span> <span class="s2">"/new-link"</span>
 <span class="p">}</span>
<span class="c1">// The parameters we are gonna pass to the fetch function</span>
<span class="kd">let</span> <span class="nx">fetchData</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">method</span><span class="p">:</span> <span class="s2">"PUT"</span><span class="p">,</span>
    <span class="na">body</span><span class="p">:</span> <span class="nx">data</span><span class="p">,</span>
    <span class="na">headers</span><span class="p">:</span> <span class="k">new</span> <span class="nx">Headers</span><span class="p">(</span>
      <span class="s2">"Content-Type"</span><span class="p">,</span> <span class="s2">"application/json"</span><span class="p">,</span>
      <span class="s2">"Authorization"</span><span class="p">:</span> <span class="s2">"Basic VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw=="</span>
      <span class="p">)</span>
<span class="p">}</span>
<span class="nx">fetch</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">fetchData</span><span class="p">)</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">res</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">())</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">data</span><span class="p">)</span> <span class="o">=&gt;</span>  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">))</span>
<span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">))</span>
</code></pre>
<blockquote>
<p>The above command returns a 204 response code</p>
</blockquote>
<h2 id='delete-banner'>Delete Banner</h2>
<p>When you delete a banner on your system. Does not apply if you&#39;re using DataCue to manage your banners.</p>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?</span>
<span class="nv">$url</span> <span class="o">=</span> <span class="s2">"https://api.datacue.co/v1/banners/:banner_id"</span><span class="p">;</span>

<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">(</span><span class="nv">$url</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_HEADER</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_RETURNTRANSFER</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_HTTPHEADER</span><span class="p">,</span>
        <span class="k">array</span><span class="p">(</span>
          <span class="s2">"Content-type: application/json"</span><span class="p">,</span>
          <span class="s2">"Authorization"</span><span class="o">:</span> <span class="s2">"Basic VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw=="</span>
        <span class="p">));</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_CUSTOMREQUEST</span><span class="p">,</span> <span class="s2">"DELETE"</span><span class="p">);</span>

<span class="nv">$json_response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.datacue.co/v1/banners/:banner_id"</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">"Content-type"</span><span class="p">:</span> <span class="s">"application/json"</span><span class="p">,</span>
  <span class="s">"Authorization"</span><span class="p">:</span> <span class="s">"Basic VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw=="</span>
<span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">url</span> <span class="o">=</span> <span class="s2">"https://api.datacue.co/v1/banners/:banner_id"</span><span class="p">;</span>

<span class="c1">// The parameters we are gonna pass to the fetch function</span>
<span class="kd">let</span> <span class="nx">fetchData</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="s2">"DELETE"</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="k">new</span> <span class="nx">Headers</span><span class="p">(</span>
    <span class="s2">"Content-Type"</span><span class="p">,</span> <span class="s2">"application/json"</span><span class="p">,</span>
    <span class="s2">"Authorization"</span><span class="p">:</span> <span class="s2">"Basic VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw=="</span>
  <span class="p">)</span>
<span class="p">}</span>
<span class="nx">fetch</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">fetchData</span><span class="p">)</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">res</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">())</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">data</span><span class="p">)</span> <span class="o">=&gt;</span>  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">))</span>
<span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">))</span>
</code></pre>
<blockquote>
<p>The above command returns a 204 response code</p>
</blockquote>
<h1 id='user-management'>User Management</h1><h2 id='create-user'>Create User</h2>
<p>When a new user has successfully signed up / registered on your system.</p>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?</span>
<span class="nv">$url</span> <span class="o">=</span> <span class="s2">"https://api.datacue.co/v1/users"</span><span class="p">;</span>
<span class="nv">$data</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s2">"user_id"</span> <span class="o">=&gt;</span> <span class="s2">"u1"</span><span class="p">,</span>
  <span class="s2">"anonymous_ids"</span> <span class="o">=&gt;</span> <span class="s2">"v1"</span>
  <span class="s2">"email"</span> <span class="o">=&gt;</span> <span class="s2">"xyz@abc.com"</span><span class="p">,</span>
  <span class="s2">"title"</span> <span class="o">=&gt;</span> <span class="s2">"Mr"</span><span class="p">,</span>
  <span class="s2">"first_name"</span> <span class="o">=&gt;</span> <span class="s2">"John"</span><span class="p">,</span>
  <span class="s2">"last_name"</span> <span class="o">=&gt;</span> <span class="s2">"Smith"</span><span class="p">,</span>
  <span class="s2">"profile"</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s2">"dob"</span> <span class="o">=&gt;</span> <span class="s2">"25/01/1980"</span><span class="p">,</span>
    <span class="s2">"location"</span> <span class="o">=&gt;</span> <span class="s2">"santiago"</span><span class="p">,</span>
    <span class="s2">"sex"</span> <span class="o">=&gt;</span> <span class="s2">"male"</span><span class="p">,</span>
    <span class="s2">"income"</span> <span class="o">=&gt;</span> <span class="s2">"S1"</span><span class="p">,</span>
    <span class="s2">"occupation"</span> <span class="o">=&gt;</span> <span class="s2">"Engineer"</span><span class="p">,</span>
    <span class="s2">"marital_status"</span> <span class="o">=&gt;</span> <span class="s2">"married"</span>
  <span class="p">),</span>
  <span class="s2">"cart"</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s2">"product_id1"</span><span class="p">,</span><span class="s2">"product_id2"</span><span class="p">)</span>
<span class="p">)</span>

<span class="nv">$content</span> <span class="o">=</span> <span class="nb">json_encode</span><span class="p">(</span><span class="nv">$data</span><span class="p">);</span>

<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">(</span><span class="nv">$url</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_HEADER</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_RETURNTRANSFER</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_HTTPHEADER</span><span class="p">,</span>
        <span class="k">array</span><span class="p">(</span>
          <span class="s2">"Content-type: application/json"</span><span class="p">,</span>
          <span class="s2">"Authorization"</span><span class="o">:</span> <span class="s2">"Basic VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw=="</span>
        <span class="p">));</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_POST</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_POSTFIELDS</span><span class="p">,</span> <span class="nv">$content</span><span class="p">);</span>

<span class="nv">$json_response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.datacue.co/v1/users"</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">"Content-type"</span><span class="p">:</span> <span class="s">"application/json"</span><span class="p">,</span>
  <span class="s">"Authorization"</span><span class="p">:</span> <span class="s">"Basic VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw=="</span>
<span class="p">}</span>
<span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s">"user_id"</span><span class="p">:</span> <span class="s">"u1"</span><span class="p">,</span>
   <span class="s">"anonymous_ids"</span><span class="p">:</span> <span class="s">"v1"</span>
   <span class="s">"email"</span><span class="p">:</span> <span class="s">"xyz@abc.com"</span><span class="p">,</span>
   <span class="s">"title"</span><span class="p">:</span> <span class="s">"Mr"</span><span class="p">,</span>
   <span class="s">"first_name"</span><span class="p">:</span> <span class="s">"John"</span><span class="p">,</span>
   <span class="s">"last_name"</span><span class="p">:</span> <span class="s">"Smith"</span><span class="p">,</span>
   <span class="s">"profile"</span><span class="p">:</span> <span class="p">{</span>
       <span class="s">"dob"</span><span class="p">:</span> <span class="s">"25/01/1980"</span><span class="p">,</span>
       <span class="s">"location"</span><span class="p">:</span> <span class="s">"santiago"</span><span class="p">,</span>
       <span class="s">"sex"</span><span class="p">:</span> <span class="s">"male"</span><span class="p">,</span>
       <span class="s">"income"</span><span class="p">:</span> <span class="s">"S1"</span><span class="p">,</span>
       <span class="s">"occupation"</span><span class="p">:</span> <span class="s">"Engineer"</span><span class="p">,</span>
       <span class="s">"marital_status"</span><span class="p">:</span> <span class="s">"married"</span>
   <span class="p">},</span>
   <span class="s">"cart"</span><span class="p">:</span> <span class="p">[</span><span class="s">"product_id1"</span><span class="p">,</span><span class="s">"product_id2"</span><span class="p">]</span>
<span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">url</span> <span class="o">=</span> <span class="s2">"https://api.datacue.co/v1/users"</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s2">"user_id"</span><span class="p">:</span> <span class="s2">"u1"</span><span class="p">,</span>
   <span class="s2">"anonymous_ids"</span><span class="p">:</span> <span class="s2">"v1"</span>
   <span class="s2">"email"</span><span class="p">:</span> <span class="s2">"xyz@abc.com"</span><span class="p">,</span>
   <span class="s2">"title"</span><span class="p">:</span> <span class="s2">"Mr"</span><span class="p">,</span>
   <span class="s2">"first_name"</span><span class="p">:</span> <span class="s2">"John"</span><span class="p">,</span>
   <span class="s2">"last_name"</span><span class="p">:</span> <span class="s2">"Smith"</span><span class="p">,</span>
   <span class="s2">"profile"</span><span class="p">:</span> <span class="p">{</span>
       <span class="s2">"dob"</span><span class="p">:</span> <span class="s2">"25/01/1980"</span><span class="p">,</span>
       <span class="s2">"location"</span><span class="p">:</span> <span class="s2">"santiago"</span><span class="p">,</span>
       <span class="s2">"sex"</span><span class="p">:</span> <span class="s2">"male"</span><span class="p">,</span>
       <span class="s2">"income"</span><span class="p">:</span> <span class="s2">"S1"</span><span class="p">,</span>
       <span class="s2">"occupation"</span><span class="p">:</span> <span class="s2">"Engineer"</span><span class="p">,</span>
       <span class="s2">"marital_status"</span><span class="p">:</span> <span class="s2">"married"</span>
   <span class="p">},</span>
   <span class="s2">"cart"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"product_id1"</span><span class="p">,</span><span class="s2">"product_id2"</span><span class="p">]</span>
<span class="p">}</span>

<span class="c1">// The parameters we are gonna pass to the fetch function</span>
<span class="kd">let</span> <span class="nx">fetchData</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">method</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
    <span class="na">body</span><span class="p">:</span> <span class="nx">data</span><span class="p">,</span>
    <span class="na">headers</span><span class="p">:</span> <span class="k">new</span> <span class="nx">Headers</span><span class="p">(</span>
      <span class="s2">"Content-Type"</span><span class="p">,</span> <span class="s2">"application/json"</span><span class="p">,</span>
      <span class="s2">"Authorization"</span><span class="p">:</span> <span class="s2">"Basic VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw=="</span>
      <span class="p">)</span>
<span class="p">}</span>
<span class="nx">fetch</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">fetchData</span><span class="p">)</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">res</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">())</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">data</span><span class="p">)</span> <span class="o">=&gt;</span>  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">))</span>
<span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">))</span>
</code></pre>
<blockquote>
<p>The above command returns a 201 response code</p>
</blockquote>
<h2 id='update-user'>Update User</h2>
<p>When the user makes changes to their profile or when they configure any relevant preferences. For instance if they indicate their gender, this is very helpful for recommendations.</p>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?</span>
<span class="nv">$url</span> <span class="o">=</span> <span class="s2">"https://api.datacue.co/v1/users/:user_id"</span><span class="p">;</span>
<span class="nv">$data</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s2">"profile"</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s2">"dob"</span> <span class="o">=&gt;</span> <span class="s2">"29/01/1980"</span>
  <span class="p">)</span>
<span class="p">);</span>

<span class="nv">$content</span> <span class="o">=</span> <span class="nb">json_encode</span><span class="p">(</span><span class="nv">$data</span><span class="p">);</span>

<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">(</span><span class="nv">$url</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_HEADER</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_RETURNTRANSFER</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_HTTPHEADER</span><span class="p">,</span>
        <span class="k">array</span><span class="p">(</span>
          <span class="s2">"Content-type: application/json"</span><span class="p">,</span>
          <span class="s2">"Authorization"</span><span class="o">:</span> <span class="s2">"Basic VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw=="</span>
        <span class="p">));</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_CUSTOMREQUEST</span><span class="p">,</span> <span class="s2">"PUT"</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_POSTFIELDS</span><span class="p">,</span> <span class="nv">$content</span><span class="p">);</span>

<span class="nv">$json_response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.datacue.co/v1/users/:user_id"</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">"Content-type"</span><span class="p">:</span> <span class="s">"application/json"</span><span class="p">,</span>
  <span class="s">"Authorization"</span><span class="p">:</span> <span class="s">"Basic VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw=="</span>
<span class="p">}</span>
<span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s">"profile"</span><span class="p">:</span> <span class="p">{</span>
     <span class="s">"dob"</span><span class="p">:</span> <span class="s">"29/01/1980"</span>
   <span class="p">}</span>
 <span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">url</span> <span class="o">=</span> <span class="s2">"https://api.datacue.co/v1/users/:user_id"</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s2">"profile"</span><span class="p">:</span> <span class="p">{</span>
     <span class="s2">"dob"</span> <span class="o">=&gt;</span> <span class="s2">"29/01/1980"</span>
   <span class="p">}</span>
 <span class="p">}</span>
<span class="c1">// The parameters we are gonna pass to the fetch function</span>
<span class="kd">let</span> <span class="nx">fetchData</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">method</span><span class="p">:</span> <span class="s2">"PUT"</span><span class="p">,</span>
    <span class="na">body</span><span class="p">:</span> <span class="nx">data</span><span class="p">,</span>
    <span class="na">headers</span><span class="p">:</span> <span class="k">new</span> <span class="nx">Headers</span><span class="p">(</span>
      <span class="s2">"Content-Type"</span><span class="p">,</span> <span class="s2">"application/json"</span><span class="p">,</span>
      <span class="s2">"Authorization"</span><span class="p">:</span> <span class="s2">"Basic VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw=="</span>
      <span class="p">)</span>
<span class="p">}</span>
<span class="nx">fetch</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">fetchData</span><span class="p">)</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">res</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">())</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">data</span><span class="p">)</span> <span class="o">=&gt;</span>  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">))</span>
<span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">))</span>
</code></pre>
<blockquote>
<p>The above command returns a 204 response code</p>
</blockquote>
<h2 id='delete-banner-2'>Delete Banner</h2>
<p>When you delete a banner on your system. Does not apply if you&#39;re using DataCue to manage your banners.</p>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?</span>
<span class="nv">$url</span> <span class="o">=</span> <span class="s2">"https://api.datacue.co/v1/users/:user_id"</span><span class="p">;</span>

<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">(</span><span class="nv">$url</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_HEADER</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_RETURNTRANSFER</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_HTTPHEADER</span><span class="p">,</span>
        <span class="k">array</span><span class="p">(</span>
          <span class="s2">"Content-type: application/json"</span><span class="p">,</span>
          <span class="s2">"Authorization"</span><span class="o">:</span> <span class="s2">"Basic VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw=="</span>
        <span class="p">));</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_CUSTOMREQUEST</span><span class="p">,</span> <span class="s2">"DELETE"</span><span class="p">);</span>

<span class="nv">$json_response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.datacue.co/v1/users/:user_id"</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">"Content-type"</span><span class="p">:</span> <span class="s">"application/json"</span><span class="p">,</span>
  <span class="s">"Authorization"</span><span class="p">:</span> <span class="s">"Basic VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw=="</span>
<span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">url</span> <span class="o">=</span> <span class="s2">"https://api.datacue.co/v1/users/:user_id"</span><span class="p">;</span>

<span class="c1">// The parameters we are gonna pass to the fetch function</span>
<span class="kd">let</span> <span class="nx">fetchData</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="s2">"DELETE"</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="k">new</span> <span class="nx">Headers</span><span class="p">(</span>
    <span class="s2">"Content-Type"</span><span class="p">,</span> <span class="s2">"application/json"</span><span class="p">,</span>
    <span class="s2">"Authorization"</span><span class="p">:</span> <span class="s2">"Basic VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw=="</span>
  <span class="p">)</span>
<span class="p">}</span>
<span class="nx">fetch</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">fetchData</span><span class="p">)</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">res</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">())</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">data</span><span class="p">)</span> <span class="o">=&gt;</span>  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">))</span>
<span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">))</span>
</code></pre>
<blockquote>
<p>The above command returns a 204 response code</p>
</blockquote>
<h1 id='errors'>Errors</h1>
<p>The API returns 3 types of error codes:</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request -- Your request is invalid. With a payload that has a descriptive error message. We&#39;re always trying to improve so let us know if you encounter any issues interpreting the error message.</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized -- Specified the wrong API key or API secret. Incorrectly formatted authorization header. Specifying an API secret in an endpoint that only requires an API key</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error -- We had a problem with our server. Try again later.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="php">php</a>
                <a href="#" data-language-name="python">python</a>
                <a href="#" data-language-name="javascript">javascript</a>
          </div>
      </div>
    </div>
  </body>
</html>
