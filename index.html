
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
    <link rel="icon" type="image/png" sizes="32x32" href="images/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="images/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="images/favicon-16x16.png">
      
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;javascript--browser&quot;,&quot;php&quot;,&quot;python&quot;,&quot;javascript--node&quot;]">
    <a href="#" id="nav-button">
      <span>
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo.png" class="logo" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="javascript--browser">javascript</a>
              <a href="#" data-language-name="php">php</a>
              <a href="#" data-language-name="python">python</a>
              <a href="#" data-language-name="javascript--node">node</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc" class="toc-list-h1">
          <li>
            <a href="#introduction" class="toc-h1 toc-link" data-title="introduction">Introduction</a>
          </li>
          <li>
            <a href="#api-url" class="toc-h1 toc-link" data-title="api-url">API URL</a>
          </li>
          <li>
            <a href="#headers" class="toc-h1 toc-link" data-title="headers">Headers</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#authentication" class="toc-h2 toc-link" data-title="authentication">Authentication</a>
                  </li>
                  <li>
                    <a href="#content-type" class="toc-h2 toc-link" data-title="content-type">Content-Type</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#browser-events" class="toc-h1 toc-link" data-title="browser-events">Browser Events</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#authorization" class="toc-h2 toc-link" data-title="authorization">Authorization</a>
                  </li>
                  <li>
                    <a href="#format" class="toc-h2 toc-link" data-title="format">Format</a>
                  </li>
                  <li>
                    <a href="#home-page-view" class="toc-h2 toc-link" data-title="home-page-view">Home Page View</a>
                  </li>
                  <li>
                    <a href="#product-page-view" class="toc-h2 toc-link" data-title="product-page-view">Product Page View</a>
                  </li>
                  <li>
                    <a href="#category-page-view" class="toc-h2 toc-link" data-title="category-page-view">Category Page View</a>
                  </li>
                  <li>
                    <a href="#shopping-cart-view-cart-add-remove-item" class="toc-h2 toc-link" data-title="shopping-cart-view-cart-add-remove-item">Shopping Cart (View Cart, Add/Remove Item)</a>
                  </li>
                  <li>
                    <a href="#search-page-view" class="toc-h2 toc-link" data-title="search-page-view">Search Page View</a>
                  </li>
                  <li>
                    <a href="#update-wishlist" class="toc-h2 toc-link" data-title="update-wishlist">Update Wishlist</a>
                  </li>
                  <li>
                    <a href="#banner-click" class="toc-h2 toc-link" data-title="banner-click">Banner Click</a>
                  </li>
                  <li>
                    <a href="#product-click" class="toc-h2 toc-link" data-title="product-click">Product Click</a>
                  </li>
                  <li>
                    <a href="#check-out-start-order" class="toc-h2 toc-link" data-title="check-out-start-order">Check Out (Start Order)</a>
                  </li>
                  <li>
                    <a href="#complete-order" class="toc-h2 toc-link" data-title="complete-order">Complete Order</a>
                  </li>
                  <li>
                    <a href="#cancel-order" class="toc-h2 toc-link" data-title="cancel-order">Cancel Order</a>
                  </li>
                  <li>
                    <a href="#user-login" class="toc-h2 toc-link" data-title="user-login">User Login</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#product-management" class="toc-h1 toc-link" data-title="product-management">Product Management</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#create-product" class="toc-h2 toc-link" data-title="create-product">Create Product</a>
                  </li>
                  <li>
                    <a href="#update-product" class="toc-h2 toc-link" data-title="update-product">Update Product</a>
                  </li>
                  <li>
                    <a href="#delete-product" class="toc-h2 toc-link" data-title="delete-product">Delete Product</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#banner-management" class="toc-h1 toc-link" data-title="banner-management">Banner Management</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#create-banner" class="toc-h2 toc-link" data-title="create-banner">Create Banner</a>
                  </li>
                  <li>
                    <a href="#update-banner" class="toc-h2 toc-link" data-title="update-banner">Update Banner</a>
                  </li>
                  <li>
                    <a href="#delete-banner" class="toc-h2 toc-link" data-title="delete-banner">Delete Banner</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#user-management" class="toc-h1 toc-link" data-title="user-management">User Management</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#create-user" class="toc-h2 toc-link" data-title="create-user">Create User</a>
                  </li>
                  <li>
                    <a href="#update-user" class="toc-h2 toc-link" data-title="update-user">Update User</a>
                  </li>
                  <li>
                    <a href="#delete-user" class="toc-h2 toc-link" data-title="delete-user">Delete User</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#batch" class="toc-h1 toc-link" data-title="batch">Batch</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#batch-create-banners-orders-products-users" class="toc-h2 toc-link" data-title="batch-create-banners-orders-products-users">Batch Create Banners / Orders / Products / Users</a>
                  </li>
                  <li>
                    <a href="#batch-update-banners-products-users" class="toc-h2 toc-link" data-title="batch-update-banners-products-users">Batch Update Banners / Products / Users</a>
                  </li>
                  <li>
                    <a href="#batch-delete-banners-products-users-or-cancel-orders" class="toc-h2 toc-link" data-title="batch-delete-banners-products-users-or-cancel-orders">Batch Delete Banners/ Products / Users or Cancel Orders</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#errors" class="toc-h1 toc-link" data-title="errors">Errors</a>
          </li>
      </div>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='introduction'>Introduction</h1>
<p>Welcome to the DataCue API. This API documentation is to help you setup your e-commerce store to apply real time personalization to your website.</p>

<p>We have language bindings in Javascript, PHP, and Python. You can view code examples in the dark area to the right, and you can switch the programming language of the examples with the tabs in the top right. On a mobile device, switch the language using the hamburger menu on the rop left.</p>
<h1 id='api-url'>API URL</h1>
<p>The API is located at <code>https://api.datacue.co</code>
If you have a staging / test version of your website, you can test your implementation with our staging API at <code>https://staging-api.datacue.co</code>.</p>
<h1 id='headers'>Headers</h1><h2 id='authentication'>Authentication</h2>
<blockquote>
<p>To authorize, use this code:</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?</span>

<span class="nv">$encode</span> <span class="o">=</span> <span class="nb">base64_encode</span><span class="p">(</span><span class="s2">"API-key:API-secret"</span><span class="p">);</span>

<span class="nv">$auth</span> <span class="o">=</span> <span class="s2">"Basic </span><span class="nv">$encode</span><span class="s2">"</span><span class="p">;</span>
<span class="cp">?&gt;</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">base64</span>

<span class="n">auth</span> <span class="o">=</span> <span class="s">"Basic {}"</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">b64encode</span><span class="p">(</span><span class="n">b</span><span class="s">"API-key:API-secret"</span><span class="p">)</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"ascii"</span><span class="p">))</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">auth</span> <span class="o">=</span> <span class="s2">`Basic </span><span class="p">${</span><span class="nx">btoa</span><span class="p">(</span><span class="s2">"API-key:API-secret"</span><span class="p">)}</span><span class="s2">`</span><span class="p">;</span>
</code></pre><pre class="highlight javascript tab-javascript--browser"><code><span class="err">#</span> <span class="k">for</span> <span class="nx">events</span> <span class="nx">endpoint</span><span class="p">,</span> <span class="nx">use</span> <span class="nx">apikey</span><span class="p">:</span>
<span class="kr">const</span> <span class="nx">auth</span> <span class="o">=</span> <span class="s2">`Basic </span><span class="p">${</span><span class="nx">btoa</span><span class="p">(</span><span class="s2">"API-key:"</span><span class="p">)}</span><span class="s2">`</span><span class="p">;</span>
</code></pre>
<blockquote>
<p>Make sure to replace <code>API-key</code> with your API key and <code>API-secret</code> with your API secret.</p>

<p>Sample Headers</p>
</blockquote>
<pre class="highlight plaintext"><code>  "Authorization": "Basic VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw=="
  "Content-Type": "application/json"
</code></pre>
<p>You can find your API key and API secret in your <a href="https://app.datacue.co" title="Dashboard">DataCue Dashboard</a>. </p>

<p>The <code>events</code> endpoint only require an API key to be run from a browser.
All other end-points require both an API key and API secret and should only be run from your backend to keep your API secret... a secret.
We use HTTP Basic Authentication, which encodes the string <code>apikey:apisecret</code> into a token that is base64 encoded and prepended with the string &quot;Basic &quot;.</p>
<h3 id='browser-events-only-api-key'>Browser Events (only API key):</h3>
<p>If your API key is <code>abc123</code>, then Base64 encode &quot;abc123:&quot;, no password after the colon, and the final result will be &quot;YWJjMTIzOg==&quot;.</p>

<p>Your authorization header should look like <code>Authorization: Basic YWJjMTIzOg==</code>.</p>
<h3 id='backend-end-points-api-key-and-api-secret'>Backend End points (API Key and API Secret):</h3>
<p>If your API key is <code>abc123</code>, and API secret is <code>secret123</code> then Base64 encode &quot;abc123:secret123&quot;. The final result will be &quot;Basic YWJjMTIzOnNlY3JldDEyMw==&quot;.</p>

<p>Your authorization header should look like <code>Authorization: Basic YWJjMTIzOnNlY3JldDEyMw==</code>.</p>
<h2 id='content-type'>Content-Type</h2>
<p>You must set a content-type header to &quot;application/json&quot;.
<code>Content-Type: application/json</code></p>
<h1 id='browser-events'>Browser Events</h1>
<p>URL: <code>POST</code> <code>https://api.datacue.co/v1/events</code></p>
<h2 id='authorization'>Authorization</h2>
<p>All events endpoints are meant to be sent from your user&#39;s browsers using our embedded script. This endpoint only requires your API Key.</p>
<h2 id='format'>Format</h2>
<p>All events are registered in a similar format. There are 4 main objects in each request.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>user</td>
<td>true</td>
<td>All data that we know about the current user at the time.</td>
</tr>
<tr>
<td>event</td>
<td>true</td>
<td>Details about the event</td>
</tr>
<tr>
<td>context</td>
<td>false</td>
<td>Details about the userâ€™s device and location</td>
</tr>
<tr>
<td>timestamp</td>
<td>false</td>
<td>An ISO-8601 date string in UTC time for when the event happened</td>
</tr>
</tbody></table>

<aside class="success">
  Parameter breakdown
</aside>
<h3 id='user'>User</h3>
<table><thead>
<tr>
<th style="text-align: center"><strong>Field</strong></th>
<th style="text-align: center"><strong>Data Type</strong></th>
<th style="text-align: center"><strong>Description</strong></th>
<th style="text-align: center"><strong>Mandatory</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">user_id</td>
<td style="text-align: center">String</td>
<td style="text-align: center">The unique user id if the user has logged in</td>
<td style="text-align: center">Yes (if logged in)</td>
</tr>
<tr>
<td style="text-align: center">anonymous_id</td>
<td style="text-align: center">String</td>
<td style="text-align: center">An automatically generated visitor id if the user has not logged in.</td>
<td style="text-align: center">Yes (if not logged in)</td>
</tr>
<tr>
<td style="text-align: center"></td>
<td style="text-align: center"></td>
<td style="text-align: center">If you send us both a user_id and anonymous_id we will record the user_id</td>
<td style="text-align: center"></td>
</tr>
<tr>
<td style="text-align: center">profile</td>
<td style="text-align: center">JSON Object</td>
<td style="text-align: center">Any user segmentation data you know about the user, see the table below for details.</td>
<td style="text-align: center">No</td>
</tr>
</tbody></table>
<h3 id='profile'>Profile</h3>
<table><thead>
<tr>
<th style="text-align: center"><strong>Field</strong></th>
<th style="text-align: center"><strong>Data Type</strong></th>
<th style="text-align: center"><strong>Description</strong></th>
<th style="text-align: center"><strong>Mandatory</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">sex</td>
<td style="text-align: center">String</td>
<td style="text-align: center">Sex of the user</td>
<td style="text-align: center">No</td>
</tr>
<tr>
<td style="text-align: center">segment</td>
<td style="text-align: center">String</td>
<td style="text-align: center">Custom segment name that you store e.g. Gold class / Member</td>
<td style="text-align: center">No</td>
</tr>
<tr>
<td style="text-align: center">location</td>
<td style="text-align: center">String</td>
<td style="text-align: center">Location of the user as a commune, city, region or country</td>
<td style="text-align: center">No</td>
</tr>
</tbody></table>

<p>The above are the most common types of profile segments, since it&#39;s a JSON object you can specify any other fields you wish to use for personalization.</p>
<h3 id='event'>Event</h3>
<p>Field descriptions differ per event type. Please refer to the event descriptions below to know what fields are required.</p>
<h3 id='context'>Context</h3>
<p>OPTIONAL. We use incoming HTTP headers to fill in this object, therefore this object is optional. You can specify context if you are sending historical data, or have any other special requirements that require overriding the default headers.</p>

<p>Refer to the example json on the right to view the format.</p>
<pre class="highlight json tab-json"><code><span class="w">  </span><span class="s2">"context"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"ip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12.34.56.78"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"user-agent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_6) AppleWebKit/604.5.6 (KHTML, like Gecko) Version/11.0.3 Safari/604.5.6"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th style="text-align: center"><strong>Field</strong></th>
<th style="text-align: center"><strong>Data Type</strong></th>
<th style="text-align: center"><strong>Description</strong></th>
<th style="text-align: center"><strong>Mandatory</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">ip</td>
<td style="text-align: center">text</td>
<td style="text-align: center">IP address</td>
<td style="text-align: center">No</td>
</tr>
<tr>
<td style="text-align: center">user_agent</td>
<td style="text-align: center">String</td>
<td style="text-align: center">User agent string of the browser</td>
<td style="text-align: center">No</td>
</tr>
</tbody></table>
<h3 id='timestamp'>Timestamp</h3>
<p>OPTIONAL. Only required if you&#39;re sending us historical events, if not, we log the event at the time we received it.</p>

<p>Refer to the example json on the right to view the format.</p>
<pre class="highlight json tab-json"><code><span class="w">  </span><span class="s2">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-01-23T00:30:08.276Z"</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th style="text-align: center"><strong>Field</strong></th>
<th style="text-align: center"><strong>Data Type</strong></th>
<th style="text-align: center"><strong>Description</strong></th>
<th style="text-align: center"><strong>Mandatory</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">timestamp</td>
<td style="text-align: center">ISO 8601 date</td>
<td style="text-align: center">The current time in UTC for when the event happened. E.g. &quot;2017-11-01T00:29:03.123Z&quot;</td>
<td style="text-align: center">No</td>
</tr>
</tbody></table>
<h2 id='home-page-view'>Home Page View</h2>
<p>Request banner and product recommendations when a user visits your home page</p>

<table><thead>
<tr>
<th style="text-align: center"><strong>Field</strong></th>
<th style="text-align: center"><strong>Data Type</strong></th>
<th style="text-align: center"><strong>Description</strong></th>
<th style="text-align: center"><strong>Mandatory</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">type</td>
<td style="text-align: center">String</td>
<td style="text-align: center">Set to &#39;pageview&#39;</td>
<td style="text-align: center">Yes</td>
</tr>
<tr>
<td style="text-align: center">subtype</td>
<td style="text-align: center">String</td>
<td style="text-align: center">Set to &#39;home&#39;</td>
<td style="text-align: center">Yes</td>
</tr>
</tbody></table>
<pre class="highlight javascript tab-javascript--browser"><code><span class="kr">const</span> <span class="nx">url</span> <span class="o">=</span> <span class="s2">"https://api.datacue.co/v1/events"</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"user"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"user_id"</span><span class="p">:</span> <span class="s2">"019mr8mf4r"</span><span class="p">,</span>
    <span class="s2">"anonymous_id"</span><span class="p">:</span> <span class="s2">"07d35b1a-5776-4ddf-8f1c-dd0d2db9c502"</span><span class="p">,</span>
    <span class="s2">"profile"</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">"sex"</span><span class="p">:</span> <span class="s2">"female"</span><span class="p">,</span>
      <span class="s2">"location"</span><span class="p">:</span> <span class="s2">"Santiago"</span><span class="p">,</span>
      <span class="s2">"segment"</span><span class="p">:</span> <span class="s2">"platinum"</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="s2">"event"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"pageview"</span><span class="p">,</span>
    <span class="s2">"subtype"</span><span class="p">:</span> <span class="s2">"home"</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="c1">// The parameters we are going to pass to the fetch function</span>
<span class="kd">let</span> <span class="nx">fetchData</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">method</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
    <span class="na">body</span><span class="p">:</span> <span class="nx">data</span><span class="p">,</span>
    <span class="na">headers</span><span class="p">:</span> <span class="k">new</span> <span class="nx">Headers</span><span class="p">(</span>
      <span class="s2">"Content-Type"</span><span class="p">,</span> <span class="s2">"application/json"</span><span class="p">,</span>
      <span class="s2">"Authorization"</span><span class="p">:</span> <span class="s2">"Basic VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw=="</span>
    <span class="p">)</span>
<span class="p">}</span>
<span class="nx">fetch</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">fetchData</span><span class="p">)</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">res</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">())</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">data</span><span class="p">)</span> <span class="o">=&gt;</span>  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">))</span>
<span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">))</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?</span>
<span class="c1">//browser only event (refer to the javascript tab)
</span><span class="cp">?&gt;</span>
</code></pre><pre class="highlight python tab-python"><code><span class="c">#browser only event (refer to the javascript tab)</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="c1">//browser only event (refer to the javascript tab)</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"main_banners"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/category/bathroom"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="s2">"banner_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"B1"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"photo_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/banners/bathroom/bathroom-min.jpeg"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"sub_banners"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/category/bathroom/organizer"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="s2">"banner_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"B6"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"photo_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/banners/bathroom/subbanner_organizer.jpeg"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/category/bathroom/racks"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="s2">"banner_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"B7"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"photo_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/banners/bathroom/subbanner_racks.jpeg"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/category/bathroom/towels"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="s2">"banner_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"B8"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"photo_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/banners/bathroom/subbanner_towels.jpeg"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"related_product_skus"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/product/double-bed-2"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Luxury Double Bed"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">1299</span><span class="p">,</span><span class="w">
      </span><span class="s2">"photo_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/products/18.jpg"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"category_1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bedroom"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"product_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"18"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/product/sofa-4"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Contemporary Sofa"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">329</span><span class="p">,</span><span class="w">
      </span><span class="s2">"photo_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/products/59.jpg"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"category_1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"living-room"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"product_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"59"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/product/cutleries-2"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Decorative Flatware"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">79</span><span class="p">,</span><span class="w">
      </span><span class="s2">"photo_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/products/41.jpg"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"category_1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"kitchen"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"product_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"41"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/product/table-1"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Modern Table"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">219</span><span class="p">,</span><span class="w">
      </span><span class="s2">"photo_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/products/48.jpg"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"category_1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"kitchen"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"product_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"48"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/product/rack-4"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sturdy Rack"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">49</span><span class="p">,</span><span class="w">
      </span><span class="s2">"photo_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/products/8.jpg"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"category_1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bathroom"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"product_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/product/organizer-4"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Scandinavian Organizer"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">69</span><span class="p">,</span><span class="w">
      </span><span class="s2">"photo_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/products/12.jpg"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"category_1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bathroom"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"product_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"recent_product_skus"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"product_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"18"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"variant_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Luxury Double Bed"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1299.00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"photo_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/products/18.jpg"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/product/double-bed-2"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"extra"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"discount"</span><span class="p">:</span><span class="s2">"20%"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th style="text-align: center"><strong>Field</strong></th>
<th style="text-align: center"><strong>Data Type</strong></th>
<th style="text-align: center"><strong>Description</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">main_banners</td>
<td style="text-align: center">Array</td>
<td style="text-align: center">An array of banner objects recommended for the current user</td>
</tr>
<tr>
<td style="text-align: center">sub_banners</td>
<td style="text-align: center">Array</td>
<td style="text-align: center">An array of sub banner objects recommended for the current user</td>
</tr>
<tr>
<td style="text-align: center">related_product_skus</td>
<td style="text-align: center">Array</td>
<td style="text-align: center">An array of product objects recommended for the current user</td>
</tr>
<tr>
<td style="text-align: center">recent_product_skus</td>
<td style="text-align: center">Array</td>
<td style="text-align: center">A live list of the last products the current user has viewed</td>
</tr>
</tbody></table>
<h2 id='product-page-view'>Product Page View</h2>
<p>Request product recommendations when a user visits a product page</p>

<table><thead>
<tr>
<th style="text-align: center"><strong>Response Field</strong></th>
<th style="text-align: center"><strong>Data Type</strong></th>
<th style="text-align: center"><strong>Description</strong></th>
<th style="text-align: center"><strong>Mandatory</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">type</td>
<td style="text-align: center">String</td>
<td style="text-align: center">Set to &#39;pageview&#39;</td>
<td style="text-align: center">Yes</td>
</tr>
<tr>
<td style="text-align: center">subtype</td>
<td style="text-align: center">String</td>
<td style="text-align: center">Set to &#39;product&#39;</td>
<td style="text-align: center">Yes</td>
</tr>
<tr>
<td style="text-align: center">product_id</td>
<td style="text-align: center">String</td>
<td style="text-align: center">Set to product id being viewed</td>
<td style="text-align: center">Yes</td>
</tr>
</tbody></table>
<pre class="highlight javascript tab-javascript--browser"><code><span class="kr">const</span> <span class="nx">url</span> <span class="o">=</span> <span class="s2">"https://api.datacue.co/v1/events"</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"user"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"user_id"</span><span class="p">:</span> <span class="s2">"019mr8mf4r"</span><span class="p">,</span>
    <span class="s2">"anonymous_id"</span><span class="p">:</span> <span class="s2">"07d35b1a-5776-4ddf-8f1c-dd0d2db9c502"</span><span class="p">,</span>
    <span class="s2">"profile"</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">"sex"</span><span class="p">:</span> <span class="s2">"female"</span><span class="p">,</span>
      <span class="s2">"location"</span><span class="p">:</span> <span class="s2">"santiago"</span><span class="p">,</span>
      <span class="s2">"segment"</span><span class="p">:</span> <span class="s2">"platinum"</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="s2">"event"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"pageview"</span><span class="p">,</span>
    <span class="s2">"subtype"</span><span class="p">:</span> <span class="s2">"product"</span><span class="p">,</span>
    <span class="s2">"product_id"</span><span class="p">:</span> <span class="s2">"p1"</span><span class="p">,</span>
    <span class="s2">"variant_id"</span><span class="p">:</span> <span class="s2">"v1"</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="c1">// The parameters we are going to pass to the fetch function</span>
<span class="kd">let</span> <span class="nx">fetchData</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">method</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
    <span class="na">body</span><span class="p">:</span> <span class="nx">data</span><span class="p">,</span>
    <span class="na">headers</span><span class="p">:</span> <span class="k">new</span> <span class="nx">Headers</span><span class="p">(</span>
      <span class="s2">"Content-Type"</span><span class="p">,</span> <span class="s2">"application/json"</span><span class="p">,</span>
      <span class="s2">"Authorization"</span><span class="p">:</span> <span class="s2">"Basic VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw=="</span>
      <span class="p">)</span>
<span class="p">}</span>
<span class="nx">fetch</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">fetchData</span><span class="p">)</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">res</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">())</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">data</span><span class="p">)</span> <span class="o">=&gt;</span>  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">))</span>
<span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">))</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?</span>
<span class="c1">//browser only event (refer to the javascript tab)
</span><span class="cp">?&gt;</span>
</code></pre><pre class="highlight python tab-python"><code><span class="c">#browser only event (refer to the javascript tab)</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="c1">//browser only event (refer to the javascript tab)</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"similar_product_skus"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/product/sofa-1"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Soft Sofa"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">299</span><span class="p">,</span><span class="w">
      </span><span class="s2">"photo_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/products/56.jpg"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"category_1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"living-room"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"product_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"56"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/product/outdoor-sofa-3"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Wicker Sofa"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">299</span><span class="p">,</span><span class="w">
      </span><span class="s2">"photo_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/products/38.jpg"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"category_1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"outdoors"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"product_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"38"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/product/towel-2"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Soft Towel"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">39</span><span class="p">,</span><span class="w">
      </span><span class="s2">"photo_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/products/2.jpg"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"category_1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bathroom"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"product_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/product/single-bed-1"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Basic Bed"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">299</span><span class="p">,</span><span class="w">
      </span><span class="s2">"photo_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/products/16.jpg"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"category_1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bedroom"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"product_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"16"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/product/sofa-3"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Modern Sofa"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">259</span><span class="p">,</span><span class="w">
      </span><span class="s2">"photo_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/products/58.jpg"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"category_1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"living-room"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"product_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"58"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/product/rack-2"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Handicraft Rack"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">49</span><span class="p">,</span><span class="w">
      </span><span class="s2">"photo_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/products/6.jpg"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"category_1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bathroom"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"product_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"related_product_skus"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"recent_product_skus"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"product_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"18"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"variant_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Luxury Double Bed"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1299.00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"photo_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/products/18.jpg"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/product/double-bed-2"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"extra"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th style="text-align: center"><strong>Response Field</strong></th>
<th style="text-align: center"><strong>Data Type</strong></th>
<th style="text-align: center"><strong>Description</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">similar_product_skus</td>
<td style="text-align: center">Array</td>
<td style="text-align: center">An array of product objects with similar characteristics to the current product</td>
</tr>
<tr>
<td style="text-align: center">related_product_skus</td>
<td style="text-align: center">Array</td>
<td style="text-align: center">An array of product objects that are frequently bought with the current product</td>
</tr>
<tr>
<td style="text-align: center">recent_product_skus</td>
<td style="text-align: center">Array</td>
<td style="text-align: center">A live list of the last products the current user has viewed</td>
</tr>
</tbody></table>
<h2 id='category-page-view'>Category Page View</h2>
<p>Pages showing multiple products on a page, these are commonly called category, collection or catalog pages.</p>

<table><thead>
<tr>
<th style="text-align: center"><strong>Field</strong></th>
<th style="text-align: center"><strong>Data Type</strong></th>
<th style="text-align: center"><strong>Description</strong></th>
<th style="text-align: center"><strong>Mandatory</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">type</td>
<td style="text-align: center">String</td>
<td style="text-align: center">Set to &#39;pageview&#39;</td>
<td style="text-align: center">Yes</td>
</tr>
<tr>
<td style="text-align: center">subtype</td>
<td style="text-align: center">String</td>
<td style="text-align: center">Set to &#39;category&#39;</td>
<td style="text-align: center">Yes</td>
</tr>
<tr>
<td style="text-align: center">category_name</td>
<td style="text-align: center">String</td>
<td style="text-align: center">Set to the name of the category being viewed</td>
<td style="text-align: center">Yes</td>
</tr>
</tbody></table>
<pre class="highlight javascript tab-javascript--browser"><code><span class="kr">const</span> <span class="nx">url</span> <span class="o">=</span> <span class="s2">"https://api.datacue.co/v1/events"</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"user"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"user_id"</span><span class="p">:</span> <span class="s2">"019mr8mf4r"</span><span class="p">,</span>
    <span class="s2">"anonymous_id"</span><span class="p">:</span> <span class="s2">"07d35b1a-5776-4ddf-8f1c-dd0d2db9c502"</span><span class="p">,</span>
    <span class="s2">"profile"</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">"sex"</span><span class="p">:</span> <span class="s2">"female"</span><span class="p">,</span>
      <span class="s2">"location"</span><span class="p">:</span> <span class="s2">"santiago"</span><span class="p">,</span>
      <span class="s2">"segment"</span><span class="p">:</span> <span class="s2">"platinum"</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="s2">"event"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"pageview"</span><span class="p">,</span>
    <span class="s2">"subtype"</span><span class="p">:</span> <span class="s2">"category"</span><span class="p">,</span>
    <span class="s2">"category_name"</span><span class="p">:</span> <span class="s2">"living-room"</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="c1">// The parameters we are going to pass to the fetch function</span>
<span class="kd">let</span> <span class="nx">fetchData</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">method</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
    <span class="na">body</span><span class="p">:</span> <span class="nx">data</span><span class="p">,</span>
    <span class="na">headers</span><span class="p">:</span> <span class="k">new</span> <span class="nx">Headers</span><span class="p">(</span>
      <span class="s2">"Content-Type"</span><span class="p">,</span> <span class="s2">"application/json"</span><span class="p">,</span>
      <span class="s2">"Authorization"</span><span class="p">:</span> <span class="s2">"Basic VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw=="</span>
      <span class="p">)</span>
<span class="p">}</span>
<span class="nx">fetch</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">fetchData</span><span class="p">)</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">res</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">())</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">data</span><span class="p">)</span> <span class="o">=&gt;</span>  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">))</span>
<span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">))</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?</span>
<span class="c1">//browser only event (refer to the javascript tab)
</span><span class="cp">?&gt;</span>
</code></pre><pre class="highlight python tab-python"><code><span class="c">#browser only event (refer to the javascript tab)</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="c1">//browser only event (refer to the javascript tab)</span>
</code></pre>
<blockquote>
<p>The above command returns a 204 response code</p>
</blockquote>
<h2 id='shopping-cart-view-cart-add-remove-item'>Shopping Cart (View Cart, Add/Remove Item)</h2>
<p>Record activity on a users shopping cart, typically when the cart is viewed, or an item is added or removed.</p>

<table><thead>
<tr>
<th style="text-align: center"><strong>Field</strong></th>
<th style="text-align: center"><strong>Data Type</strong></th>
<th style="text-align: center"><strong>Description</strong></th>
<th style="text-align: center"><strong>Mandatory</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">type</td>
<td style="text-align: center">String</td>
<td style="text-align: center">Set to &#39;viewcart&#39;</td>
<td style="text-align: center">Yes</td>
</tr>
<tr>
<td style="text-align: center">cart</td>
<td style="text-align: center">Array</td>
<td style="text-align: center">Specify an array of product_ids and optionally variant_ids</td>
<td style="text-align: center">Yes</td>
</tr>
</tbody></table>
<pre class="highlight javascript tab-javascript--browser"><code><span class="kr">const</span> <span class="nx">url</span> <span class="o">=</span> <span class="s2">"https://api.datacue.co/v1/events"</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"user"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"user_id"</span><span class="p">:</span> <span class="s2">"019mr8mf4r"</span><span class="p">,</span>
    <span class="s2">"anonymous_id"</span><span class="p">:</span> <span class="s2">"07d35b1a-5776-4ddf-8f1c-dd0d2db9c502"</span><span class="p">,</span>
    <span class="s2">"profile"</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">"sex"</span><span class="p">:</span> <span class="s2">"female"</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="s2">"event"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"viewcart"</span><span class="p">,</span>
    <span class="s2">"cart"</span><span class="p">:</span> <span class="p">[{</span>
                <span class="s2">"product_id"</span><span class="p">:</span><span class="s2">"p1"</span><span class="p">,</span>
                <span class="s2">"variant_id"</span><span class="p">:</span><span class="s2">"v1"</span>
              <span class="p">},{</span>
                <span class="s2">"product_id"</span><span class="p">:</span><span class="s2">"p2"</span><span class="p">,</span>
                <span class="s2">"variant_id"</span><span class="p">:</span><span class="s2">"v1"</span>
              <span class="p">},{</span>
                <span class="s2">"product_id"</span><span class="p">:</span><span class="s2">"p3"</span><span class="p">,</span>
                <span class="s2">"variant_id"</span><span class="p">:</span><span class="s2">"v1"</span>
              <span class="p">}</span>
          <span class="p">]</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="c1">// The parameters we are going to pass to the fetch function</span>
<span class="kd">let</span> <span class="nx">fetchData</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">method</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
    <span class="na">body</span><span class="p">:</span> <span class="nx">data</span><span class="p">,</span>
    <span class="na">headers</span><span class="p">:</span> <span class="k">new</span> <span class="nx">Headers</span><span class="p">(</span>
      <span class="s2">"Content-Type"</span><span class="p">,</span> <span class="s2">"application/json"</span><span class="p">,</span>
      <span class="s2">"Authorization"</span><span class="p">:</span> <span class="s2">"Basic VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw=="</span>
      <span class="p">)</span>
<span class="p">}</span>
<span class="nx">fetch</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">fetchData</span><span class="p">)</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">res</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">())</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">data</span><span class="p">)</span> <span class="o">=&gt;</span>  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">))</span>
<span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">))</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?</span>
<span class="c1">//browser only event (refer to the javascript tab)
</span><span class="cp">?&gt;</span>
</code></pre><pre class="highlight python tab-python"><code><span class="c">#browser only event (refer to the javascript tab)</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="c1">//browser only event (refer to the javascript tab)</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"related_product_skus"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"product_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"37"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"variant_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"v1"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"category_1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"outdoors"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"category_2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sofa"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Outdoor Armchair"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/outdoor-sofa-2"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"199"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"photo_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/products/37.jpg"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"extras"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="s2">"discount"</span><span class="p">:</span><span class="s2">"10%"</span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"product_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"45"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"variant_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"v1"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"category_1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"living-room"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"category_2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"lamp"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Beautiful lamp"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/living-room/45"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"49"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"photo_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/products/45.jpg"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"extras"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
    </span><span class="p">},</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h2 id='search-page-view'>Search Page View</h2>
<p>Record when a user performs a search on your website</p>

<table><thead>
<tr>
<th style="text-align: center"><strong>Field</strong></th>
<th style="text-align: center"><strong>Data Type</strong></th>
<th style="text-align: center"><strong>Description</strong></th>
<th style="text-align: center"><strong>Mandatory</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">type</td>
<td style="text-align: center">String</td>
<td style="text-align: center">Set to &#39;search&#39;</td>
<td style="text-align: center">Yes</td>
</tr>
<tr>
<td style="text-align: center">term</td>
<td style="text-align: center">String</td>
<td style="text-align: center">Set to the user&#39;s search term</td>
<td style="text-align: center">Yes</td>
</tr>
</tbody></table>
<pre class="highlight javascript tab-javascript--browser"><code><span class="kr">const</span> <span class="nx">url</span> <span class="o">=</span> <span class="s2">"https://api.datacue.co/v1/events"</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"user"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"user_id"</span><span class="p">:</span> <span class="s2">"019mr8mf4r"</span><span class="p">,</span>
    <span class="s2">"anonymous_id"</span><span class="p">:</span> <span class="s2">"07d35b1a-5776-4ddf-8f1c-dd0d2db9c502"</span><span class="p">,</span>
    <span class="s2">"profile"</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">"sex"</span><span class="p">:</span> <span class="s2">"female"</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="s2">"event"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"search"</span><span class="p">,</span>
    <span class="s2">"term"</span><span class="p">:</span> <span class="s2">"tables"</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="c1">// The parameters we are going to pass to the fetch function</span>
<span class="kd">let</span> <span class="nx">fetchData</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">method</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
    <span class="na">body</span><span class="p">:</span> <span class="nx">data</span><span class="p">,</span>
    <span class="na">headers</span><span class="p">:</span> <span class="k">new</span> <span class="nx">Headers</span><span class="p">(</span>
      <span class="s2">"Content-Type"</span><span class="p">,</span> <span class="s2">"application/json"</span><span class="p">,</span>
      <span class="s2">"Authorization"</span><span class="p">:</span> <span class="s2">"Basic VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw=="</span>
      <span class="p">)</span>
<span class="p">}</span>
<span class="nx">fetch</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">fetchData</span><span class="p">)</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">res</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">())</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">data</span><span class="p">)</span> <span class="o">=&gt;</span>  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">))</span>
<span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">))</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?</span>
<span class="c1">//browser only event (refer to the javascript tab)
</span><span class="cp">?&gt;</span>
</code></pre><pre class="highlight python tab-python"><code><span class="c">#browser only event (refer to the javascript tab)</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="c1">//browser only event (refer to the javascript tab)</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"related_product_skus"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"product_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"37"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"variant_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"category_1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"outdoors"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"category_2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sofa"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"category_3"</span><span class="p">:</span><span class="w"> </span><span class="s2">"scandinavian"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"category_4"</span><span class="p">:</span><span class="w"> </span><span class="s2">"modern"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Outdoor Armchair"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/outdoor-sofa-2"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"199"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"photo_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/products/37.jpg"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"extras"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="s2">"discount"</span><span class="p">:</span><span class="s2">"10%"</span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h2 id='update-wishlist'>Update Wishlist</h2>
<p>Record changes to users wishlist, typically when the wishlist is viewed, or a product is added or removed from the wishlist.</p>

<table><thead>
<tr>
<th style="text-align: center"><strong>Field</strong></th>
<th style="text-align: center"><strong>Data Type</strong></th>
<th style="text-align: center"><strong>Description</strong></th>
<th style="text-align: center"><strong>Mandatory</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">type</td>
<td style="text-align: center">String</td>
<td style="text-align: center">Set to &#39;wishlist&#39;</td>
<td style="text-align: center">Yes</td>
</tr>
<tr>
<td style="text-align: center">wishlist</td>
<td style="text-align: center">Array</td>
<td style="text-align: center">Provide an array of product_ids and optionally variant_ids</td>
<td style="text-align: center">Yes</td>
</tr>
</tbody></table>
<pre class="highlight javascript tab-javascript--browser"><code><span class="kr">const</span> <span class="nx">url</span> <span class="o">=</span> <span class="s2">"https://api.datacue.co/v1/events"</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"user"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"user_id"</span><span class="p">:</span> <span class="s2">"019mr8mf4r"</span><span class="p">,</span>
    <span class="s2">"anonymous_id"</span><span class="p">:</span> <span class="s2">"07d35b1a-5776-4ddf-8f1c-dd0d2db9c502a1"</span><span class="p">,</span>
    <span class="s2">"profile"</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">"sex"</span><span class="p">:</span> <span class="s2">"female"</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="s2">"event"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"wishlist"</span><span class="p">,</span>
    <span class="s2">"wishlist"</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">{</span>
        <span class="s2">"product_id"</span><span class="p">:</span> <span class="s2">"p1"</span><span class="p">,</span>
        <span class="s2">"variant_id"</span><span class="p">:</span> <span class="s2">"v1"</span>
      <span class="p">},</span>
      <span class="p">{</span>
        <span class="s2">"product_id"</span><span class="p">:</span> <span class="s2">"p2"</span><span class="p">,</span>
        <span class="s2">"variant_id"</span><span class="p">:</span> <span class="s2">"v2"</span>
      <span class="p">}</span>
    <span class="p">]</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="c1">// The parameters we are going to pass to the fetch function</span>
<span class="kd">let</span> <span class="nx">fetchData</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">method</span><span class="p">:</span> <span class="s2">"PUT"</span><span class="p">,</span>
    <span class="na">body</span><span class="p">:</span> <span class="nx">data</span><span class="p">,</span>
    <span class="na">headers</span><span class="p">:</span> <span class="k">new</span> <span class="nx">Headers</span><span class="p">(</span>
      <span class="s2">"Content-Type"</span><span class="p">,</span> <span class="s2">"application/json"</span><span class="p">,</span>
      <span class="s2">"Authorization"</span><span class="p">:</span> <span class="s2">"Basic VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw=="</span>
      <span class="p">)</span>
<span class="p">}</span>
<span class="nx">fetch</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">fetchData</span><span class="p">)</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">res</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">())</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">data</span><span class="p">)</span> <span class="o">=&gt;</span>  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">))</span>
<span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">))</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?</span>
<span class="c1">//browser only event (refer to the javascript tab)
</span><span class="cp">?&gt;</span>
</code></pre><pre class="highlight python tab-python"><code><span class="c">#browser only event (refer to the javascript tab)</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="c1">//browser only event (refer to the javascript tab)</span>
</code></pre>
<blockquote>
<p>The above command returns a 204 response code</p>
</blockquote>
<h2 id='banner-click'>Banner Click</h2>
<p>Record clicks to a banner or a sub banner, typically on your home page</p>

<table><thead>
<tr>
<th style="text-align: center"><strong>Field</strong></th>
<th style="text-align: center"><strong>Data Type</strong></th>
<th style="text-align: center"><strong>Description</strong></th>
<th style="text-align: center"><strong>Mandatory</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">type</td>
<td style="text-align: center">String</td>
<td style="text-align: center">Set to &#39;click&#39;</td>
<td style="text-align: center">Yes</td>
</tr>
<tr>
<td style="text-align: center">subtype</td>
<td style="text-align: center">String</td>
<td style="text-align: center">Set to &#39;banner&#39;</td>
<td style="text-align: center">Yes</td>
</tr>
<tr>
<td style="text-align: center">banner_id</td>
<td style="text-align: center">String</td>
<td style="text-align: center">Set to the id of the clicked banner</td>
<td style="text-align: center">Yes</td>
</tr>
</tbody></table>
<pre class="highlight javascript tab-javascript--browser"><code><span class="kr">const</span> <span class="nx">url</span> <span class="o">=</span> <span class="s2">"https://api.datacue.co/v1/events"</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"user"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"user_id"</span><span class="p">:</span> <span class="s2">"019mr8mf4r"</span><span class="p">,</span>
    <span class="s2">"anonymous_id"</span><span class="p">:</span> <span class="s2">"07d35b1a-5776-4ddf-8f1c-dd0d2db9c502a1"</span><span class="p">,</span>
    <span class="s2">"profile"</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">"sex"</span><span class="p">:</span> <span class="s2">"mujer"</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="s2">"event"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"click"</span><span class="p">,</span>
    <span class="s2">"subtype"</span><span class="p">:</span> <span class="s2">"banner"</span><span class="p">,</span>
    <span class="s2">"banner_id"</span><span class="p">:</span> <span class="s2">"b1"</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="c1">// The parameters we are going to pass to the fetch function</span>
<span class="kd">let</span> <span class="nx">fetchData</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">method</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
    <span class="na">body</span><span class="p">:</span> <span class="nx">data</span><span class="p">,</span>
    <span class="na">headers</span><span class="p">:</span> <span class="k">new</span> <span class="nx">Headers</span><span class="p">(</span>
      <span class="s2">"Content-Type"</span><span class="p">,</span> <span class="s2">"application/json"</span><span class="p">,</span>
      <span class="s2">"Authorization"</span><span class="p">:</span> <span class="s2">"Basic VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw=="</span>
      <span class="p">)</span>
<span class="p">}</span>
<span class="nx">fetch</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">fetchData</span><span class="p">)</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">res</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">())</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">data</span><span class="p">)</span> <span class="o">=&gt;</span>  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">))</span>
<span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">))</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?</span>
<span class="c1">//browser only event (refer to the javascript tab)
</span><span class="cp">?&gt;</span>
</code></pre><pre class="highlight python tab-python"><code><span class="c">#browser only event (refer to the javascript tab)</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="c1">//browser only event (refer to the javascript tab)</span>
</code></pre>
<blockquote>
<p>The above command returns a 204 response code</p>
</blockquote>
<h2 id='product-click'>Product Click</h2>
<p>Record clicks on a product anywhere on your website.</p>

<table><thead>
<tr>
<th style="text-align: center"><strong>Field</strong></th>
<th style="text-align: center"><strong>Data Type</strong></th>
<th style="text-align: center"><strong>Description</strong></th>
<th style="text-align: center"><strong>Mandatory</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">type</td>
<td style="text-align: center">String</td>
<td style="text-align: center">Set to &#39;click&#39;</td>
<td style="text-align: center">Yes</td>
</tr>
<tr>
<td style="text-align: center">subtype</td>
<td style="text-align: center">String</td>
<td style="text-align: center">Set to &#39;product&#39;</td>
<td style="text-align: center">Yes</td>
</tr>
<tr>
<td style="text-align: center">banner_id</td>
<td style="text-align: center">String</td>
<td style="text-align: center">Set to the id of the clicked product</td>
<td style="text-align: center">Yes</td>
</tr>
</tbody></table>
<pre class="highlight javascript tab-javascript--browser"><code><span class="kr">const</span> <span class="nx">url</span> <span class="o">=</span> <span class="s2">"https://api.datacue.co/v1/events"</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"user"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"user_id"</span><span class="p">:</span> <span class="s2">"019mr8mf4r"</span><span class="p">,</span>
    <span class="s2">"anonymous_id"</span><span class="p">:</span> <span class="s2">"07d35b1a-5776-4ddf-8f1c-dd0d2db9c502a1"</span><span class="p">,</span>
    <span class="s2">"profile"</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">"sex"</span><span class="p">:</span> <span class="s2">"female"</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="s2">"event"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"click"</span><span class="p">,</span>
    <span class="s2">"subtype"</span><span class="p">:</span> <span class="s2">"product"</span><span class="p">,</span>
    <span class="s2">"product_id"</span><span class="p">:</span> <span class="s2">"p2"</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="c1">// The parameters we are going to pass to the fetch function</span>
<span class="kd">let</span> <span class="nx">fetchData</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">method</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
    <span class="na">body</span><span class="p">:</span> <span class="nx">data</span><span class="p">,</span>
    <span class="na">headers</span><span class="p">:</span> <span class="k">new</span> <span class="nx">Headers</span><span class="p">(</span>
      <span class="s2">"Content-Type"</span><span class="p">,</span> <span class="s2">"application/json"</span><span class="p">,</span>
      <span class="s2">"Authorization"</span><span class="p">:</span> <span class="s2">"Basic VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw=="</span>
      <span class="p">)</span>
<span class="p">}</span>
<span class="nx">fetch</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">fetchData</span><span class="p">)</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">res</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">())</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">data</span><span class="p">)</span> <span class="o">=&gt;</span>  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">))</span>
<span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">))</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?</span>
<span class="c1">//browser only event (refer to the javascript tab)
</span><span class="cp">?&gt;</span>
</code></pre><pre class="highlight python tab-python"><code><span class="c">#browser only event (refer to the javascript tab)</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="c1">//browser only event (refer to the javascript tab)</span>
</code></pre>
<blockquote>
<p>The above command returns a 204 response code</p>
</blockquote>
<h2 id='check-out-start-order'>Check Out (Start Order)</h2>
<p>Record the moment the user initiates the check out process, typically from their shopping cart.</p>

<table><thead>
<tr>
<th style="text-align: center"><strong>Field</strong></th>
<th style="text-align: center"><strong>Data Type</strong></th>
<th style="text-align: center"><strong>Description</strong></th>
<th style="text-align: center"><strong>Mandatory</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">type</td>
<td style="text-align: center">String</td>
<td style="text-align: center">Set to &#39;order&#39;</td>
<td style="text-align: center">Yes</td>
</tr>
<tr>
<td style="text-align: center">subtype</td>
<td style="text-align: center">String</td>
<td style="text-align: center">Set to &#39;started&#39;</td>
<td style="text-align: center">Yes</td>
</tr>
<tr>
<td style="text-align: center">order_id</td>
<td style="text-align: center">String</td>
<td style="text-align: center">Set to the id of the order (if available)</td>
<td style="text-align: center">No</td>
</tr>
<tr>
<td style="text-align: center">cart</td>
<td style="text-align: center">Array</td>
<td style="text-align: center">Cart contents as an array of product, variant, unit price, quantity and currency</td>
<td style="text-align: center">Yes</td>
</tr>
</tbody></table>
<pre class="highlight javascript tab-javascript--browser"><code><span class="kr">const</span> <span class="nx">url</span> <span class="o">=</span> <span class="s2">"https://api.datacue.co/v1/events"</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"user"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"user_id"</span><span class="p">:</span> <span class="s2">"019mr8mf4r"</span><span class="p">,</span>
    <span class="s2">"anonymous_id"</span><span class="p">:</span> <span class="s2">"07d35b1a-5776-4ddf-8f1c-dd0d2db9c502a1"</span><span class="p">,</span>
    <span class="s2">"profile"</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">"sex"</span><span class="p">:</span> <span class="s2">"female"</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="s2">"event"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"order"</span><span class="p">,</span>
    <span class="s2">"subtype"</span><span class="p">:</span> <span class="s2">"started"</span><span class="p">,</span>
    <span class="s2">"order_id"</span><span class="p">:</span> <span class="s2">"o1"</span><span class="p">,</span>
    <span class="s2">"cart"</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">{</span>
        <span class="s2">"product_id"</span><span class="p">:</span> <span class="s2">"p1"</span><span class="p">,</span>
        <span class="s2">"variant"</span><span class="p">:</span> <span class="s2">"v1"</span><span class="p">,</span>
        <span class="s2">"quantity"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="s2">"price"</span><span class="p">:</span> <span class="mi">24</span><span class="p">,</span>
        <span class="s2">"currency"</span><span class="p">:</span> <span class="s2">"USD"</span>
      <span class="p">}</span>
    <span class="p">]</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="c1">// The parameters we are going to pass to the fetch function</span>
<span class="kd">let</span> <span class="nx">fetchData</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">method</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
    <span class="na">body</span><span class="p">:</span> <span class="nx">data</span><span class="p">,</span>
    <span class="na">headers</span><span class="p">:</span> <span class="k">new</span> <span class="nx">Headers</span><span class="p">(</span>
      <span class="s2">"Content-Type"</span><span class="p">,</span> <span class="s2">"application/json"</span><span class="p">,</span>
      <span class="s2">"Authorization"</span><span class="p">:</span> <span class="s2">"Basic VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw=="</span>
      <span class="p">)</span>
<span class="p">}</span>
<span class="nx">fetch</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">fetchData</span><span class="p">)</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">res</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">())</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">data</span><span class="p">)</span> <span class="o">=&gt;</span>  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">))</span>
<span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">))</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?</span>
<span class="c1">//browser only event (refer to the javascript tab)
</span><span class="cp">?&gt;</span>
</code></pre><pre class="highlight python tab-python"><code><span class="c">#browser only event (refer to the javascript tab)</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="c1">//browser only event (refer to the javascript tab)</span>
</code></pre>
<blockquote>
<p>The above command returns a 204 response code</p>
</blockquote>
<h2 id='complete-order'>Complete Order</h2>
<p>Record the moment the order (or checkout) is completed.</p>

<table><thead>
<tr>
<th style="text-align: center"><strong>Field</strong></th>
<th style="text-align: center"><strong>Data Type</strong></th>
<th style="text-align: center"><strong>Description</strong></th>
<th style="text-align: center"><strong>Mandatory</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">type</td>
<td style="text-align: center">String</td>
<td style="text-align: center">Set to &#39;order&#39;</td>
<td style="text-align: center">Yes</td>
</tr>
<tr>
<td style="text-align: center">subtype</td>
<td style="text-align: center">String</td>
<td style="text-align: center">Set to &#39;completed&#39;</td>
<td style="text-align: center">Yes</td>
</tr>
<tr>
<td style="text-align: center">order_id</td>
<td style="text-align: center">String</td>
<td style="text-align: center">Set to the id of the order</td>
<td style="text-align: center">Yes</td>
</tr>
<tr>
<td style="text-align: center">cart</td>
<td style="text-align: center">Array</td>
<td style="text-align: center">Cart contents as an array of product, variant, unit price, quantity and currency</td>
<td style="text-align: center">Yes</td>
</tr>
<tr>
<td style="text-align: center">payment_method</td>
<td style="text-align: center">String</td>
<td style="text-align: center">Specify the payment method used (for analytics)</td>
<td style="text-align: center">No</td>
</tr>
</tbody></table>
<pre class="highlight javascript tab-javascript--browser"><code><span class="kr">const</span> <span class="nx">url</span> <span class="o">=</span> <span class="s2">"https://api.datacue.co/v1/events"</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"user"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"user_id"</span><span class="p">:</span> <span class="s2">"019mr8mf4r"</span><span class="p">,</span>
    <span class="s2">"anonymous_id"</span><span class="p">:</span> <span class="s2">"07d35b1a-5776-4ddf-8f1c-dd0d2db9c502a1"</span><span class="p">,</span>
    <span class="s2">"profile"</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">"sex"</span><span class="p">:</span> <span class="s2">"female"</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="s2">"event"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"order"</span><span class="p">,</span>
    <span class="s2">"subtype"</span><span class="p">:</span> <span class="s2">"completed"</span><span class="p">,</span>
    <span class="s2">"order_id"</span><span class="p">:</span> <span class="s2">"o1"</span><span class="p">,</span>
    <span class="s2">"buyer_id"</span><span class="p">:</span> <span class="s2">""</span><span class="p">,</span>
    <span class="s2">"payment_method"</span><span class="p">:</span> <span class="s2">""</span><span class="p">,</span>
    <span class="s2">"cart"</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">{</span>
        <span class="s2">"product_id"</span><span class="p">:</span> <span class="s2">"p1"</span><span class="p">,</span>
        <span class="s2">"variant_id"</span><span class="p">:</span> <span class="s2">"v1"</span><span class="p">,</span>
        <span class="s2">"quantity"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="s2">"unit_price"</span><span class="p">:</span> <span class="mi">24000</span><span class="p">,</span>
        <span class="s2">"currency"</span><span class="p">:</span> <span class="s2">"USD"</span>
      <span class="p">}</span>
    <span class="p">]</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="c1">// The parameters we are going to pass to the fetch function</span>
<span class="kd">let</span> <span class="nx">fetchData</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">method</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
    <span class="na">body</span><span class="p">:</span> <span class="nx">data</span><span class="p">,</span>
    <span class="na">headers</span><span class="p">:</span> <span class="k">new</span> <span class="nx">Headers</span><span class="p">(</span>
      <span class="s2">"Content-Type"</span><span class="p">,</span> <span class="s2">"application/json"</span><span class="p">,</span>
      <span class="s2">"Authorization"</span><span class="p">:</span> <span class="s2">"Basic VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw=="</span>
      <span class="p">)</span>
<span class="p">}</span>
<span class="nx">fetch</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">fetchData</span><span class="p">)</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">res</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">())</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">data</span><span class="p">)</span> <span class="o">=&gt;</span>  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">))</span>
<span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">))</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?</span>
<span class="c1">//browser only event (refer to the javascript tab)
</span><span class="cp">?&gt;</span>
</code></pre><pre class="highlight python tab-python"><code><span class="c">#browser only event (refer to the javascript tab)</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="c1">//browser only event (refer to the javascript tab)</span>
</code></pre>
<blockquote>
<p>The above command returns a 204 response code</p>
</blockquote>
<h2 id='cancel-order'>Cancel Order</h2>
<p>Record the moment the order (or checkout) is cancelled.</p>

<table><thead>
<tr>
<th style="text-align: center"><strong>Field</strong></th>
<th style="text-align: center"><strong>Data Type</strong></th>
<th style="text-align: center"><strong>Description</strong></th>
<th style="text-align: center"><strong>Mandatory</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">type</td>
<td style="text-align: center">String</td>
<td style="text-align: center">Set to &#39;order&#39;</td>
<td style="text-align: center">Yes</td>
</tr>
<tr>
<td style="text-align: center">subtype</td>
<td style="text-align: center">String</td>
<td style="text-align: center">Set to &#39;cancelled&#39;</td>
<td style="text-align: center">Yes</td>
</tr>
<tr>
<td style="text-align: center">order_id</td>
<td style="text-align: center">String</td>
<td style="text-align: center">Set to the id of the order</td>
<td style="text-align: center">Yes</td>
</tr>
</tbody></table>
<pre class="highlight javascript tab-javascript--browser"><code><span class="kr">const</span> <span class="nx">url</span> <span class="o">=</span> <span class="s2">"https://api.datacue.co/v1/events"</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"user"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"user_id"</span><span class="p">:</span> <span class="s2">"019mr8mf4r"</span><span class="p">,</span>
    <span class="s2">"anonymous_id"</span><span class="p">:</span> <span class="s2">"07d35b1a-5776-4ddf-8f1c-dd0d2db9c502a1"</span><span class="p">,</span>
    <span class="s2">"profile"</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">"sex"</span><span class="p">:</span> <span class="s2">"female"</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="s2">"event"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"order"</span><span class="p">,</span>
    <span class="s2">"subtype"</span><span class="p">:</span> <span class="s2">"cancelled"</span><span class="p">,</span>
    <span class="s2">"order_id"</span><span class="p">:</span> <span class="s2">"o1"</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="c1">// The parameters we are going to pass to the fetch function</span>
<span class="kd">let</span> <span class="nx">fetchData</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">method</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
    <span class="na">body</span><span class="p">:</span> <span class="nx">data</span><span class="p">,</span>
    <span class="na">headers</span><span class="p">:</span> <span class="k">new</span> <span class="nx">Headers</span><span class="p">(</span>
      <span class="s2">"Content-Type"</span><span class="p">,</span> <span class="s2">"application/json"</span><span class="p">,</span>
      <span class="s2">"Authorization"</span><span class="p">:</span> <span class="s2">"Basic VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw=="</span>
      <span class="p">)</span>
<span class="p">}</span>
<span class="nx">fetch</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">fetchData</span><span class="p">)</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">res</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">())</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">data</span><span class="p">)</span> <span class="o">=&gt;</span>  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">))</span>
<span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">))</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?</span>
<span class="c1">//browser only event (refer to the javascript tab)
</span><span class="cp">?&gt;</span>
</code></pre><pre class="highlight python tab-python"><code><span class="c">#browser only event (refer to the javascript tab)</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="c1">//browser only event (refer to the javascript tab)</span>
</code></pre>
<blockquote>
<p>The above command returns a 204 response code</p>
</blockquote>
<h2 id='user-login'>User Login</h2>
<p>Record logins by a user on your website, if the user login is cached, you do not need to fire this event when the user returns.</p>

<table><thead>
<tr>
<th style="text-align: center"><strong>Field</strong></th>
<th style="text-align: center"><strong>Data Type</strong></th>
<th style="text-align: center"><strong>Description</strong></th>
<th style="text-align: center"><strong>Mandatory</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">type</td>
<td style="text-align: center">String</td>
<td style="text-align: center">Set to &#39;login&#39;</td>
<td style="text-align: center">Yes</td>
</tr>
</tbody></table>
<pre class="highlight javascript tab-javascript--browser"><code><span class="kr">const</span> <span class="nx">url</span> <span class="o">=</span> <span class="s2">"https://api.datacue.co/v1/events"</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"user"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"user_id"</span><span class="p">:</span> <span class="s2">"019mr8mf4r"</span><span class="p">,</span>
    <span class="s2">"anonymous_id"</span><span class="p">:</span> <span class="s2">"07d35b1a-5776-4ddf-8f1c-dd0d2db9c502a1"</span><span class="p">,</span>
    <span class="s2">"profile"</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">"sex"</span><span class="p">:</span> <span class="s2">"female"</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="s2">"event"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"login"</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="c1">// The parameters we are going to pass to the fetch function</span>
<span class="kd">let</span> <span class="nx">fetchData</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">method</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
    <span class="na">body</span><span class="p">:</span> <span class="nx">data</span><span class="p">,</span>
    <span class="na">headers</span><span class="p">:</span> <span class="k">new</span> <span class="nx">Headers</span><span class="p">(</span>
      <span class="s2">"Content-Type"</span><span class="p">,</span> <span class="s2">"application/json"</span><span class="p">,</span>
      <span class="s2">"Authorization"</span><span class="p">:</span> <span class="s2">"Basic VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw=="</span>
      <span class="p">)</span>
<span class="p">}</span>
<span class="nx">fetch</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">fetchData</span><span class="p">)</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">res</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">())</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">data</span><span class="p">)</span> <span class="o">=&gt;</span>  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">))</span>
<span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">))</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?</span>
<span class="c1">//browser only event (refer to the javascript tab)
</span><span class="cp">?&gt;</span>
</code></pre><pre class="highlight python tab-python"><code><span class="c">#browser only event (refer to the javascript tab)</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="c1">//browser only event (refer to the javascript tab)</span>
</code></pre>
<blockquote>
<p>The above command returns a 204 response code</p>
</blockquote>
<h1 id='product-management'>Product Management</h1><h2 id='create-product'>Create Product</h2>
<p>URL: <code>POST</code> <code>https://api.datacue.co/v1/products</code></p>

<p>Whenever a new product is created, send this request from your backend.</p>

<table><thead>
<tr>
<th style="text-align: center"><strong>Field</strong></th>
<th style="text-align: center"><strong>Data Type</strong></th>
<th style="text-align: center"><strong>Description</strong></th>
<th style="text-align: center"><strong>Mandatory</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">product_id</td>
<td style="text-align: center">String</td>
<td style="text-align: center">The product id or SKU number</td>
<td style="text-align: center">Yes</td>
</tr>
<tr>
<td style="text-align: center">variant_id</td>
<td style="text-align: center">String</td>
<td style="text-align: center">A unique variant id within the product id, if you only use product SKUs set this to a constant such as &#39;no-variants&#39;</td>
<td style="text-align: center">Yes</td>
</tr>
<tr>
<td style="text-align: center">category_1</td>
<td style="text-align: center">String</td>
<td style="text-align: center">Top category level of product e.g. &#39;Men&#39; , &#39;Women&#39; or &#39;Children&#39;&#39;.</td>
<td style="text-align: center">Yes</td>
</tr>
<tr>
<td style="text-align: center">category_2</td>
<td style="text-align: center">String</td>
<td style="text-align: center">Second category level of product e.g. &#39;Shoes&#39; or &#39;Dresses&#39;</td>
<td style="text-align: center">No</td>
</tr>
<tr>
<td style="text-align: center">category_3</td>
<td style="text-align: center">String</td>
<td style="text-align: center">Third category level of product e.g. &#39;Sports&#39; or &#39;Sandals&#39;</td>
<td style="text-align: center">No</td>
</tr>
<tr>
<td style="text-align: center">category_4</td>
<td style="text-align: center">String</td>
<td style="text-align: center">Fourth category level of product e.g. &#39;Running shoes&#39;</td>
<td style="text-align: center">No</td>
</tr>
<tr>
<td style="text-align: center">category_extra</td>
<td style="text-align: center">JSON Object</td>
<td style="text-align: center">Any other categories can be stored here as an object, e.g. &quot;category_extra&quot; : { &quot;category_5&quot;: &quot;value&quot; } and so on.</td>
<td style="text-align: center">No</td>
</tr>
<tr>
<td style="text-align: center">name</td>
<td style="text-align: center">String</td>
<td style="text-align: center">Name or Title of the product</td>
<td style="text-align: center">Yes</td>
</tr>
<tr>
<td style="text-align: center">brand</td>
<td style="text-align: center">String</td>
<td style="text-align: center">Brand name of the product</td>
<td style="text-align: center">No</td>
</tr>
<tr>
<td style="text-align: center">description</td>
<td style="text-align: center">String</td>
<td style="text-align: center">Long text description of the product</td>
<td style="text-align: center">No</td>
</tr>
<tr>
<td style="text-align: center">color</td>
<td style="text-align: center">String</td>
<td style="text-align: center">Color of the product</td>
<td style="text-align: center">No</td>
</tr>
<tr>
<td style="text-align: center">size</td>
<td style="text-align: center">String</td>
<td style="text-align: center">Size of the product</td>
<td style="text-align: center">No</td>
</tr>
<tr>
<td style="text-align: center">price</td>
<td style="text-align: center">Decimal</td>
<td style="text-align: center">Price of the product up to two decimal places</td>
<td style="text-align: center">Yes</td>
</tr>
<tr>
<td style="text-align: center">stock</td>
<td style="text-align: center">Integer</td>
<td style="text-align: center">Number of product in stock</td>
<td style="text-align: center">Yes</td>
</tr>
<tr>
<td style="text-align: center">extra</td>
<td style="text-align: center">JSON Object</td>
<td style="text-align: center">Any other fields you want to store about the product that you want to display on site e.g. discounts or promotions.</td>
<td style="text-align: center">No</td>
</tr>
<tr>
<td style="text-align: center">photo_url</td>
<td style="text-align: center">String</td>
<td style="text-align: center">URL of the photo, you can use relative URLs as this is purely for your front-end to request the image</td>
<td style="text-align: center">Yes</td>
</tr>
<tr>
<td style="text-align: center">link</td>
<td style="text-align: center">String</td>
<td style="text-align: center">URL of product page for this product e.g. https://mysite.com/products/p1</td>
<td style="text-align: center">Yes</td>
</tr>
<tr>
<td style="text-align: center">owner_id</td>
<td style="text-align: center">String</td>
<td style="text-align: center">If you&#39;re running a marketplace, store the product&#39;s owner or seller&#39;s user ID here.</td>
<td style="text-align: center">No</td>
</tr>
</tbody></table>
<pre class="highlight javascript tab-javascript--browser"><code><span class="c1">//backend only event (refer to the python, php or node tab)</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?</span>
<span class="nv">$url</span> <span class="o">=</span> <span class="s2">"https://api.datacue.co/v1/products"</span><span class="p">;</span>
<span class="nv">$data</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s2">"product_id"</span> <span class="o">=&gt;</span> <span class="s2">"p1"</span><span class="p">,</span>
  <span class="s2">"variant_id"</span> <span class="o">=&gt;</span> <span class="s2">"v1"</span><span class="p">,</span>
  <span class="s2">"category_1"</span> <span class="o">=&gt;</span> <span class="s2">"men"</span><span class="p">,</span>
  <span class="s2">"category_2"</span> <span class="o">=&gt;</span> <span class="s2">"jeans"</span><span class="p">,</span>
  <span class="s2">"category_3"</span> <span class="o">=&gt;</span> <span class="s2">"skinny"</span><span class="p">,</span>
  <span class="s2">"category_4"</span> <span class="o">=&gt;</span> <span class="s2">"c4"</span><span class="p">,</span>
  <span class="s2">"category_extra"</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s2">"category_5"</span> <span class="o">=&gt;</span> <span class="s2">"c5"</span>
  <span class="p">),</span>
  <span class="s2">"name"</span> <span class="o">=&gt;</span> <span class="s2">"cool jeans"</span><span class="p">,</span>
  <span class="s2">"brand"</span> <span class="o">=&gt;</span> <span class="s2">"zara"</span><span class="p">,</span>
  <span class="s2">"description"</span> <span class="o">=&gt;</span> <span class="s2">"very fashionable jeans"</span><span class="p">,</span>
  <span class="s2">"color"</span> <span class="o">=&gt;</span> <span class="s2">"blue"</span>
  <span class="s2">"size"</span> <span class="o">=&gt;</span> <span class="s2">"M"</span><span class="p">,</span>
  <span class="s2">"price"</span> <span class="o">=&gt;</span> <span class="mi">25000</span><span class="p">,</span>
  <span class="s2">"stock"</span> <span class="o">=&gt;</span> <span class="mi">5</span><span class="p">,</span>
  <span class="s2">"extra"</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s2">"extra_feature"</span> <span class="o">=&gt;</span> <span class="s2">"details"</span>
  <span class="p">),</span>
  <span class="s2">"photo_url"</span> <span class="o">=&gt;</span> <span class="s2">"https://s3.amazon.com/image.png"</span><span class="p">,</span>
  <span class="s2">"link"</span> <span class="o">=&gt;</span> <span class="s2">"/product/p1"</span><span class="p">,</span>
  <span class="s2">"owner_id"</span> <span class="o">=&gt;</span> <span class="s2">"user_id_3"</span>
<span class="p">);</span>

<span class="nv">$content</span> <span class="o">=</span> <span class="nb">json_encode</span><span class="p">(</span><span class="nv">$data</span><span class="p">);</span>

<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">(</span><span class="nv">$url</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_HEADER</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_RETURNTRANSFER</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_HTTPHEADER</span><span class="p">,</span>
        <span class="k">array</span><span class="p">(</span>
          <span class="s2">"Content-type: application/json"</span><span class="p">,</span>
          <span class="s2">"Authorization"</span><span class="o">:</span> <span class="s2">"Basic VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw=="</span>
        <span class="p">));</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_POST</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_POSTFIELDS</span><span class="p">,</span> <span class="nv">$content</span><span class="p">);</span>

<span class="nv">$json_response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.datacue.co/v1/products"</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">"Content-type"</span><span class="p">:</span> <span class="s">"application/json"</span><span class="p">,</span>
  <span class="s">"Authorization"</span><span class="p">:</span> <span class="s">"Basic VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw=="</span>
<span class="p">}</span>
<span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s">"product_id"</span><span class="p">:</span> <span class="s">"p1"</span><span class="p">,</span>
   <span class="s">"variant_id"</span><span class="p">:</span> <span class="s">"v1"</span><span class="p">,</span>
   <span class="s">"category_1"</span><span class="p">:</span> <span class="s">"men"</span><span class="p">,</span>
   <span class="s">"category_2"</span><span class="p">:</span> <span class="s">"jeans"</span><span class="p">,</span>
   <span class="s">"category_3"</span><span class="p">:</span> <span class="s">"skinny"</span><span class="p">,</span>
   <span class="s">"category_4"</span><span class="p">:</span> <span class="s">"c4"</span><span class="p">,</span>
   <span class="s">"category_extra"</span><span class="p">:</span> <span class="p">{</span>
     <span class="s">"category_5"</span><span class="p">:</span> <span class="s">"c5"</span>
   <span class="p">},</span>
   <span class="s">"name"</span><span class="p">:</span> <span class="s">"cool jeans"</span><span class="p">,</span>
   <span class="s">"brand"</span><span class="p">:</span> <span class="s">"zara"</span><span class="p">,</span>
   <span class="s">"description"</span><span class="p">:</span> <span class="s">"very fashionable jeans"</span><span class="p">,</span>
   <span class="s">"color"</span><span class="p">:</span> <span class="s">"blue"</span>
   <span class="s">"size"</span><span class="p">:</span> <span class="s">"M"</span><span class="p">,</span>
   <span class="s">"price"</span><span class="p">:</span> <span class="mi">25000</span><span class="p">,</span>
   <span class="s">"stock"</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
   <span class="s">"extra"</span><span class="p">:</span> <span class="p">{</span>
     <span class="s">"extra_feature"</span><span class="p">:</span> <span class="s">"details"</span>
   <span class="p">},</span>
   <span class="s">"photo_url"</span><span class="p">:</span> <span class="s">"https://s3.amazon.com/image.png"</span><span class="p">,</span>
   <span class="s">"link"</span><span class="p">:</span> <span class="s">"/product/p1"</span><span class="p">,</span>
   <span class="s">"owner_id"</span><span class="p">:</span> <span class="s">"user_id_3"</span>
 <span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">url</span> <span class="o">=</span> <span class="s2">"https://api.datacue.co/v1/products"</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s2">"product_id"</span><span class="p">:</span> <span class="s2">"p1"</span><span class="p">,</span>
   <span class="s2">"variant_id"</span><span class="p">:</span> <span class="s2">"v1"</span><span class="p">,</span>
   <span class="s2">"category_1"</span><span class="p">:</span> <span class="s2">"men"</span><span class="p">,</span>
   <span class="s2">"category_2"</span><span class="p">:</span> <span class="s2">"jeans"</span><span class="p">,</span>
   <span class="s2">"category_3"</span><span class="p">:</span> <span class="s2">"skinny"</span><span class="p">,</span>
   <span class="s2">"category_4"</span><span class="p">:</span> <span class="s2">"c4"</span><span class="p">,</span>
   <span class="s2">"category_extra"</span><span class="p">:</span> <span class="p">{</span>
     <span class="s2">"category_5"</span><span class="p">:</span> <span class="s2">"c5"</span>
   <span class="p">},</span>
   <span class="s2">"name"</span><span class="p">:</span> <span class="s2">"cool jeans"</span><span class="p">,</span>
   <span class="s2">"brand"</span><span class="p">:</span> <span class="s2">"zara"</span><span class="p">,</span>
   <span class="s2">"description"</span><span class="p">:</span> <span class="s2">"very fashionable jeans"</span><span class="p">,</span>
   <span class="s2">"color"</span><span class="p">:</span> <span class="s2">"blue"</span>
   <span class="s2">"size"</span><span class="p">:</span> <span class="s2">"M"</span><span class="p">,</span>
   <span class="s2">"price"</span><span class="p">:</span> <span class="mi">25000</span><span class="p">,</span>
   <span class="s2">"stock"</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
   <span class="s2">"extra"</span><span class="p">:</span> <span class="p">{</span>
     <span class="s2">"extra_feature"</span><span class="p">:</span> <span class="s2">"details"</span>
   <span class="p">},</span>
   <span class="s2">"photo_url"</span><span class="p">:</span> <span class="s2">"https://s3.amazon.com/image.png"</span><span class="p">,</span>
   <span class="s2">"link"</span><span class="p">:</span> <span class="s2">"/product/p1"</span><span class="p">,</span>
   <span class="s2">"owner_id"</span><span class="p">:</span> <span class="s2">"user_id_3"</span>
 <span class="p">}</span>
<span class="c1">// The parameters we are going to pass to the fetch function</span>
<span class="kd">let</span> <span class="nx">fetchData</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">method</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
    <span class="na">body</span><span class="p">:</span> <span class="nx">data</span><span class="p">,</span>
    <span class="na">headers</span><span class="p">:</span> <span class="k">new</span> <span class="nx">Headers</span><span class="p">(</span>
      <span class="s2">"Content-Type"</span><span class="p">,</span> <span class="s2">"application/json"</span><span class="p">,</span>
      <span class="s2">"Authorization"</span><span class="p">:</span> <span class="s2">"Basic VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw=="</span>
      <span class="p">)</span>
<span class="p">}</span>
<span class="nx">fetch</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">fetchData</span><span class="p">)</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">res</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">())</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">data</span><span class="p">)</span> <span class="o">=&gt;</span>  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">))</span>
<span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">))</span>
</code></pre>
<blockquote>
<p>The above command returns a 201 response code</p>
</blockquote>
<h2 id='update-product'>Update Product</h2>
<p>URL: <code>PUT</code> <code>https://api.datacue.co/v1/products/&lt;product_id&gt;/&lt;variant_id&gt;</code></p>

<p>Whenever an existing product is updated such as image, name, price or new discounts, send this request from your backend.</p>

<p>Remember that when an order is completed this is also a product update as the stock level of the product will change. Sending us a product update after an order will ensure that if a product is out of stock, it is no longer recommended to other users.</p>
<pre class="highlight javascript tab-javascript--browser"><code><span class="c1">//backend only event (refer to the python, php or node tab)</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?</span>
<span class="nv">$url</span> <span class="o">=</span> <span class="s2">"https://api.datacue.co/v1/products/:product_id/:variant_id"</span><span class="p">;</span>
<span class="nv">$data</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s2">"category_1"</span> <span class="o">=&gt;</span> <span class="s2">"men"</span><span class="p">,</span>
  <span class="s2">"category_2"</span> <span class="o">=&gt;</span> <span class="s2">"jeans"</span><span class="p">,</span>
  <span class="s2">"category_3"</span> <span class="o">=&gt;</span> <span class="s2">"skinny"</span><span class="p">,</span>
  <span class="s2">"stock"</span> <span class="o">=&gt;</span> <span class="mi">6</span>
<span class="p">);</span>

<span class="nv">$content</span> <span class="o">=</span> <span class="nb">json_encode</span><span class="p">(</span><span class="nv">$data</span><span class="p">);</span>

<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">(</span><span class="nv">$url</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_HEADER</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_RETURNTRANSFER</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_HTTPHEADER</span><span class="p">,</span>
        <span class="k">array</span><span class="p">(</span>
          <span class="s2">"Content-type: application/json"</span><span class="p">,</span>
          <span class="s2">"Authorization"</span><span class="o">:</span> <span class="s2">"Basic VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw=="</span>
        <span class="p">));</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_CUSTOMREQUEST</span><span class="p">,</span> <span class="s2">"PUT"</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_POSTFIELDS</span><span class="p">,</span> <span class="nv">$content</span><span class="p">);</span>

<span class="nv">$json_response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.datacue.co/v1/products/:product_id/:variant_id"</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">"Content-type"</span><span class="p">:</span> <span class="s">"application/json"</span><span class="p">,</span>
  <span class="s">"Authorization"</span><span class="p">:</span> <span class="s">"Basic VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw=="</span>
<span class="p">}</span>
<span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s">"category_1"</span><span class="p">:</span> <span class="s">"men"</span><span class="p">,</span>
   <span class="s">"category_2"</span><span class="p">:</span> <span class="s">"jeans"</span><span class="p">,</span>
   <span class="s">"category_3"</span><span class="p">:</span> <span class="s">"skinny"</span><span class="p">,</span>
   <span class="s">"stock"</span><span class="p">:</span> <span class="mi">6</span>
 <span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">url</span> <span class="o">=</span> <span class="s2">"https://api.datacue.co/v1/products/:product_id/:variant_id"</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s2">"category_1"</span><span class="p">:</span> <span class="s2">"men"</span><span class="p">,</span>
   <span class="s2">"category_2"</span><span class="p">:</span> <span class="s2">"jeans"</span><span class="p">,</span>
   <span class="s2">"category_3"</span><span class="p">:</span> <span class="s2">"skinny"</span>
   <span class="s2">"stock"</span><span class="p">:</span> <span class="mi">6</span>
 <span class="p">}</span>
<span class="c1">// The parameters we are going to pass to the fetch function</span>
<span class="kd">let</span> <span class="nx">fetchData</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">method</span><span class="p">:</span> <span class="s2">"PUT"</span><span class="p">,</span>
    <span class="na">body</span><span class="p">:</span> <span class="nx">data</span><span class="p">,</span>
    <span class="na">headers</span><span class="p">:</span> <span class="k">new</span> <span class="nx">Headers</span><span class="p">(</span>
      <span class="s2">"Content-Type"</span><span class="p">,</span> <span class="s2">"application/json"</span><span class="p">,</span>
      <span class="s2">"Authorization"</span><span class="p">:</span> <span class="s2">"Basic VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw=="</span>
      <span class="p">)</span>
<span class="p">}</span>
<span class="nx">fetch</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">fetchData</span><span class="p">)</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">res</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">())</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">data</span><span class="p">)</span> <span class="o">=&gt;</span>  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">))</span>
<span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">))</span>
</code></pre>
<blockquote>
<p>The above command returns a 204 response code</p>
</blockquote>
<h2 id='delete-product'>Delete Product</h2>
<p>Delete a variant</p>

<p>URL: <code>DELETE</code> <code>https://api.datacue.co/v1/products/&lt;product_id&gt;/&lt;variant_id&gt;</code></p>

<p>Delete a product and all associated variants</p>

<p>URL: <code>DELETE</code> <code>https://api.datacue.co/v1/products/&lt;product_id&gt;</code></p>

<p>Delete a product on your system.</p>
<pre class="highlight javascript tab-javascript--browser"><code><span class="c1">//backend only event (refer to the python, php or node tab)</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?</span>
<span class="nv">$url</span> <span class="o">=</span> <span class="s2">"https://api.datacue.co/v1/products/:product_id/:variant_id"</span><span class="p">;</span>

<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">(</span><span class="nv">$url</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_HEADER</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_RETURNTRANSFER</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_HTTPHEADER</span><span class="p">,</span>
        <span class="k">array</span><span class="p">(</span>
          <span class="s2">"Content-type: application/json"</span><span class="p">,</span>
          <span class="s2">"Authorization"</span><span class="o">:</span> <span class="s2">"Basic VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw=="</span>
        <span class="p">));</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_CUSTOMREQUEST</span><span class="p">,</span> <span class="s2">"DELETE"</span><span class="p">);</span>

<span class="nv">$json_response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.datacue.co/v1/products/:product_id/:variant_id"</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">"Content-type"</span><span class="p">:</span> <span class="s">"application/json"</span><span class="p">,</span>
  <span class="s">"Authorization"</span><span class="p">:</span> <span class="s">"Basic VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw=="</span>
<span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">url</span> <span class="o">=</span> <span class="s2">"https://api.datacue.co/v1/products/:product_id/:variant_id"</span><span class="p">;</span>

<span class="c1">// The parameters we are going to pass to the fetch function</span>
<span class="kd">let</span> <span class="nx">fetchData</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="s2">"DELETE"</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="k">new</span> <span class="nx">Headers</span><span class="p">(</span>
    <span class="s2">"Content-Type"</span><span class="p">,</span> <span class="s2">"application/json"</span><span class="p">,</span>
    <span class="s2">"Authorization"</span><span class="p">:</span> <span class="s2">"Basic VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw=="</span>
  <span class="p">)</span>
<span class="p">}</span>
<span class="nx">fetch</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">fetchData</span><span class="p">)</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">res</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">())</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">data</span><span class="p">)</span> <span class="o">=&gt;</span>  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">))</span>
<span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">))</span>
</code></pre>
<blockquote>
<p>The above command returns a 204 response code</p>
</blockquote>
<h1 id='banner-management'>Banner Management</h1>
<p>We recommend that you use your DataCue dashboard to upload and manage your banners. However, if you want DataCue to use your existing banner management solution, you can use these endpoints to do so.</p>
<h2 id='create-banner'>Create Banner</h2>
<p>URL: <code>POST</code> <code>https://api.datacue.co/v1/banners</code></p>

<p>When you create a new banner on your system.</p>

<table><thead>
<tr>
<th style="text-align: center"><strong>Field</strong></th>
<th style="text-align: center"><strong>Data Type</strong></th>
<th style="text-align: center"><strong>Description</strong></th>
<th style="text-align: center"><strong>Mandatory</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">banner_id</td>
<td style="text-align: center">String</td>
<td style="text-align: center">The product id or SKU number</td>
<td style="text-align: center">Yes</td>
</tr>
<tr>
<td style="text-align: center">type</td>
<td style="text-align: center">String</td>
<td style="text-align: center">The type of banner. Set to &#39;main&#39; for main banner or &#39;sub&#39; for sub banner</td>
<td style="text-align: center">Yes</td>
</tr>
<tr>
<td style="text-align: center">name</td>
<td style="text-align: center">String</td>
<td style="text-align: center">Friendly name for the banner</td>
<td style="text-align: center">No</td>
</tr>
<tr>
<td style="text-align: center">category_1</td>
<td style="text-align: center">String</td>
<td style="text-align: center">The top category level this product belongs to. In a fashion store, this could be &#39;Men&#39; , &#39;Women&#39; or &#39;Children&#39;&#39;.</td>
<td style="text-align: center">Yes</td>
</tr>
<tr>
<td style="text-align: center">category_2</td>
<td style="text-align: center">String</td>
<td style="text-align: center">The second category level this product belongs to. In a fashion store, this could be &#39;Shoes or &#39;Dresses&#39;</td>
<td style="text-align: center">No</td>
</tr>
<tr>
<td style="text-align: center">category_3</td>
<td style="text-align: center">String</td>
<td style="text-align: center">The third category level this product belongs to. In a fashion store, this could be &#39;Sports&#39; or &#39;Sandals&#39;</td>
<td style="text-align: center">No</td>
</tr>
<tr>
<td style="text-align: center">category_4</td>
<td style="text-align: center">String</td>
<td style="text-align: center">The fourth category level this product belongs to. In a fashion store, this could be &#39;Running shoes&#39;</td>
<td style="text-align: center">No</td>
</tr>
<tr>
<td style="text-align: center">photo_url</td>
<td style="text-align: center">String</td>
<td style="text-align: center">URL of the banner image, you can use relative URLs as this is purely for your front-end to request the image</td>
<td style="text-align: center">Yes</td>
</tr>
<tr>
<td style="text-align: center">link</td>
<td style="text-align: center">String</td>
<td style="text-align: center">Which page to take the user to when they click on the banner on your website. Typically a collection or catalog page for the banner&#39;s associated category.</td>
<td style="text-align: center">Yes</td>
</tr>
<tr>
<td style="text-align: center">extra</td>
<td style="text-align: center">JSON Object</td>
<td style="text-align: center">Any other information you would like to use about your banners. For instance, you can store URLs of a mobile optimized version of your banner here.</td>
<td style="text-align: center">No</td>
</tr>
</tbody></table>
<pre class="highlight javascript tab-javascript--browser"><code><span class="c1">//backend only event (refer to the python, php or node tab)</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?</span>
<span class="nv">$url</span> <span class="o">=</span> <span class="s2">"https://api.datacue.co/v1/banners"</span><span class="p">;</span>
<span class="nv">$data</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s2">"banner_id"</span> <span class="o">=&gt;</span> <span class="s2">"b1"</span><span class="p">,</span>
  <span class="s2">"type"</span> <span class="o">=&gt;</span> <span class="s2">"sub"</span><span class="p">,</span>
  <span class="s2">"title"</span> <span class="o">=&gt;</span> <span class="s2">"friendly name for b1"</span><span class="p">,</span>
  <span class="s2">"category_1"</span> <span class="o">=&gt;</span> <span class="s2">"women"</span><span class="p">,</span>
  <span class="s2">"category_2"</span> <span class="o">=&gt;</span> <span class="s2">"summer"</span><span class="p">,</span>
  <span class="s2">"category_3"</span> <span class="o">=&gt;</span> <span class="s2">"dresses"</span><span class="p">,</span>
  <span class="s2">"category_4"</span> <span class="o">=&gt;</span> <span class="s2">"casual"</span><span class="p">,</span>
  <span class="s2">"photos"</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s2">"mobile"</span> <span class="o">=&gt;</span> <span class="s2">"http://s3.amazon.com/photoMobile.png"</span><span class="p">,</span>
    <span class="s2">"desktop"</span> <span class="o">=&gt;</span> <span class="s2">"http://s3.amazon.com/photoDesktop.png"</span>
  <span class="p">),</span>
  <span class="s2">"link"</span> <span class="o">=&gt;</span> <span class="s2">"path/to/anything"</span>
<span class="p">);</span>

<span class="nv">$content</span> <span class="o">=</span> <span class="nb">json_encode</span><span class="p">(</span><span class="nv">$data</span><span class="p">);</span>

<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">(</span><span class="nv">$url</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_HEADER</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_RETURNTRANSFER</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_HTTPHEADER</span><span class="p">,</span>
        <span class="k">array</span><span class="p">(</span>
          <span class="s2">"Content-type: application/json"</span><span class="p">,</span>
          <span class="s2">"Authorization"</span><span class="o">:</span> <span class="s2">"Basic VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw=="</span>
        <span class="p">));</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_POST</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_POSTFIELDS</span><span class="p">,</span> <span class="nv">$content</span><span class="p">);</span>

<span class="nv">$json_response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.datacue.co/v1/banners"</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">"Content-type"</span><span class="p">:</span> <span class="s">"application/json"</span><span class="p">,</span>
  <span class="s">"Authorization"</span><span class="p">:</span> <span class="s">"Basic VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw=="</span>
<span class="p">}</span>
<span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s">"banner_id"</span><span class="p">:</span> <span class="s">"b1"</span><span class="p">,</span>
   <span class="s">"type"</span><span class="p">:</span> <span class="s">"sub"</span><span class="p">,</span>
   <span class="s">"title"</span><span class="p">:</span> <span class="s">"friendly name for b1"</span><span class="p">,</span>
   <span class="s">"category_1"</span><span class="p">:</span> <span class="s">"women"</span><span class="p">,</span>
   <span class="s">"category_2"</span><span class="p">:</span> <span class="s">"summer"</span><span class="p">,</span>
   <span class="s">"category_3"</span><span class="p">:</span> <span class="s">"dresses"</span><span class="p">,</span>
   <span class="s">"category_4"</span><span class="p">:</span> <span class="s">"casual"</span><span class="p">,</span>
   <span class="s">"photos"</span><span class="p">:</span> <span class="p">{</span>
     <span class="s">"mobile"</span><span class="p">:</span> <span class="s">"http://s3.amazon.com/photoMobile.png"</span><span class="p">,</span>
     <span class="s">"desktop"</span><span class="p">:</span> <span class="s">"http://s3.amazon.com/photoDesktop.png"</span><span class="p">,</span>
   <span class="p">},</span>
   <span class="s">"link"</span><span class="p">:</span> <span class="s">"path/to/anything"</span>
 <span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">url</span> <span class="o">=</span> <span class="s2">"https://api.datacue.co/v1/banners"</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s2">"banner_id"</span><span class="p">:</span> <span class="s2">"b1"</span><span class="p">,</span>
   <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"sub"</span><span class="p">,</span>
   <span class="s2">"title"</span><span class="p">:</span> <span class="s2">"friendly name for b1"</span><span class="p">,</span>
   <span class="s2">"category_1"</span><span class="p">:</span> <span class="s2">"women"</span><span class="p">,</span>
   <span class="s2">"category_2"</span><span class="p">:</span> <span class="s2">"summer"</span><span class="p">,</span>
   <span class="s2">"category_3"</span><span class="p">:</span> <span class="s2">"dresses"</span><span class="p">,</span>
   <span class="s2">"category_4"</span><span class="p">:</span> <span class="s2">"casual"</span><span class="p">,</span>
   <span class="s2">"photos"</span><span class="p">:</span> <span class="p">{</span>
     <span class="s2">"mobile"</span><span class="p">:</span> <span class="s2">"http://s3.amazon.com/photoMobile.png"</span><span class="p">,</span>
     <span class="s2">"desktop"</span><span class="p">:</span> <span class="s2">"http://s3.amazon.com/photoDesktop.png"</span><span class="p">,</span>
   <span class="p">},</span>
   <span class="s2">"link"</span><span class="p">:</span> <span class="s2">"path/to/anything"</span>
 <span class="p">}</span>

<span class="c1">// The parameters we are going to pass to the fetch function</span>
<span class="kd">let</span> <span class="nx">fetchData</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">method</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
    <span class="na">body</span><span class="p">:</span> <span class="nx">data</span><span class="p">,</span>
    <span class="na">headers</span><span class="p">:</span> <span class="k">new</span> <span class="nx">Headers</span><span class="p">(</span>
      <span class="s2">"Content-Type"</span><span class="p">,</span> <span class="s2">"application/json"</span><span class="p">,</span>
      <span class="s2">"Authorization"</span><span class="p">:</span> <span class="s2">"Basic VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw=="</span>
      <span class="p">)</span>
<span class="p">}</span>
<span class="nx">fetch</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">fetchData</span><span class="p">)</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">res</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">())</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">data</span><span class="p">)</span> <span class="o">=&gt;</span>  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">))</span>
<span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">))</span>
</code></pre>
<blockquote>
<p>The above command returns a 201 response code</p>
</blockquote>
<h2 id='update-banner'>Update Banner</h2>
<p>URL: <code>PUT</code> <code>https://api.datacue.co/v1/banners/&lt;banner_id&gt;</code></p>

<p>When you update your banner in any way like changing the banner image, link or assigned categories on your system. Does not apply if you&#39;re using DataCue to manage your banners.</p>

<p>Only send fields to be updated</p>
<pre class="highlight javascript tab-javascript--browser"><code><span class="c1">//backend only event (refer to the python, php or node tab)</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?</span>
<span class="nv">$url</span> <span class="o">=</span> <span class="s2">"https://api.datacue.co/v1/banners/:banner_id"</span><span class="p">;</span>
<span class="nv">$data</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s2">"link"</span> <span class="o">=&gt;</span> <span class="s2">"/new-link"</span>
<span class="p">);</span>

<span class="nv">$content</span> <span class="o">=</span> <span class="nb">json_encode</span><span class="p">(</span><span class="nv">$data</span><span class="p">);</span>

<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">(</span><span class="nv">$url</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_HEADER</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_RETURNTRANSFER</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_HTTPHEADER</span><span class="p">,</span>
        <span class="k">array</span><span class="p">(</span>
          <span class="s2">"Content-type: application/json"</span><span class="p">,</span>
          <span class="s2">"Authorization"</span><span class="o">:</span> <span class="s2">"Basic VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw=="</span>
        <span class="p">));</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_CUSTOMREQUEST</span><span class="p">,</span> <span class="s2">"PUT"</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_POSTFIELDS</span><span class="p">,</span> <span class="nv">$content</span><span class="p">);</span>

<span class="nv">$json_response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.datacue.co/v1/banners/:banner_id"</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">"Content-type"</span><span class="p">:</span> <span class="s">"application/json"</span><span class="p">,</span>
  <span class="s">"Authorization"</span><span class="p">:</span> <span class="s">"Basic VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw=="</span>
<span class="p">}</span>
<span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s">"link"</span><span class="p">:</span> <span class="s">"/new-link"</span>
 <span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">url</span> <span class="o">=</span> <span class="s2">"https://api.datacue.co/v1/banners/:banner_id"</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s2">"link"</span><span class="p">:</span> <span class="s2">"/new-link"</span>
 <span class="p">}</span>
<span class="c1">// The parameters we are going to pass to the fetch function</span>
<span class="kd">let</span> <span class="nx">fetchData</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">method</span><span class="p">:</span> <span class="s2">"PUT"</span><span class="p">,</span>
    <span class="na">body</span><span class="p">:</span> <span class="nx">data</span><span class="p">,</span>
    <span class="na">headers</span><span class="p">:</span> <span class="k">new</span> <span class="nx">Headers</span><span class="p">(</span>
      <span class="s2">"Content-Type"</span><span class="p">,</span> <span class="s2">"application/json"</span><span class="p">,</span>
      <span class="s2">"Authorization"</span><span class="p">:</span> <span class="s2">"Basic VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw=="</span>
      <span class="p">)</span>
<span class="p">}</span>
<span class="nx">fetch</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">fetchData</span><span class="p">)</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">res</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">())</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">data</span><span class="p">)</span> <span class="o">=&gt;</span>  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">))</span>
<span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">))</span>
</code></pre>
<blockquote>
<p>The above command returns a 204 response code</p>
</blockquote>
<h2 id='delete-banner'>Delete Banner</h2>
<p>URL: <code>DELETE</code> <code>https://api.datacue.co/v1/banners/&lt;banner_id&gt;</code></p>

<p>When you delete a banner on your system. Does not apply if you&#39;re using DataCue to manage your banners.</p>
<pre class="highlight javascript tab-javascript--browser"><code><span class="c1">//backend only event (refer to the python, php or node tab)</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?</span>
<span class="nv">$url</span> <span class="o">=</span> <span class="s2">"https://api.datacue.co/v1/banners/:banner_id"</span><span class="p">;</span>

<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">(</span><span class="nv">$url</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_HEADER</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_RETURNTRANSFER</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_HTTPHEADER</span><span class="p">,</span>
        <span class="k">array</span><span class="p">(</span>
          <span class="s2">"Content-type: application/json"</span><span class="p">,</span>
          <span class="s2">"Authorization"</span><span class="o">:</span> <span class="s2">"Basic VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw=="</span>
        <span class="p">));</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_CUSTOMREQUEST</span><span class="p">,</span> <span class="s2">"DELETE"</span><span class="p">);</span>

<span class="nv">$json_response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.datacue.co/v1/banners/:banner_id"</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">"Content-type"</span><span class="p">:</span> <span class="s">"application/json"</span><span class="p">,</span>
  <span class="s">"Authorization"</span><span class="p">:</span> <span class="s">"Basic VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw=="</span>
<span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">url</span> <span class="o">=</span> <span class="s2">"https://api.datacue.co/v1/banners/:banner_id"</span><span class="p">;</span>

<span class="c1">// The parameters we are going to pass to the fetch function</span>
<span class="kd">let</span> <span class="nx">fetchData</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="s2">"DELETE"</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="k">new</span> <span class="nx">Headers</span><span class="p">(</span>
    <span class="s2">"Content-Type"</span><span class="p">,</span> <span class="s2">"application/json"</span><span class="p">,</span>
    <span class="s2">"Authorization"</span><span class="p">:</span> <span class="s2">"Basic VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw=="</span>
  <span class="p">)</span>
<span class="p">}</span>
<span class="nx">fetch</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">fetchData</span><span class="p">)</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">res</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">())</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">data</span><span class="p">)</span> <span class="o">=&gt;</span>  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">))</span>
<span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">))</span>
</code></pre>
<blockquote>
<p>The above command returns a 204 response code</p>
</blockquote>
<h1 id='user-management'>User Management</h1><h2 id='create-user'>Create User</h2>
<p>URL: <code>POST</code> <code>https://api.datacue.co/v1/users</code></p>

<p>When a new user has successfully signed up / registered on your system.</p>

<table><thead>
<tr>
<th style="text-align: center"><strong>Field</strong></th>
<th style="text-align: center"><strong>Data Type</strong></th>
<th style="text-align: center"><strong>Description</strong></th>
<th style="text-align: center"><strong>Mandatory</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">user_id</td>
<td style="text-align: center">String</td>
<td style="text-align: center">The unique user id assigned</td>
<td style="text-align: center">Yes</td>
</tr>
<tr>
<td style="text-align: center">anonymous_id</td>
<td style="text-align: center">String</td>
<td style="text-align: center">Anonymous ID that was previously associated with this user prior to user sign up</td>
<td style="text-align: center">No</td>
</tr>
<tr>
<td style="text-align: center">email</td>
<td style="text-align: center">String</td>
<td style="text-align: center">User&#39;s email address</td>
<td style="text-align: center">Yes, if using email marketing</td>
</tr>
<tr>
<td style="text-align: center">title</td>
<td style="text-align: center">String</td>
<td style="text-align: center">Salutation e.g. Mr. , Ms., Dr.</td>
<td style="text-align: center">No</td>
</tr>
<tr>
<td style="text-align: center">first_name</td>
<td style="text-align: center">String</td>
<td style="text-align: center">User&#39;s first name, if you store all the names in one field assign the name to this field</td>
<td style="text-align: center">Yes</td>
</tr>
<tr>
<td style="text-align: center">last_name</td>
<td style="text-align: center">String</td>
<td style="text-align: center">User&#39;s last name</td>
<td style="text-align: center">No</td>
</tr>
<tr>
<td style="text-align: center">profile</td>
<td style="text-align: center">JSON object</td>
<td style="text-align: center">User&#39;s profile. See table below for field description</td>
<td style="text-align: center">No</td>
</tr>
<tr>
<td style="text-align: center">cart</td>
<td style="text-align: center">Array</td>
<td style="text-align: center">An array of product ids and variant ids representing the current products in the users shopping cart.</td>
<td style="text-align: center">No</td>
</tr>
</tbody></table>
<h3 id='profile-2'>Profile</h3>
<table><thead>
<tr>
<th style="text-align: center"><strong>Field</strong></th>
<th style="text-align: center"><strong>Data Type</strong></th>
<th style="text-align: center"><strong>Description</strong></th>
<th style="text-align: center"><strong>Mandatory</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">sex</td>
<td style="text-align: center">String</td>
<td style="text-align: center">Sex of the user</td>
<td style="text-align: center">No</td>
</tr>
<tr>
<td style="text-align: center">location</td>
<td style="text-align: center">String</td>
<td style="text-align: center">Aggregate location like commune, city or country of the user</td>
<td style="text-align: center">No</td>
</tr>
<tr>
<td style="text-align: center">segment</td>
<td style="text-align: center">String</td>
<td style="text-align: center">Custom segment name that you store e.g. Gold class / Member</td>
<td style="text-align: center">No</td>
</tr>
</tbody></table>
<pre class="highlight javascript tab-javascript--browser"><code><span class="c1">//backend only event (refer to the python, php or node tab)</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?</span>
<span class="nv">$url</span> <span class="o">=</span> <span class="s2">"https://api.datacue.co/v1/users"</span><span class="p">;</span>
<span class="nv">$data</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s2">"user_id"</span> <span class="o">=&gt;</span> <span class="s2">"u1"</span><span class="p">,</span>
  <span class="s2">"anonymous_ids"</span> <span class="o">=&gt;</span> <span class="s2">"v1"</span>
  <span class="s2">"email"</span> <span class="o">=&gt;</span> <span class="s2">"xyz@abc.com"</span><span class="p">,</span>
  <span class="s2">"title"</span> <span class="o">=&gt;</span> <span class="s2">"Mr"</span><span class="p">,</span>
  <span class="s2">"first_name"</span> <span class="o">=&gt;</span> <span class="s2">"John"</span><span class="p">,</span>
  <span class="s2">"last_name"</span> <span class="o">=&gt;</span> <span class="s2">"Smith"</span><span class="p">,</span>
  <span class="s2">"profile"</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s2">"location"</span> <span class="o">=&gt;</span> <span class="s2">"santiago"</span><span class="p">,</span>
    <span class="s2">"sex"</span> <span class="o">=&gt;</span> <span class="s2">"male"</span><span class="p">,</span>
    <span class="s2">"segment"</span> <span class="o">=&gt;</span> <span class="s2">"platinum"</span>
  <span class="p">),</span>
  <span class="s2">"cart"</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="k">array</span><span class="p">(</span><span class="s2">"product_id"</span> <span class="o">=&gt;</span> <span class="s2">"p1"</span><span class="p">,</span><span class="s2">"variant_id"</span> <span class="o">=&gt;</span> <span class="s2">"v1"</span><span class="p">),</span>
    <span class="k">array</span><span class="p">(</span><span class="s2">"product_id"</span> <span class="o">=&gt;</span> <span class="s2">"p2"</span><span class="p">,</span><span class="s2">"variant_id"</span> <span class="o">=&gt;</span> <span class="s2">"v1"</span><span class="p">)</span>
  <span class="p">)</span>
<span class="p">)</span>

<span class="nv">$content</span> <span class="o">=</span> <span class="nb">json_encode</span><span class="p">(</span><span class="nv">$data</span><span class="p">);</span>

<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">(</span><span class="nv">$url</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_HEADER</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_RETURNTRANSFER</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_HTTPHEADER</span><span class="p">,</span>
        <span class="k">array</span><span class="p">(</span>
          <span class="s2">"Content-type: application/json"</span><span class="p">,</span>
          <span class="s2">"Authorization"</span><span class="o">:</span> <span class="s2">"Basic VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw=="</span>
        <span class="p">));</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_POST</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_POSTFIELDS</span><span class="p">,</span> <span class="nv">$content</span><span class="p">);</span>

<span class="nv">$json_response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.datacue.co/v1/users"</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">"Content-type"</span><span class="p">:</span> <span class="s">"application/json"</span><span class="p">,</span>
  <span class="s">"Authorization"</span><span class="p">:</span> <span class="s">"Basic VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw=="</span>
<span class="p">}</span>
<span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s">"user_id"</span><span class="p">:</span> <span class="s">"u1"</span><span class="p">,</span>
   <span class="s">"anonymous_ids"</span><span class="p">:</span> <span class="s">"v1"</span>
   <span class="s">"email"</span><span class="p">:</span> <span class="s">"xyz@abc.com"</span><span class="p">,</span>
   <span class="s">"title"</span><span class="p">:</span> <span class="s">"Mr"</span><span class="p">,</span>
   <span class="s">"first_name"</span><span class="p">:</span> <span class="s">"John"</span><span class="p">,</span>
   <span class="s">"last_name"</span><span class="p">:</span> <span class="s">"Smith"</span><span class="p">,</span>
   <span class="s">"profile"</span><span class="p">:</span> <span class="p">{</span>
       <span class="s">"location"</span><span class="p">:</span> <span class="s">"santiago"</span><span class="p">,</span>
       <span class="s">"sex"</span><span class="p">:</span> <span class="s">"male"</span><span class="p">,</span>
       <span class="s">"segment"</span><span class="p">:</span> <span class="s">"platinum"</span>
   <span class="p">},</span>
   <span class="s">"cart"</span><span class="p">:</span> <span class="p">[</span>
     <span class="p">{</span>
       <span class="s">"product_id"</span><span class="p">:</span><span class="s">"p1"</span>
       <span class="s">"variant_id"</span><span class="p">:</span><span class="s">"v1"</span>
     <span class="p">},</span>
     <span class="p">{</span>
       <span class="s">"product_id"</span><span class="p">:</span><span class="s">"p2"</span>
       <span class="s">"variant_id"</span><span class="p">:</span><span class="s">"v1"</span>
     <span class="p">},</span>
  <span class="p">]</span>
<span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">url</span> <span class="o">=</span> <span class="s2">"https://api.datacue.co/v1/users"</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s2">"user_id"</span><span class="p">:</span> <span class="s2">"u1"</span><span class="p">,</span>
   <span class="s2">"anonymous_ids"</span><span class="p">:</span> <span class="s2">"v1"</span>
   <span class="s2">"email"</span><span class="p">:</span> <span class="s2">"xyz@abc.com"</span><span class="p">,</span>
   <span class="s2">"title"</span><span class="p">:</span> <span class="s2">"Mr"</span><span class="p">,</span>
   <span class="s2">"first_name"</span><span class="p">:</span> <span class="s2">"Noob"</span><span class="p">,</span>
   <span class="s2">"last_name"</span><span class="p">:</span> <span class="s2">"Saibot"</span><span class="p">,</span>
   <span class="s2">"profile"</span><span class="p">:</span> <span class="p">{</span>
       <span class="s2">"location"</span><span class="p">:</span> <span class="s2">"santiago"</span><span class="p">,</span>
       <span class="s2">"sex"</span><span class="p">:</span> <span class="s2">"male"</span><span class="p">,</span>
       <span class="s2">"segment"</span><span class="p">:</span> <span class="s2">"platinum"</span>
   <span class="p">},</span>
    <span class="s2">"cart"</span><span class="p">:</span> <span class="p">[</span>
     <span class="p">{</span>
       <span class="s2">"product_id"</span><span class="p">:</span><span class="s2">"p1"</span>
       <span class="s2">"variant_id"</span><span class="p">:</span><span class="s2">"v1"</span>
     <span class="p">},</span>
     <span class="p">{</span>
       <span class="s2">"product_id"</span><span class="p">:</span><span class="s2">"p2"</span>
       <span class="s2">"variant_id"</span><span class="p">:</span><span class="s2">"v1"</span>
     <span class="p">},</span>
  <span class="p">]</span>
<span class="p">}</span>

<span class="c1">// The parameters we are going to pass to the fetch function</span>
<span class="kd">let</span> <span class="nx">fetchData</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">method</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
    <span class="na">body</span><span class="p">:</span> <span class="nx">data</span><span class="p">,</span>
    <span class="na">headers</span><span class="p">:</span> <span class="k">new</span> <span class="nx">Headers</span><span class="p">(</span>
      <span class="s2">"Content-Type"</span><span class="p">,</span> <span class="s2">"application/json"</span><span class="p">,</span>
      <span class="s2">"Authorization"</span><span class="p">:</span> <span class="s2">"Basic VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw=="</span>
      <span class="p">)</span>
<span class="p">}</span>
<span class="nx">fetch</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">fetchData</span><span class="p">)</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">res</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">())</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">data</span><span class="p">)</span> <span class="o">=&gt;</span>  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">))</span>
<span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">))</span>
</code></pre>
<blockquote>
<p>The above command returns a 201 response code</p>
</blockquote>
<h2 id='update-user'>Update User</h2>
<p>URL: <code>PUT</code> <code>https://api.datacue.co/v1/users/&lt;user_id&gt;</code></p>

<p>When the user makes changes to their profile or when they configure any relevant preferences. For instance if they indicate their gender, this is very helpful for recommendations.</p>
<pre class="highlight javascript tab-javascript--browser"><code><span class="c1">//backend only event (refer to the python, php or node tab)</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?</span>
<span class="nv">$url</span> <span class="o">=</span> <span class="s2">"https://api.datacue.co/v1/users/:user_id"</span><span class="p">;</span>
<span class="nv">$data</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s2">"profile"</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s2">"location"</span> <span class="o">=&gt;</span> <span class="s2">"singapore"</span>
  <span class="p">)</span>
<span class="p">);</span>

<span class="nv">$content</span> <span class="o">=</span> <span class="nb">json_encode</span><span class="p">(</span><span class="nv">$data</span><span class="p">);</span>

<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">(</span><span class="nv">$url</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_HEADER</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_RETURNTRANSFER</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_HTTPHEADER</span><span class="p">,</span>
        <span class="k">array</span><span class="p">(</span>
          <span class="s2">"Content-type: application/json"</span><span class="p">,</span>
          <span class="s2">"Authorization"</span><span class="o">:</span> <span class="s2">"Basic VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw=="</span>
        <span class="p">));</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_CUSTOMREQUEST</span><span class="p">,</span> <span class="s2">"PUT"</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_POSTFIELDS</span><span class="p">,</span> <span class="nv">$content</span><span class="p">);</span>

<span class="nv">$json_response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.datacue.co/v1/users/:user_id"</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">"Content-type"</span><span class="p">:</span> <span class="s">"application/json"</span><span class="p">,</span>
  <span class="s">"Authorization"</span><span class="p">:</span> <span class="s">"Basic VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw=="</span>
<span class="p">}</span>
<span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s">"profile"</span><span class="p">:</span> <span class="p">{</span>
     <span class="s">"location"</span><span class="p">:</span> <span class="s">"singapore"</span>
   <span class="p">}</span>
 <span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">url</span> <span class="o">=</span> <span class="s2">"https://api.datacue.co/v1/users/:user_id"</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s2">"profile"</span><span class="p">:</span> <span class="p">{</span>
     <span class="s2">"location"</span> <span class="p">:</span> <span class="s2">"singapore"</span>
   <span class="p">}</span>
 <span class="p">}</span>
<span class="c1">// The parameters we are going to pass to the fetch function</span>
<span class="kd">let</span> <span class="nx">fetchData</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">method</span><span class="p">:</span> <span class="s2">"PUT"</span><span class="p">,</span>
    <span class="na">body</span><span class="p">:</span> <span class="nx">data</span><span class="p">,</span>
    <span class="na">headers</span><span class="p">:</span> <span class="k">new</span> <span class="nx">Headers</span><span class="p">(</span>
      <span class="s2">"Content-Type"</span><span class="p">,</span> <span class="s2">"application/json"</span><span class="p">,</span>
      <span class="s2">"Authorization"</span><span class="p">:</span> <span class="s2">"Basic VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw=="</span>
      <span class="p">)</span>
<span class="p">}</span>
<span class="nx">fetch</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">fetchData</span><span class="p">)</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">res</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">())</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">data</span><span class="p">)</span> <span class="o">=&gt;</span>  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">))</span>
<span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">))</span>
</code></pre>
<blockquote>
<p>The above command returns a 204 response code</p>
</blockquote>
<h2 id='delete-user'>Delete User</h2>
<p>URL: <code>DELETE</code> <code>https://api.datacue.co/v1/users/&lt;user_id&gt;</code></p>

<p>When a user account is deleted from your system.</p>
<pre class="highlight javascript tab-javascript--browser"><code><span class="c1">//backend only event (refer to the python, php or node tab)</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?</span>
<span class="nv">$url</span> <span class="o">=</span> <span class="s2">"https://api.datacue.co/v1/users/:user_id"</span><span class="p">;</span>

<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">(</span><span class="nv">$url</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_HEADER</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_RETURNTRANSFER</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_HTTPHEADER</span><span class="p">,</span>
        <span class="k">array</span><span class="p">(</span>
          <span class="s2">"Content-type: application/json"</span><span class="p">,</span>
          <span class="s2">"Authorization"</span><span class="o">:</span> <span class="s2">"Basic VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw=="</span>
        <span class="p">));</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_CUSTOMREQUEST</span><span class="p">,</span> <span class="s2">"DELETE"</span><span class="p">);</span>

<span class="nv">$json_response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.datacue.co/v1/users/:user_id"</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">"Content-type"</span><span class="p">:</span> <span class="s">"application/json"</span><span class="p">,</span>
  <span class="s">"Authorization"</span><span class="p">:</span> <span class="s">"Basic VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw=="</span>
<span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">url</span> <span class="o">=</span> <span class="s2">"https://api.datacue.co/v1/users/:user_id"</span><span class="p">;</span>

<span class="c1">// The parameters we are going to pass to the fetch function</span>
<span class="kd">let</span> <span class="nx">fetchData</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="s2">"DELETE"</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="k">new</span> <span class="nx">Headers</span><span class="p">(</span>
    <span class="s2">"Content-Type"</span><span class="p">,</span> <span class="s2">"application/json"</span><span class="p">,</span>
    <span class="s2">"Authorization"</span><span class="p">:</span> <span class="s2">"Basic VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw=="</span>
  <span class="p">)</span>
<span class="p">}</span>
<span class="nx">fetch</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">fetchData</span><span class="p">)</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">res</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">())</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">data</span><span class="p">)</span> <span class="o">=&gt;</span>  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">))</span>
<span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">))</span>
</code></pre>
<blockquote>
<p>The above command returns a 204 response code</p>
</blockquote>
<h1 id='batch'>Batch</h1><h2 id='batch-create-banners-orders-products-users'>Batch Create Banners / Orders / Products / Users</h2>
<p>URL: <code>POST</code> <code>https://api.datacue.co/v1/batch</code></p>

<p>Use the batch endpoint if you want to do a bulk import, typically when you first start using DataCue and you want to add your historical orders, products or users.</p>

<p>Tell us what you&#39;re sending via the &#39;type&#39; and insert an array of your requests in the batch field.</p>

<p>Best explained with an example: lets say you want to create 500 products in one go. As seen in the previous section, a product create payload looks like this:
<code>json
{
  &quot;product_id&quot;:&quot;P1&quot;,
  &quot;variant_id&quot;:&quot;V2&quot;,
  &quot;category_1&quot;:&quot;jeans&quot;,
  &quot;price&quot;:50,
  &quot;photo_url&quot;:&quot;/products/p1.jpg&quot;,
  &quot;link&quot;:&quot;/products/p1&quot;
}
</code></p>

<p>to submit multiple, just set type to &quot;products&quot; and insert an array of product requests in the batch field like so:</p>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"products"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"batch"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"product_id"</span><span class="p">:</span><span class="s2">"P1"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"variant_id"</span><span class="p">:</span><span class="s2">"V2"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"category_1"</span><span class="p">:</span><span class="s2">"jeans"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"price"</span><span class="p">:</span><span class="mi">50</span><span class="p">,</span><span class="w">
    </span><span class="s2">"photo_url"</span><span class="p">:</span><span class="s2">"/products/p1.jpg"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"link"</span><span class="p">:</span><span class="s2">"/products/p1"</span><span class="w">
  </span><span class="p">},{</span><span class="w">
    </span><span class="s2">"product_id"</span><span class="p">:</span><span class="s2">"P2"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"variant_id"</span><span class="p">:</span><span class="s2">"V1"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"category_1"</span><span class="p">:</span><span class="s2">"shirts"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"price"</span><span class="p">:</span><span class="mi">30</span><span class="p">,</span><span class="w">
    </span><span class="s2">"photo_url"</span><span class="p">:</span><span class="s2">"/products/p2.jpg"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"link"</span><span class="p">:</span><span class="s2">"/products/p2"</span><span class="w">
  </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th style="text-align: center"><strong>Field</strong></th>
<th style="text-align: center"><strong>Data Type</strong></th>
<th style="text-align: center"><strong>Description</strong></th>
<th style="text-align: center"><strong>Mandatory</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">type</td>
<td style="text-align: center">String</td>
<td style="text-align: center">Set to products, orders or users</td>
<td style="text-align: center">Yes</td>
</tr>
<tr>
<td style="text-align: center">batch</td>
<td style="text-align: center">Array</td>
<td style="text-align: center">Array of objects you are sending</td>
<td style="text-align: center">Yes</td>
</tr>
</tbody></table>
<pre class="highlight javascript tab-javascript--browser"><code><span class="c1">//backend only event (refer to the python, php or node tab)</span>
</code></pre><pre class="highlight javascript tab-javascript--browser"><code><span class="c1">//backend only event (refer to the python, php or node tab)</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?</span>
<span class="nv">$url</span> <span class="o">=</span> <span class="s2">"https://api.datacue.co/v1/batch"</span><span class="p">;</span>
<span class="nv">$data</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s2">"type"</span> <span class="o">=&gt;</span> <span class="s2">"users"</span><span class="p">,</span>
  <span class="s2">"batch"</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="k">array</span><span class="p">(</span><span class="s2">"user_id"</span> <span class="o">=&gt;</span> <span class="s2">"u1"</span><span class="p">,</span><span class="s2">"email"</span> <span class="o">=&gt;</span> <span class="s2">"u1@abc.com"</span><span class="p">),</span>
    <span class="k">array</span><span class="p">(</span><span class="s2">"user_id"</span> <span class="o">=&gt;</span> <span class="s2">"u2"</span><span class="p">,</span><span class="s2">"email"</span> <span class="o">=&gt;</span> <span class="s2">"u2@abc.com"</span><span class="p">),</span>
    <span class="k">array</span><span class="p">(</span><span class="s2">"user_id"</span> <span class="o">=&gt;</span> <span class="s2">"u3"</span><span class="p">,</span><span class="s2">"email"</span> <span class="o">=&gt;</span> <span class="s2">"u3@abc.com"</span><span class="p">),</span>
  <span class="p">)</span>
<span class="p">)</span>

<span class="nv">$content</span> <span class="o">=</span> <span class="nb">json_encode</span><span class="p">(</span><span class="nv">$data</span><span class="p">);</span>

<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">(</span><span class="nv">$url</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_HEADER</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_RETURNTRANSFER</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_HTTPHEADER</span><span class="p">,</span>
        <span class="k">array</span><span class="p">(</span>
          <span class="s2">"Content-type: application/json"</span><span class="p">,</span>
          <span class="s2">"Authorization"</span><span class="o">:</span> <span class="s2">"Basic VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw=="</span>
        <span class="p">));</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_POST</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_POSTFIELDS</span><span class="p">,</span> <span class="nv">$content</span><span class="p">);</span>

<span class="nv">$json_response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.datacue.co/v1/batch"</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">"Content-type"</span><span class="p">:</span> <span class="s">"application/json"</span><span class="p">,</span>
  <span class="s">"Authorization"</span><span class="p">:</span> <span class="s">"Basic VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw=="</span>
<span class="p">}</span>
<span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s">"type"</span><span class="p">:</span> <span class="s">"users"</span><span class="p">,</span>
   <span class="s">"batch"</span><span class="p">:</span> <span class="p">[</span>
     <span class="p">{</span>
       <span class="s">"user_id"</span><span class="p">:</span><span class="s">"u1"</span>
       <span class="s">"email"</span><span class="p">:</span><span class="s">"u1@abc.com"</span>
     <span class="p">},</span>
     <span class="p">{</span>
       <span class="s">"user_id"</span><span class="p">:</span><span class="s">"u2"</span>
       <span class="s">"email"</span><span class="p">:</span><span class="s">"u2@abc.com"</span>
     <span class="p">},</span>
     <span class="p">{</span>
       <span class="s">"user_id"</span><span class="p">:</span><span class="s">"u3"</span>
       <span class="s">"email"</span><span class="p">:</span><span class="s">"u3@abc.com"</span>
     <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">url</span> <span class="o">=</span> <span class="s2">"https://api.datacue.co/v1/batch"</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"users"</span><span class="p">,</span>
   <span class="s2">"batch"</span><span class="p">:</span> <span class="p">[</span>
     <span class="p">{</span>
       <span class="s2">"user_id"</span><span class="p">:</span><span class="s2">"u1"</span>
       <span class="s2">"email"</span><span class="p">:</span><span class="s2">"u1@abc.com"</span>
     <span class="p">},</span>
     <span class="p">{</span>
       <span class="s2">"user_id"</span><span class="p">:</span><span class="s2">"u2"</span>
       <span class="s2">"email"</span><span class="p">:</span><span class="s2">"u2@abc.com"</span>
     <span class="p">},</span>
     <span class="p">{</span>
       <span class="s2">"user_id"</span><span class="p">:</span><span class="s2">"u3"</span>
       <span class="s2">"email"</span><span class="p">:</span><span class="s2">"u3@abc.com"</span>
     <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>

<span class="c1">// The parameters we are going to pass to the fetch function</span>
<span class="kd">let</span> <span class="nx">fetchData</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">method</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
    <span class="na">body</span><span class="p">:</span> <span class="nx">data</span><span class="p">,</span>
    <span class="na">headers</span><span class="p">:</span> <span class="k">new</span> <span class="nx">Headers</span><span class="p">(</span>
      <span class="s2">"Content-Type"</span><span class="p">,</span> <span class="s2">"application/json"</span><span class="p">,</span>
      <span class="s2">"Authorization"</span><span class="p">:</span> <span class="s2">"Basic VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw=="</span>
      <span class="p">)</span>
<span class="p">}</span>
<span class="nx">fetch</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">fetchData</span><span class="p">)</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">res</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">())</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">data</span><span class="p">)</span> <span class="o">=&gt;</span>  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">))</span>
<span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">))</span>
</code></pre>
<blockquote>
<p>The above command returns a 207 multi status response code</p>
</blockquote>

<p>We will send you a status for each item you sent, so you can handle and resend only items that had an error.</p>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"product_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"p1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"error"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"error"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Please specify category_1"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"product_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"p2"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OK"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h2 id='batch-update-banners-products-users'>Batch Update Banners / Products / Users</h2>
<p>URL: <code>PUT</code> <code>https://api.datacue.co/v1/batch</code></p>

<p>Update multiple banners, products or users. Note that orders cannot be updated only created or cancelled.</p>
<pre class="highlight javascript tab-javascript--browser"><code><span class="c1">//backend only event (refer to the python, php or node tab)</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?</span>
<span class="nv">$url</span> <span class="o">=</span> <span class="s2">"https://api.datacue.co/v1/batch"</span><span class="p">;</span>
<span class="nv">$data</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s2">"type"</span> <span class="o">=&gt;</span> <span class="s2">"users"</span><span class="p">,</span>
  <span class="s2">"batch"</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="k">array</span><span class="p">(</span><span class="s2">"first_name"</span> <span class="o">=&gt;</span> <span class="s2">"Paulo"</span><span class="p">,</span><span class="s2">"email"</span> <span class="o">=&gt;</span> <span class="s2">"u1@abc.com"</span><span class="p">),</span>
    <span class="k">array</span><span class="p">(</span><span class="s2">"last_name"</span> <span class="o">=&gt;</span> <span class="s2">"Rabani"</span><span class="p">,</span><span class="s2">"email"</span> <span class="o">=&gt;</span> <span class="s2">"u2@abc.com"</span><span class="p">),</span>
    <span class="k">array</span><span class="p">(</span><span class="s2">"first_name"</span> <span class="o">=&gt;</span> <span class="s2">"Hisham"</span><span class="p">,</span><span class="s2">"email"</span> <span class="o">=&gt;</span> <span class="s2">"u3@abc.com"</span><span class="p">),</span>
  <span class="p">)</span>
<span class="p">)</span>

<span class="nv">$content</span> <span class="o">=</span> <span class="nb">json_encode</span><span class="p">(</span><span class="nv">$data</span><span class="p">);</span>

<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">(</span><span class="nv">$url</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_HEADER</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_RETURNTRANSFER</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_HTTPHEADER</span><span class="p">,</span>
        <span class="k">array</span><span class="p">(</span>
          <span class="s2">"Content-type: application/json"</span><span class="p">,</span>
          <span class="s2">"Authorization"</span><span class="o">:</span> <span class="s2">"Basic VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw=="</span>
        <span class="p">));</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_CUSTOMREQUEST</span><span class="p">,</span> <span class="s2">"PUT"</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_POSTFIELDS</span><span class="p">,</span> <span class="nv">$content</span><span class="p">);</span>

<span class="nv">$json_response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.datacue.co/v1/batch"</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">"Content-type"</span><span class="p">:</span> <span class="s">"application/json"</span><span class="p">,</span>
  <span class="s">"Authorization"</span><span class="p">:</span> <span class="s">"Basic VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw=="</span>
<span class="p">}</span>
<span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s">"type"</span><span class="p">:</span> <span class="s">"users"</span><span class="p">,</span>
   <span class="s">"batch"</span><span class="p">:</span> <span class="p">[</span>
     <span class="p">{</span>
       <span class="s">"first_name"</span><span class="p">:</span><span class="s">"Paulo"</span>
       <span class="s">"email"</span><span class="p">:</span><span class="s">"u1@abc.com"</span>
     <span class="p">},</span>
     <span class="p">{</span>
       <span class="s">"last_name"</span><span class="p">:</span><span class="s">"Rabani"</span>
       <span class="s">"email"</span><span class="p">:</span><span class="s">"u2@abc.com"</span>
     <span class="p">},</span>
     <span class="p">{</span>
       <span class="s">"first_name"</span><span class="p">:</span><span class="s">"Hisham"</span>
       <span class="s">"email"</span><span class="p">:</span><span class="s">"u3@abc.com"</span>
     <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>
</code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">url</span> <span class="o">=</span> <span class="s2">"https://api.datacue.co/v1/batch"</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"users"</span><span class="p">,</span>
   <span class="s2">"batch"</span><span class="p">:</span> <span class="p">[</span>
     <span class="p">{</span>
       <span class="s2">"first_name"</span><span class="p">:</span><span class="s2">"Paulo"</span>
       <span class="s2">"email"</span><span class="p">:</span><span class="s2">"u1@abc.com"</span>
     <span class="p">},</span>
     <span class="p">{</span>
       <span class="s2">"last_name"</span><span class="p">:</span><span class="s2">"Rabani"</span>
       <span class="s2">"email"</span><span class="p">:</span><span class="s2">"u2@abc.com"</span>
     <span class="p">},</span>
     <span class="p">{</span>
       <span class="s2">"first_name"</span><span class="p">:</span><span class="s2">"Hisham"</span>
       <span class="s2">"email"</span><span class="p">:</span><span class="s2">"u3@abc.com"</span>
     <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
<span class="c1">// The parameters we are going to pass to the fetch function</span>
<span class="kd">let</span> <span class="nx">fetchData</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">method</span><span class="p">:</span> <span class="s2">"PUT"</span><span class="p">,</span>
    <span class="na">body</span><span class="p">:</span> <span class="nx">data</span><span class="p">,</span>
    <span class="na">headers</span><span class="p">:</span> <span class="k">new</span> <span class="nx">Headers</span><span class="p">(</span>
      <span class="s2">"Content-Type"</span><span class="p">,</span> <span class="s2">"application/json"</span><span class="p">,</span>
      <span class="s2">"Authorization"</span><span class="p">:</span> <span class="s2">"Basic VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw=="</span>
      <span class="p">)</span>
<span class="p">}</span>
<span class="nx">fetch</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">fetchData</span><span class="p">)</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">res</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">())</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">data</span><span class="p">)</span> <span class="o">=&gt;</span>  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">))</span>
<span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">))</span>
</code></pre>
<blockquote>
<p>The above command returns a 207 multi status response code</p>
</blockquote>

<p>We will send you a status for each item you sent, so you can handle and resend only items that had an error.</p>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"banner_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"error"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"error"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Please specify a photo_url"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"banner_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b2"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OK"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h2 id='batch-delete-banners-products-users-or-cancel-orders'>Batch Delete Banners/ Products / Users or Cancel Orders</h2>
<p>URL: <code>DELETE</code> <code>https://api.datacue.co/v1/batch</code></p>

<p>Delete/cancel multiple items within one request. Products, banners and users will be deleted. Orders are an exception, &#39;DELETING&#39; an order marks it as cancelled. Batch DELETE requests only require an id field as follows:</p>

<table><thead>
<tr>
<th style="text-align: center"><strong>Type</strong></th>
<th style="text-align: center"><strong>ID Field(s)</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">banners</td>
<td style="text-align: center">banner_id</td>
</tr>
<tr>
<td style="text-align: center">orders</td>
<td style="text-align: center">order_id</td>
</tr>
<tr>
<td style="text-align: center">products</td>
<td style="text-align: center">product_id and variant_id</td>
</tr>
<tr>
<td style="text-align: center">users</td>
<td style="text-align: center">user_id</td>
</tr>
</tbody></table>
<pre class="highlight javascript tab-javascript--browser"><code><span class="c1">//backend only event (refer to the python, php or node tab)</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?</span>
<span class="nv">$url</span> <span class="o">=</span> <span class="s2">"https://api.datacue.co/v1/batch"</span><span class="p">;</span>
<span class="nv">$data</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s2">"type"</span> <span class="o">=&gt;</span> <span class="s2">"users"</span><span class="p">,</span>
  <span class="s2">"batch"</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="k">array</span><span class="p">(</span><span class="s2">"user_id"</span> <span class="o">=&gt;</span> <span class="s2">"u1"</span><span class="p">),</span>
    <span class="k">array</span><span class="p">(</span><span class="s2">"user_id"</span> <span class="o">=&gt;</span> <span class="s2">"u2"</span><span class="p">),</span>
    <span class="k">array</span><span class="p">(</span><span class="s2">"user_id"</span> <span class="o">=&gt;</span> <span class="s2">"u3"</span><span class="p">),</span>
  <span class="p">)</span>
<span class="p">)</span>

<span class="nv">$content</span> <span class="o">=</span> <span class="nb">json_encode</span><span class="p">(</span><span class="nv">$data</span><span class="p">);</span>

<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">(</span><span class="nv">$url</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_HEADER</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_RETURNTRANSFER</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_HTTPHEADER</span><span class="p">,</span>
        <span class="k">array</span><span class="p">(</span>
          <span class="s2">"Content-type: application/json"</span><span class="p">,</span>
          <span class="s2">"Authorization"</span><span class="o">:</span> <span class="s2">"Basic VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw=="</span>
        <span class="p">));</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_CUSTOMREQUEST</span><span class="p">,</span> <span class="s2">"DELETE"</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_POSTFIELDS</span><span class="p">,</span> <span class="nv">$content</span><span class="p">);</span>

<span class="nv">$json_response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="cp">?&gt;</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.datacue.co/v1/batch</span><span class="err">
</span><span class="s">headers = {</span><span class="err">
</span><span class="s">  "</span><span class="n">Content</span><span class="o">-</span><span class="nb">type</span><span class="s">": "</span><span class="n">application</span><span class="o">/</span><span class="n">json</span><span class="s">",</span><span class="err">
</span><span class="s">  "</span><span class="n">Authorization</span><span class="s">": "</span><span class="n">Basic</span> <span class="n">VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw</span><span class="o">==</span><span class="s">"</span><span class="err">
</span><span class="s">}</span><span class="err">
</span><span class="s">data = {</span><span class="err">
</span><span class="s">   "</span><span class="nb">type</span><span class="s">": "</span><span class="n">users</span><span class="s">",</span><span class="err">
</span><span class="s">   "</span><span class="n">batch</span><span class="s">": [</span><span class="err">
</span><span class="s">     {</span><span class="err">
</span><span class="s">       "</span><span class="n">user_id</span><span class="s">":"</span><span class="n">u1</span><span class="s">"</span><span class="err">
</span><span class="s">     },</span><span class="err">
</span><span class="s">     {</span><span class="err">
</span><span class="s">       "</span><span class="n">user_id</span><span class="s">":"</span><span class="n">u2</span><span class="s">"</span><span class="err">
</span><span class="s">     },</span><span class="err">
</span><span class="s">     {</span><span class="err">
</span><span class="s">       "</span><span class="n">user_id</span><span class="s">":"</span><span class="n">u3</span><span class="s">"</span><span class="err">
</span><span class="s">     }</span><span class="err">
</span><span class="s">  ]</span><span class="err">
</span><span class="s">}</span><span class="err">

</span><span class="s">response = requests.delete(url, data=data, headers=headers)</span><span class="err">
</span></code></pre><pre class="highlight javascript tab-javascript--node"><code><span class="kr">const</span> <span class="nx">url</span> <span class="o">=</span> <span class="s2">"https://api.datacue.co/v1/batch"</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"users"</span><span class="p">,</span>
   <span class="s2">"batch"</span><span class="p">:</span> <span class="p">[</span>
     <span class="p">{</span>
       <span class="s2">"user_id"</span><span class="p">:</span><span class="s2">"u1"</span>
     <span class="p">},</span>
     <span class="p">{</span>
       <span class="s2">"user_id"</span><span class="p">:</span><span class="s2">"u2"</span>
     <span class="p">},</span>
     <span class="p">{</span>
       <span class="s2">"user_id"</span><span class="p">:</span><span class="s2">"u3"</span>
     <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
<span class="c1">// The parameters we are going to pass to the fetch function</span>
<span class="kd">let</span> <span class="nx">fetchData</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">method</span><span class="p">:</span> <span class="s2">"DELETE"</span><span class="p">,</span>
    <span class="na">body</span><span class="p">:</span> <span class="nx">data</span><span class="p">,</span>
    <span class="na">headers</span><span class="p">:</span> <span class="k">new</span> <span class="nx">Headers</span><span class="p">(</span>
      <span class="s2">"Content-Type"</span><span class="p">,</span> <span class="s2">"application/json"</span><span class="p">,</span>
      <span class="s2">"Authorization"</span><span class="p">:</span> <span class="s2">"Basic VGhpcyBpcyBhbiBlbmNvZGVkIHN0cmluZw=="</span>
      <span class="p">)</span>
<span class="p">}</span>
<span class="nx">fetch</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">fetchData</span><span class="p">)</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">res</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">())</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">data</span><span class="p">)</span> <span class="o">=&gt;</span>  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">))</span>
<span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">))</span>
</code></pre>
<blockquote>
<p>The above command returns a 207 multi status response code</p>
</blockquote>

<p>We will send you a status for each item you sent, so you can handle and resend only items that had an error.</p>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"product_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"p1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"error"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"error"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Product not found"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"product_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"p2"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OK"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h1 id='errors'>Errors</h1>
<p>The API returns 3 types of error codes:</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request -- Your request is invalid. With a payload that has a descriptive error message. We&#39;re always trying to improve so let us know if you encounter any issues interpreting the error message.</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized -- Specified the wrong API key or API secret. Incorrectly formatted authorization header. Specifying an API secret in an endpoint that only requires an API key</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error -- We had a problem with our server. Try again later.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="javascript--browser">javascript</a>
                <a href="#" data-language-name="php">php</a>
                <a href="#" data-language-name="python">python</a>
                <a href="#" data-language-name="javascript--node">node</a>
          </div>
      </div>
    </div>
  </body>
</html>
